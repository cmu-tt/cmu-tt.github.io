"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[90],{5090:function(e,n,s){s.r(n),s.d(n,{default:function(){return I}});var l=s(3396),t=s(7139),i=s(9242);const a=e=>((0,l.dD)("data-v-a9655d08"),e=e(),(0,l.Cn)(),e),c={class:"settings"},_=a((()=>(0,l._)("header",{class:"modal_header"},[(0,l._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),o={class:"overlay_contents"},d=a((()=>(0,l._)("div",{class:"overlay_contents_text"}," You can link a personal (non-mvla.net) account to access MVTT when not signed into your school account below! ",-1))),u={class:"inputs_row"},r={class:"styled_input styled_links_box"},h={class:"styled_links_display"},k={key:0,class:"placeholder"},m={key:1,class:"styled_line_links"},v=["onClick"],w=a((()=>(0,l._)("div",{class:"remove_icon"},null,-1))),y=[w],p={class:"styled_line_links__email"},b=a((()=>(0,l._)("hr",{class:"styled_links_separator"},null,-1))),f={class:"styled_links_add"},g=["disabled"],x=a((()=>(0,l._)("div",{class:"overlay_contents_text"},[(0,l.Uk)(" To change your theme, use the "),(0,l._)("span",{class:"button_pointer_text button_pointer_icon"},[(0,l._)("div",{class:"theme_icon"}),(0,l.Uk)(" Switch Theme ")]),(0,l.Uk)(" button on the left sidebar ")],-1))),C={class:"bottom_actions"},D=a((()=>(0,l._)("div",{class:"flex_spacer"},null,-1))),U=["disabled"];function T(e,n,s,a,w,T){return(0,l.wg)(),(0,l.iD)("div",c,[_,(0,l._)("div",o,[d,(0,l._)("div",u,[(0,l._)("div",r,[(0,l._)("div",h,[T.store.linked_accounts&&T.store.linked_accounts.length?((0,l.wg)(),(0,l.iD)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(T.store.linked_accounts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"styled_line_links__account",key:e},[(0,l._)("div",{class:"styled_line_links__remove",onClick:n=>T.unlink_account(e),title:"Remove Account"},y,8,v),(0,l._)("div",p,(0,t.zw)(e),1)])))),128))])):((0,l.wg)(),(0,l.iD)("span",k,"No linked accounts, add one below"))]),b,(0,l._)("div",f,[(0,l.wy)((0,l._)("input",{class:"styled_links_add__text",type:"email",onInput:n[0]||(n[0]=(...e)=>T.fix_email&&T.fix_email(...e)),onUpdate:n[1]||(n[1]=(...e)=>T.fix_email&&T.fix_email(...e)),"onUpdate:modelValue":n[2]||(n[2]=e=>w.new_email=e),placeholder:"Personal Email"},null,544),[[i.nr,w.new_email]]),(0,l._)("button",{class:"styled_links_add__action",onClick:n[3]||(n[3]=(...e)=>T.link_account&&T.link_account(...e)),disabled:!T.ready_to_link}," Add ",8,g)])])]),x]),(0,l._)("div",C,[(0,l._)("button",{class:"back_action",onClick:n[4]||(n[4]=n=>e.$emit("close"))},(0,t.zw)(w.changed?"Cancel":"Close"),1),D,(0,l._)("button",{class:"continue_action",disabled:!w.changed,onClick:n[5]||(n[5]=(...e)=>T.save&&T.save(...e))},"Save",8,U)])])}var $=s(8980),A={name:"SettingsModal",emits:["close"],data(){return{changed:!1,new_email:""}},computed:{store(){return(0,$.h)()},ready_to_link(){return this.new_email&&!this.store.linked_accounts?.includes(this.new_email)}},methods:{save(){this.$emit("close")},link_account(){this.store.link_account(this.new_email),this.new_email="",this.changed=!0},unlink_account(e){this.store.unlink_account(e),this.changed=!0},fix_email(){if(this.new_email.includes("@")){let[e,n]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${n}`)}}}},S=s(89);const z=(0,S.Z)(A,[["render",T],["__scopeId","data-v-a9655d08"]]);var I=z}}]);
//# sourceMappingURL=90.b9ccda9e.js.map