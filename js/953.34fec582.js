"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[953],{4953:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ke}});var a=s(3396),n=s(7139);const o={class:"portal"},l={class:"portal_info"},i={class:"portal_info_title"},c={class:"portal_info_usertype"},r={class:"portal_info_date"},_={class:"portal_info_welcome"};function d(e,t,s,d,h,u){const m=(0,a.up)("LeftBar"),g=(0,a.up)("CalendarBlock"),p=(0,a.up)("RightBar");return(0,a.wg)(),(0,a.iD)("main",o,[(0,a.Wm)(m,{ref:"LeftBar",onClose_right_bar:u.close_right_bar},null,8,["onClose_right_bar"]),(0,a._)("div",{class:"portal_content",onClick:t[0]||(t[0]=e=>{u.close_right_bar(),u.close_left_bar()})},[(0,a._)("header",l,[(0,a._)("div",i,[(0,a._)("span",c,(0,n.zw)(u.store.doc&&u.store.doc.is_teacher?"Teacher":"Student")+" Dashboard",1),(0,a._)("span",r,(0,n.zw)((new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)]),(0,a._)("div",_,"Welcome Back "+(0,n.zw)(u.name),1)]),(0,a.Wm)(g,{onTestclick:u.placeholderToast},null,8,["onTestclick"])]),(0,a.Wm)(p,{ref:"RightBar",onClose_left_bar:u.close_left_bar},null,8,["onClose_left_bar"])])}const h=e=>((0,a.dD)("data-v-069903e3"),e=e(),(0,a.Cn)(),e),u=h((()=>(0,a._)("div",{class:"branding-title gohome"},"MV Test Tracker",-1))),m=h((()=>(0,a._)("div",{class:"flex-spacer"},null,-1))),g=h((()=>(0,a._)("button",{class:"settings_button click-action",title:"Open Settings"},[(0,a._)("div",{class:"settings_icon"}),(0,a._)("div",{class:"toggle_text"},"Settings")],-1)));function p(e,t,s,o,l,i){const c=(0,a.up)("ClassList"),r=(0,a.up)("SidebarToggle");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["left-bar portal_sidebar",{active:l.sidebar_open}]),onClick:t[0]||(t[0]=(...e)=>i.show_if_inactive&&i.show_if_inactive(...e))},[u,(0,a.Wm)(c),m,g,(0,a.Wm)(r,{class:"right",onClick:i.close_sidebar},null,8,["onClick"])],2)}const v=e=>((0,a.dD)("data-v-2e4cb15c"),e=e(),(0,a.Cn)(),e),w={class:"sidebar_toggle click-action",title:"Close Sidebar"},b=v((()=>(0,a._)("div",{class:"arrow-icon"},null,-1))),D=[b];function y(e,t,s,n,o,l){return(0,a.wg)(),(0,a.iD)("button",w,D)}var f={name:"SidebarToggle"},k=s(89);const C=(0,k.Z)(f,[["render",y],["__scopeId","data-v-2e4cb15c"]]);var T=C;s(7658);const S=e=>((0,a.dD)("data-v-207518dd"),e=e(),(0,a.Cn)(),e),L={class:"class_list"},z={key:0,class:"class_list__not_empty"},B=S((()=>(0,a._)("h5",null,"Classes",-1))),M=S((()=>(0,a._)("hr",{class:"class_list_hr"},null,-1))),x={class:"classes_container"},U={class:"class_name"},W=S((()=>(0,a._)("div",{class:"class_swatch"},[(0,a._)("div",{class:"class_swatch__add_icon"})],-1))),Y=S((()=>(0,a._)("span",{class:"class_name"},"Add a Class",-1))),Z=[W,Y],E={key:1,class:"class_list__empty"};function I(e,t,s,o,l,i){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",L,[i.classes?((0,a.wg)(),(0,a.iD)("div",z,[B,M,(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.classes,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"classes_container_class",key:e.name},[(0,a._)("span",{class:"class_swatch",style:(0,n.j5)({"--color-class":e.color})},null,4),(0,a._)("span",U,(0,n.zw)(e.name),1)])))),128)),(0,a._)("div",{class:"classes_container_class classes_container_class__add_class",onClick:t[0]||(t[0]=t=>e.$router.push("/portal/classes"))},Z)])])):((0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("h5",null,[(0,a.Uk)(" No Classes Yet. "),(0,a.Wm)(c,{to:"/portal/classes"},{default:(0,a.w5)((()=>[(0,a.Uk)("Add Some!")])),_:1})])]))])}var $=s(8980),N={name:"ClassList",computed:{store(){return(0,$.h)()},classes(){return this.store.classes}}};const R=(0,k.Z)(N,[["render",I],["__scopeId","data-v-207518dd"]]);var j=R,A={name:"LeftBar",components:{SidebarToggle:T,ClassList:j},emits:["close_right_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_right_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const F=(0,k.Z)(A,[["render",p],["__scopeId","data-v-069903e3"]]);var H=F;const K=e=>((0,a.dD)("data-v-09baa010"),e=e(),(0,a.Cn)(),e),O=K((()=>(0,a._)("div",{class:"auth-action can-logout doprompt"},"Log Out",-1))),q=K((()=>(0,a._)("div",{class:"flex-spacer"},null,-1))),P=K((()=>(0,a._)("div",{class:"info_icon"},null,-1))),V=[P];function G(e,t,s,o,l,i){const c=(0,a.up)("UpcomingTests"),r=(0,a.up)("SidebarToggle");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["right-bar portal_sidebar",{active:l.sidebar_open}]),onClick:t[1]||(t[1]=(...e)=>i.show_if_inactive&&i.show_if_inactive(...e))},[O,(0,a.Wm)(c),q,(0,a._)("button",{class:"info_button click-action",title:"About MV Test Tracker",onClick:t[0]||(t[0]=t=>e.$router.push("/about"))},V),(0,a.Wm)(r,{onClick:i.close_sidebar},null,8,["onClick"])],2)}const J=e=>((0,a.dD)("data-v-e95e3768"),e=e(),(0,a.Cn)(),e),Q={class:"upcoming_tests"},X={key:0,class:"upcoming_tests__not_empty"},ee=J((()=>(0,a._)("h5",null,"Upcoming Tests",-1))),te=J((()=>(0,a._)("hr",{class:"upcoming_tests_hr"},null,-1))),se={class:"tests_container"},ae={key:1,class:"upcoming_tests__empty"},ne=J((()=>(0,a._)("h5",null,"No Upcoming Tests!",-1))),oe=[ne];function le(e,t,s,n,o,l){const i=(0,a.up)("ExamCard");return(0,a.wg)(),(0,a.iD)("div",Q,[l.tests?((0,a.wg)(),(0,a.iD)("div",X,[ee,te,(0,a._)("div",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tests,(e=>((0,a.wg)(),(0,a.j4)(i,{class:"tests_container_test",test:e,key:e.name},null,8,["test"])))),128))])])):((0,a.wg)(),(0,a.iD)("div",ae,oe))])}const ie=(0,a._)("div",{class:"test_card_icon"},[(0,a._)("div",{class:"test_card_icon_container"},[(0,a._)("div",{class:"test_card_icon_container__img"})])],-1),ce={class:"test_card_details"},re={class:"test_card_details__title"},_e={class:"test_card_details__date"};function de(e,t,s,o,l,i){return(0,a.wg)(),(0,a.iD)("div",{class:"test_card",style:(0,n.j5)({"--color-calendar-test":s.test.color})},[ie,(0,a._)("div",ce,[(0,a._)("div",re,(0,n.zw)(s.test.name),1),(0,a._)("div",_e,(0,n.zw)(s.test.date.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})),1)])],4)}var he={name:"ExamCard",props:{test:{type:Object,required:!0}}};const ue=(0,k.Z)(he,[["render",de]]);var me=ue,ge={name:"UpcomingTests",components:{ExamCard:me},computed:{store(){return(0,$.h)()},tests(){return this.store.tests.filter((e=>e.date-Date.now()<2592e6)).sort(((e,t)=>e.date<t.date?-1:e.date>t.date?1:0)).slice(0,4)}}};const pe=(0,k.Z)(ge,[["render",le],["__scopeId","data-v-e95e3768"]]);var ve=pe,we={name:"RightBar",components:{SidebarToggle:T,UpcomingTests:ve},emits:["close_left_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_left_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const be=(0,k.Z)(we,[["render",G],["__scopeId","data-v-09baa010"]]);var De=be;const ye=e=>((0,a.dD)("data-v-13d5e1cc"),e=e(),(0,a.Cn)(),e),fe={class:"calendar"},ke={class:"calendar_header"},Ce=["title"],Te={class:"calendar_actions"},Se=ye((()=>(0,a._)("div",{class:"action_icon arrow-icon left"},null,-1))),Le=[Se],ze=ye((()=>(0,a._)("div",{class:"action_icon arrow-icon right"},null,-1))),Be=[ze],Me={class:"calendar_days_container"},xe={class:"calendar_days"},Ue={class:"calendar_day_date"},We={class:"calendar_day_date__short"},Ye={class:"calendar_day_date__long",style:{display:"none"}},Ze={class:"calendar_day_tests"},Ee=["title","onClick"],Ie={key:0,class:"calendar__no_tests",style:{display:"none"}};function $e(e,t,s,o,l,i){return(0,a.wg)(),(0,a.iD)("main",fe,[(0,a._)("div",ke,[(0,a._)("div",{class:"calendar_date",title:l.loaded_month.toDateString()},(0,n.zw)(l.loaded_month.toLocaleDateString("en-US",{month:"long",year:"numeric"})),9,Ce),(0,a._)("nav",Te,[(0,a._)("button",{class:"calendar_action",onClick:t[0]||(t[0]=(...e)=>i.prev_month&&i.prev_month(...e)),title:"Previous month"},Le),(0,a._)("button",{class:"calendar_action",onClick:t[1]||(t[1]=(...e)=>i.this_month&&i.this_month(...e)),title:"Current month"},[(0,a._)("div",{class:(0,n.C_)(["action_icon cal-icon",{alt:i.tests.length}])},null,2)]),(0,a._)("button",{class:"calendar_action",onClick:t[2]||(t[2]=(...e)=>i.next_month&&i.next_month(...e)),title:"Next month"},Be)])]),(0,a._)("div",Me,[(0,a._)("div",xe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.days,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["calendar_day",{calendar_day__placeholder:t.is_placeholder,calendar_day__hastest:!!t.tests&&t.tests.length,calendar_day__today:t.is_today}]),key:t.date},[(0,a._)("div",Ue,[(0,a._)("span",We,(0,n.zw)(new Date(t.date).getDate()),1),(0,a._)("span",Ye,(0,n.zw)(new Date(t.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})),1)]),(0,a._)("div",Ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tests,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"calendar_day_test",key:t.name,title:t.classes_class,style:(0,n.j5)({"--color-calendar-test":t.color}),onClick:s=>e.$emit("testclick",t)},[(0,a._)("span",null,(0,n.zw)(t.name),1)],12,Ee)))),128))])],2)))),128)),i.tests_loaded_month?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ie," Relax! No Tests. "))])])])}var Ne={name:"CalendarBlock",emits:["testclick"],data(){return{loaded_month:new Date((new Date).setDate(1))}},methods:{day_matches(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},get_day_tests(e){return this.tests.filter((t=>{const s=new Date(t.date);return this.day_matches(s,e)}))},next_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()+1))},this_month(){this.loaded_month=new Date((new Date).setDate(1))},prev_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()-1))}},computed:{tests_loaded_month(){return this.tests.some((e=>{const t=new Date(e.date);return t.getMonth()===this.loaded_month.getMonth()&&t.getFullYear()===this.loaded_month.getFullYear()}))},tests(){const e=(0,$.h)();return e.tests},days(){const e=[],t=this.loaded_month.getTime();function s(){return new Date(t)}const a=new Date(s().setDate(1)),n=new Date(s().setMonth(s().getMonth()+1,0));for(let o=a.getDay();o>0;o--)e.push({date:new Date(s().setDate(-o)),is_placeholder:!0});for(let o=1;o<=n.getDate();o++){const t=new Date(s().setDate(o));e.push({date:t,tests:this.get_day_tests(t),is_today:this.day_matches(t,new Date)})}for(let o=1;e.length<42;o++)e.push({date:s().setDate(n.getDate()+o),is_placeholder:!0});return e}}};const Re=(0,k.Z)(Ne,[["render",$e],["__scopeId","data-v-13d5e1cc"]]);var je=Re,Ae=s(1708),Fe={name:"AppPortal",components:{LeftBar:H,RightBar:De,CalendarBlock:je},computed:{store(){return(0,$.h)()},name(){let e=this.store;return e.user&&e.user.displayName?e.user.displayName.split(" ")[0]:"User"}},methods:{close_left_bar(){this.$refs.LeftBar.close_sidebar()},close_right_bar(){this.$refs.RightBar.close_sidebar()},placeholderToast:Ae.gy}};const He=(0,k.Z)(Fe,[["render",d],["__scopeId","data-v-73d0adc4"]]);var Ke=He}}]);
//# sourceMappingURL=953.34fec582.js.map