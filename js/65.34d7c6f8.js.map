{"version":3,"file":"js/65.34d7c6f8.js","mappings":"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","sources":["webpack://mvtime/./src/components/ToggleBar.vue","webpack://mvtime/./src/components/ToggleBar.vue?75d5","webpack://mvtime/./src/views/Portal/SettingsModal.vue","webpack://mvtime/./src/views/Portal/SettingsModal.vue?2de1"],"sourcesContent":["<template>\n  <div\n    class=\"toggle_switch\"\n    :class=\"{ toggle_switch__on: is_on, transition: !loads }\"\n    :disabled=\"disabled\"\n    @click=\"toggle\"\n  >\n    <div v-if=\"loads\" class=\"toggle_switch__loading\" :class=\"{ is_loading: loading }\">\n      <span class=\"loading_bg\"></span>\n    </div>\n    <div class=\"toggle_switch_knob\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ToggleBar\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    loads: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: [\"update\"],\n  data() {\n    return {\n      is_on: this.value,\n      loading: false,\n    };\n  },\n  watch: {\n    value() {\n      this.is_on = this.value;\n      this.loading = false;\n    },\n  },\n  methods: {\n    toggle() {\n      if (this.disabled) return;\n      if (this.loads) {\n        this.loading = true;\n      } else {\n        this.is_on = !this.is_on;\n      }\n      this.$emit(\"update\", !this.is_on);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.toggle_switch {\n  display: inline-block;\n  overflow: hidden;\n  user-select: none;\n  font-size: 1.4em;\n  width: 2.2em;\n  height: 1em;\n  border-radius: var(--radius-button-display);\n  background-color: var(--color-button-display);\n  position: relative;\n  cursor: pointer;\n  opacity: 0.8;\n}\n.toggle_switch.transition {\n  transition: background-color 0.2s ease-in-out;\n}\n.toggle_switch[disabled=\"true\"] {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.toggle_switch_knob {\n  width: calc(1em - 6px);\n  height: calc(1em - 6px);\n  border-radius: calc(0.7 * var(--radius-button-display));\n  background-color: var(--color-on-overlay-input);\n  position: absolute;\n  top: 3px;\n  left: 3px;\n\n  opacity: 0.3;\n}\n.toggle_switch .toggle_switch_knob {\n  transition: left 0.1s ease-in-out, scale 0.1s ease-in-out;\n}\n.toggle_switch.transition .toggle_switch_knob {\n  transition: left 0.2s ease-in-out, background-color 0.2s ease-in-out, opacity 0.2s ease-in-out,\n    scale 0.1s ease-in-out;\n}\nmain.parent:not(.simplified) .toggle_switch:not([disabled=\"true\"]):hover .toggle_switch_knob {\n  left: 6px;\n  scale: 0.9;\n}\n\nmain.parent:not(.simplified)\n  .toggle_switch:not([disabled=\"true\"]).toggle_switch__on:hover\n  .toggle_switch_knob {\n  left: calc(100% - 1em);\n}\n\n.toggle_switch__on {\n  background-color: var(--color-theme-alt);\n}\n.toggle_switch__on .toggle_switch_knob {\n  left: calc(100% - 1em + 3px);\n  background-color: var(--color-theme);\n  opacity: 1;\n}\n\n.toggle_switch__loading {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  background-color: var(--color-button-display);\n  opacity: 0;\n  transition: opacity 0.05s ease-in-out;\n  transition-delay: 0.1s;\n}\n.toggle_switch__loading.is_loading {\n  opacity: 1;\n}\n.toggle_switch__loading > .loading_bg {\n  display: block;\n  width: 100%;\n  height: 100%;\n  background-size: 1.5em;\n  filter: invert(0.8);\n}\n</style>\n","import { render } from \"./ToggleBar.vue?vue&type=template&id=521703de&scoped=true\"\nimport script from \"./ToggleBar.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleBar.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleBar.vue?vue&type=style&index=0&id=521703de&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-521703de\"]])\n\nexport default __exports__","<template>\n  <div class=\"settings\">\n    <header class=\"modal_header\">\n      <h2 class=\"header_style modal_header_title\">Account Preferences</h2>\n    </header>\n    <div class=\"overlay_contents\">\n      <div v-if=\"!$store.is_teacher\" class=\"overlay_contents_section\">\n        <div class=\"overlay_contents_text\">\n          You can link a personal (non-{{ $store.ORG_DOMAIN.substring(1) }}) account to access\n          {{ $env.VUE_APP_BRAND_SHORT_NAME }} when not signed into your school account below!\n        </div>\n        <div class=\"overlay_contents_text\" v-if=\"$store.personal_account\">\n          <br />\n          You're currently signed in using a personal account. You can unlink it, or link more\n          emails, through your main account.\n        </div>\n        <div class=\"inputs_row linked_accounts_row\">\n          <div class=\"styled_input styled_links_box\">\n            <div class=\"styled_links_display\">\n              <span\n                v-if=\"!$store.linked_accounts || !$store.linked_accounts.length\"\n                class=\"placeholder\"\n                >No linked accounts, add one below</span\n              >\n              <div v-else class=\"styled_line_links\">\n                <div\n                  class=\"styled_line_links__account\"\n                  v-for=\"email in $store.linked_accounts\"\n                  :class=\"{ active: $store.personal_account && $store.user.email == email }\"\n                  :key=\"email\"\n                >\n                  <div\n                    class=\"styled_line_links__remove\"\n                    @click=\"uninvite_linked(email)\"\n                    v-if=\"!$store.personal_account\"\n                    title=\"Remove Account\"\n                  >\n                    <div class=\"remove_icon\"></div>\n                  </div>\n                  <div class=\"styled_line_links__email\">{{ email }}</div>\n                </div>\n              </div>\n            </div>\n            <hr class=\"styled_links_separator\" />\n            <div class=\"styled_links_add\" :class=\"{ links_personal: $store.personal_account }\">\n              <input\n                class=\"styled_links_add__text\"\n                type=\"email\"\n                @input=\"fix_email\"\n                @update=\"fix_email\"\n                v-model=\"new_email\"\n                placeholder=\"Personal Email\"\n                :disabled=\"$store.personal_account || loading\"\n              />\n              <button\n                class=\"styled_links_add__action\"\n                @click=\"invite_linked\"\n                :disabled=\"!ready_to_link\"\n              >\n                {{ $store.personal_account ? \"UNAVALIABLE\" : \"Add\" }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"!$store.personal_account\" class=\"overlay_contents_text overlay_contents_section\">\n        Click\n        <span\n          class=\"button_pointer_text click-action\"\n          @click=\"\n            $store.toggle_teacher();\n            changed = true;\n          \"\n        >\n          here </span\n        >&MediumSpace; to {{ $store.is_teacher ? \"disable\" : \"enable\" }} teacher mode\n        <span v-if=\"$store.is_teacher\">and return to the student view.</span>\n        <span v-else\n          >to create, and manage your own classes and tasks. This may require setup by an admin if\n          you do not have a teacher email.</span\n        >\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <div class=\"notes_priority_section\">\n          <ToggleBar\n            class=\"click-action\"\n            :value=\"prioritize_notes\"\n            @update=\"\n              update_account_pref('derank_notes', !$event, [\n                'We\\'ll show notes above other items on your claendar',\n                'You won\\'t see notes above other items anymore',\n              ])\n            \"\n            :loads=\"true\"\n          />\n          &nbsp;\n          <span\n            >Notes priority set to <b>{{ prioritize_notes ? \"high\" : \"low\" }}</b></span\n          >\n        </div>\n        <div class=\"show_finished_section\">\n          <ToggleBar\n            class=\"click-action\"\n            :value=\"include_finished\"\n            @update=\"\n              update_account_pref('hide_finished', !$event, [\n                'You\\'ll see finished tasks in your calendar',\n                'You won\\'t see finished tasks in your calendar anymore',\n              ])\n            \"\n            :loads=\"true\"\n          />\n          &nbsp;\n          <span\n            >Finished tasks <b> {{ include_finished ? \"shown\" : \"not shown\" }}</b> in calendar</span\n          >\n        </div>\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <div class=\"pause_popup_section\">\n          <ToggleBar\n            class=\"click-action\"\n            :value=\"show_timeout\"\n            @update=\"\n              update_account_pref('hide_timeout', $event, [\n                'We\\'ll show the popup when your session times out',\n                'You won\\'t see the timeout popup anymore',\n              ])\n            \"\n            :loads=\"true\"\n          />\n          &nbsp;\n          <span\n            >Session timeout popup <b>{{ show_timeout ? \"enabled\" : \"disabled\" }}</b></span\n          >\n        </div>\n        <div class=\"pause_popup_section__details overlay_contents_section_details\">\n          The popup helps conserve local and network resources. To have\n          {{ $env.VUE_APP_BRAND_SHORT_NAME }} open on the side without it getting in the way, you\n          can toggle it above, though you may then have to reload to get the newest data\n        </div>\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        To change your theme, use the\n        <span\n          id=\"theme_pointer_button\"\n          class=\"button_pointer_text button_pointer_icon click-action\"\n          @click=\"$store.toggle_theme()\"\n        >\n          <div class=\"theme_icon icon\"></div>\n          Switch Theme\n        </span>\n        button on the left sidebar or homepage\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        To see how you've been feeling,\n        <span\n          id=\"stats_pointer_button\"\n          class=\"button_pointer_text button_pointer_icon click-action\"\n          @click=\"$router.push({ name: 'stats', query: $route.query })\"\n        >\n          <div class=\"stats_icon themed_icon icon\"></div>\n          View your stats\n        </span>\n        and get an insight into your mental health and productivity\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <span class=\"tutorial_redo_section\">\n          Feeling lost? Try\n          <span\n            class=\"button_pointer_text click-action\"\n            @click=\"\n              changed = true;\n              $store.finish_tutorial(false).then(() => {\n                $emit('close');\n              });\n            \"\n          >\n            redoing the tutorial </span\n          >. We'll keep this updated as we add new features!\n        </span>\n        <span class=\"simplified_view_section\">\n          You can also\n          <span\n            class=\"button_pointer_text click-action\"\n            @click=\"\n              changed = true;\n              $store.set_account_pref('simplified', !$store.simplified);\n            \"\n          >\n            {{ $store.simplified ? \"leave\" : \"enter\" }} simplified view\n          </span>\n          to\n          <span v-if=\"!$store.simplified\"\n            >make {{ $env.VUE_APP_BRAND_SHORT_NAME }} easier to use on slower devices</span\n          >\n          <span v-else>get back the classic interface</span>.\n        </span>\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <p class=\"email_text\">\n          You can find controls for your email preferences below. You're opted into all important\n          emails by default.\n        </p>\n        <div class=\"email_sections\">\n          <div\n            class=\"email_section\"\n            v-for=\"email_category in email_categories\"\n            :key=\"email_category.sort_as\"\n          >\n            <ToggleBar\n              class=\"click-action\"\n              :value=\"!unsubed_from[email_category.sort_as]\"\n              :disabled=\"email_category.locked\"\n              @update=\"update_email_pref(email_category.key, email_category.description)\"\n              :loads=\"true\"\n            />\n            &nbsp;\n            <span>{{ email_category.label }}</span>\n          </div>\n        </div>\n        <div class=\"email_section__details overlay_contents_section_details\">\n          We'll try to send you as few emails as possible, but some notifications are essential to\n          the operation of {{ $env.VUE_APP_BRAND_SHORT_NAME }}, such as those for account linkage\n          and important account changes. Note that linked accounts may also inherit some of your\n          email preferences from their student account.\n        </div>\n      </div>\n    </div>\n    <div class=\"bottom_actions\">\n      <button\n        v-if=\"!$store.personal_account\"\n        class=\"back_action click_escape\"\n        @click=\"$emit('close')\"\n      >\n        {{ changed || loading ? \"Cancel\" : \"Close\" }}\n      </button>\n      <div class=\"flex_spacer\"></div>\n      <button\n        class=\"continue_action click_ctrlenter\"\n        :class=\"{ loading_bg: loading }\"\n        :disabled=\"!$store.personal_account && !changed && !$store.is_teacher\"\n        @click=\"\n          if ($store.personal_account || $store.is_teacher) {\n            $emit('close');\n          } else {\n            save();\n          }\n        \"\n      >\n        {{\n          changed\n            ? \"Finish\"\n            : $store.personal_account\n            ? \"Close\"\n            : $store.is_teacher\n            ? \"Done\"\n            : \"Finish\"\n        }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * Settings modal for managing user preferences.\n *\n * @module SettingsModal\n * @description Modal that allows users to manage their settings, which is at this point just linked accounts.\n * @requires module:store/MainStore\n * @emits {Function} close - An event emitted when the modal is closed.\n */\n\nimport ToggleBar from \"@/components/ToggleBar.vue\";\nimport \"@/assets/style/overlay.css\";\nimport { SuccessToast, ErrorToast } from \"@svonk/util\";\nexport default {\n  name: \"SettingsModal\",\n  emits: [\"close\"],\n  components: {\n    ToggleBar,\n  },\n  data() {\n    return {\n      changed: false,\n      loading: false,\n      new_email: \"\",\n      email_categories: [\n        {\n          key: \"task-created\",\n          label: \"Task creation notifications\",\n          description: \"emails about newly created tasks\",\n          sort_as: \"task-created\",\n        },\n        {\n          key: \"task-updated\",\n          label: \"Task update notifications\",\n          description: \"emails about changed tasks\",\n          sort_as: \"task-updated\",\n        },\n        {\n          key: \"task-moved\",\n          label: \"Task date change notifications\",\n          description: \"emails when tasks are moved\",\n          sort_as: \"task-moved\",\n        },\n        {\n          key: \"task-archived\",\n          label: \"Task deletion notifications\",\n          description: \"emails about removed tasks\",\n          sort_as: \"task-archived\",\n        },\n        {\n          key: \"scheduled-weekly\",\n          label: \"Weekly summary emails\",\n          description: \"weekly summary emails\",\n          sort_as: \"scheduled-weekly\",\n        },\n        {\n          key: null,\n          label: \"Essential emails (required)\",\n          description: \"essential emails about your account\",\n          locked: true,\n          sort_as: \"essential\",\n        },\n      ],\n    };\n  },\n  computed: {\n    show_timeout() {\n      return !this.$store?.account_doc?.prefs?.hide_timeout;\n    },\n    prioritize_notes() {\n      return !this.$store?.account_doc?.prefs?.derank_notes;\n    },\n    include_finished() {\n      return !this.$store?.account_doc?.prefs?.hide_finished;\n    },\n    ready_to_link() {\n      return (\n        !this.loading &&\n        this.new_email &&\n        this.new_email.includes(\"@\") &&\n        this.new_email.split(\"@\")[1].includes(\".\")\n      );\n    },\n    unsubed_from() {\n      return this.email_categories.reduce((acc, cur) => {\n        acc[cur.key] = this.$store.account_doc?.prefs?.unsub_from?.[cur.key] || false;\n        return acc;\n      }, {});\n    },\n  },\n  methods: {\n    update_account_pref(key, value, [on_true, on_false]) {\n      if (this.$store.account_doc) {\n        let before = this.$store.account_doc?.prefs?.[key];\n        if (before != value) {\n          // update the value\n          this.$store\n            .update_wrapper_with_merge({\n              prefs: {\n                ...this.$store.account_doc.prefs,\n                [key]: value,\n              },\n            })\n            .then(() => {\n              this.changed = true;\n              new SuccessToast(value ? on_false : on_true, 2000);\n            })\n            .catch((err) => {\n              this.changed = false;\n              new ErrorToast(`Couldn't update key ${key} of preferences`, err, 2000);\n              this.$status.error('⚙️ Couldn\\'t update preferences key \"${key}\" to \"${value}\"');\n            });\n        }\n      }\n    },\n    update_email_pref(key, description) {\n      if (this.$store.account_doc) {\n        // update account_doc.prefs.unsub_from value to toggle the value of this key\n        const before = this.$store.account_doc?.prefs?.unsub_from || {};\n        const new_val = !before[key];\n        const after = { ...before, [key]: !before[key] };\n        this.$store\n          .update_wrapper_with_merge({\n            prefs: {\n              ...this.$store.account_doc.prefs,\n              unsub_from: after,\n            },\n          })\n          .then(() => {\n            this.changed = true;\n            new SuccessToast(\n              new_val ? `You'll no longer get ${description}` : `You'll now get ${description}`,\n              2000\n            );\n          })\n          .catch((err) => {\n            this.changed = false;\n            new ErrorToast(\n              new_val\n                ? `We couldn't unsubscribe you from ${description}`\n                : `We couldn't subscribe you to ${description}`,\n              err,\n              2000\n            );\n          });\n      }\n    },\n    save() {\n      // close the modal if the save was successful\n      if (!this.loading) {\n        this.$emit(\"close\");\n      }\n    },\n    invite_linked() {\n      if (!this.$store.personal_account) {\n        this.changed = true;\n        this.loading = true;\n        this.$store\n          .invite_linked(this.new_email)\n          .then(() => {\n            this.loading = false;\n            this.new_email = \"\";\n          })\n          .catch(() => {\n            this.loading = false;\n            this.changed = false;\n          });\n      }\n    },\n    uninvite_linked(email) {\n      this.changed = true;\n      this.loading = true;\n      this.$store\n        .uninvite_linked(email)\n        .then(() => {\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n          this.changed = false;\n        });\n    },\n    fix_email() {\n      // fix emails so that they can be signed into with google even if they used the + notation\n      if (this.new_email.includes(\"@\")) {\n        let [name, domain] = this.new_email.split(\"@\");\n        if (name.includes(\"+\")) {\n          name = name.split(\"+\")[0];\n          this.new_email = `${name}@${domain}`;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.pause_popup_section,\n.notes_priority_section,\n.show_finished_section,\n.email_section {\n  line-height: 1.75;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5em;\n  /* margin-top: 0.75em; */\n}\n.email_sections {\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 0.5em;\n}\n.email_section {\n  display: flex;\n}\n.remove_icon {\n  filter: var(--filter-icon);\n  background-image: url(@/assets/img/general/portal/remove.png);\n  background-image: url(@/assets/img/general/portal/remove.svg);\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.add_button {\n  max-width: 100px;\n}\n.add_button[disabled] {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.styled_line_links {\n  gap: 10px;\n}\n.linked_accounts_row {\n  margin-bottom: 0;\n}\n/* make space for new button text */\n.links_personal .styled_links_add__text {\n  flex-basis: 0;\n  width: 20px;\n}\n.overlay_contents_section_details {\n  margin-top: 0.5em;\n  opacity: 0.8;\n  font-size: 0.9em;\n  line-height: 1.5em;\n}\n.email_text {\n  margin: 0;\n  margin-bottom: 0.5em;\n}\n.stats_icon {\n  background-image: url(@/assets/img/general/portal/stats.png);\n  background-image: url(@/assets/img/general/portal/stats.svg);\n}\n</style>\n","import { render } from \"./SettingsModal.vue?vue&type=template&id=752cb5cc&scoped=true\"\nimport script from \"./SettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./SettingsModal.vue?vue&type=style&index=0&id=752cb5cc&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-752cb5cc\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_2","_createElementBlock","_normalizeClass","toggle_switch__on","$data","is_on","transition","$props","loads","disabled","onClick","_cache","args","$options","toggle","is_loading","loading","_hoisted_4","name","props","value","type","Boolean","default","emits","data","this","watch","methods","$emit","__exports__","render","_hoisted_14","_hoisted_1","_hoisted_3","_ctx","$store","is_teacher","_hoisted_5","_toDisplayString","ORG_DOMAIN","substring","$env","VUE_APP_BRAND_SHORT_NAME","personal_account","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","linked_accounts","length","_hoisted_12","_Fragment","_renderList","email","active","user","key","$event","uninvite_linked","title","_hoisted_16","_hoisted_11","_hoisted_17","links_personal","onInput","fix_email","onUpdate","new_email","placeholder","invite_linked","ready_to_link","_hoisted_19","_hoisted_20","toggle_teacher","changed","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_createVNode","_component_ToggleBar","prioritize_notes","update_account_pref","_hoisted_25","include_finished","_hoisted_26","_hoisted_27","show_timeout","_hoisted_28","_hoisted_29","id","toggle_theme","_hoisted_30","_hoisted_31","$router","push","query","$route","_hoisted_32","_hoisted_33","_hoisted_34","finish_tutorial","then","_hoisted_35","set_account_pref","simplified","_hoisted_37","_hoisted_36","_hoisted_38","_hoisted_39","_hoisted_40","email_categories","email_category","sort_as","unsubed_from","locked","update_email_pref","description","label","_hoisted_41","_hoisted_42","_hoisted_43","loading_bg","save","components","ToggleBar","computed","account_doc","prefs","hide_timeout","derank_notes","hide_finished","includes","split","reduce","acc","cur","unsub_from","on_true","on_false","before","update_wrapper_with_merge","SuccessToast","catch","err","ErrorToast","$status","error","new_val","after","domain"],"sourceRoot":""}