{"version":3,"file":"js/53.3ebb4b9e.js","mappings":"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","sources":["webpack://mvtime/./src/views/Home/LinkModal.vue","webpack://mvtime/./src/components/Modal/SignIntoPersonalAccount.vue","webpack://mvtime/./src/components/Modal/SignIntoPersonalAccount.vue?f57a","webpack://mvtime/./src/components/Modal/LinkAccount.vue","webpack://mvtime/./src/components/Modal/LinkAccount.vue?15c1","webpack://mvtime/./src/views/Home/LinkModal.vue?e441"],"sourcesContent":["<template>\r\n  <ModalFromPages :pages=\"pages\" @finish=\"finish\" ref=\"survey_modal\"></ModalFromPages>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable vue/no-unused-components */\r\nimport { useMainStore } from \"@/store\";\r\nimport { shallowRef } from \"vue\";\r\nimport { WarningToast } from \"@svonk/util\";\r\nimport ModalFromPages from \"@/components/Modal/ModalFromPages.vue\";\r\nimport SignIntoPersonalAccount from \"@/components/Modal/SignIntoPersonalAccount.vue\";\r\nimport LinkAccount from \"@/components/Modal/LinkAccount.vue\";\r\nimport \"@/assets/style/overlay.css\";\r\nexport default {\r\n  name: \"LinkModal\",\r\n  emits: [\"close\"],\r\n  components: {\r\n    ModalFromPages,\r\n    SignIntoPersonalAccount,\r\n    LinkAccount,\r\n  },\r\n  data() {\r\n    return {\r\n      ready: false,\r\n      pages: [\r\n        {\r\n          title: \"Link Personal Account\",\r\n          html: `<div class='overlay_contents_text'>Thank you for taking the time to link your account. This will allow you to access your account from any device.<br/><br/> You'll need to be signed into your personal account in order to continue, we'll guide you through that on the next page.</div>`,\r\n          submit_text: \"Okay\",\r\n          is_notification: true,\r\n        },\r\n        {\r\n          title: \"Sign into Personal Account\",\r\n          content: shallowRef(SignIntoPersonalAccount),\r\n          submit_text: \"Continue\",\r\n        },\r\n        {\r\n          title: \"Account Details\",\r\n          content: shallowRef(LinkAccount),\r\n          submit_text: \"Link\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  props: {\r\n    code: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  mounted() {\r\n    if (!this.code) {\r\n      new WarningToast(\"No code provided!\", \"You must provide a code to link your account.\");\r\n      this.$emit(\"close\");\r\n    } else {\r\n      this.ready = true;\r\n    }\r\n    this.store.personal_account = true;\r\n  },\r\n  methods: {\r\n    finish() {\r\n      this.store.link_account_code(this.code).then(() => {\r\n        this.$emit(\"close\");\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","<template>\r\n  <div class=\"personal_prompt\">\r\n    <div class=\"overlay_contents_text\">\r\n      If you're signed into an mvla.net account, you should have been signed out automatically\r\n    </div>\r\n    <div class=\"inputs_row\">\r\n      <button class=\"primary_styled styled_input\" @click=\"sign_into_personal\" :disabled=\"ready\">\r\n        Login to Personal Account\r\n      </button>\r\n    </div>\r\n    <div class=\"overlay_contents_text\">Please sign into your personal account to continue</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nexport default {\r\n  name: \"SignIntoPersonalAccount\",\r\n  emits: [\"update\", \"status\"],\r\n  data() {\r\n    return {\r\n      ready: false,\r\n    };\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit(\"close\");\r\n    },\r\n    logout_if_org() {\r\n      // sign out\r\n      if (this.store?.user?.email?.includes(\"mvla.net\")) {\r\n        this.store.logout();\r\n      }\r\n    },\r\n    check_and_emit() {\r\n      this.ready = this.store.user?.email && !this.store.user.email.includes(\"mvla.net\");\r\n      this.$emit(\"status\", !!this.ready);\r\n    },\r\n    sign_into_personal() {\r\n      this.store.personal_account = true;\r\n      this.store\r\n        .login_personal()\r\n        .then(() => {\r\n          this.logout_if_org();\r\n          this.check_and_emit();\r\n        })\r\n        .catch(() => {\r\n          this.check_and_emit();\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.logout_if_org();\r\n    this.check_and_emit();\r\n  },\r\n  watch: {\r\n    store: {\r\n      handler() {\r\n        this.logout_if_org();\r\n        this.check_and_emit();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login_button {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import { render } from \"./SignIntoPersonalAccount.vue?vue&type=template&id=43068714&scoped=true\"\nimport script from \"./SignIntoPersonalAccount.vue?vue&type=script&lang=js\"\nexport * from \"./SignIntoPersonalAccount.vue?vue&type=script&lang=js\"\n\nimport \"./SignIntoPersonalAccount.vue?vue&type=style&index=0&id=43068714&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43068714\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"account_linking\">\r\n    <img v-if=\"loading\" alt=\"Loading...\" class=\"loading_placeholder loading_icon\" />\r\n    <div v-else-if=\"data\" class=\"account_details\">\r\n      <div class=\"overlay_contents_text\">\r\n        Please confirm that the details below match the account you're trying to link to.\r\n      </div>\r\n      <div class=\"spaced_contents\">\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Name:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{ data.name || \"Couldn't Load\" }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Email:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{ data.email || \"Couldn't Load\" }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Grade:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{\r\n            gradeText(data.join_form && data.join_form.grade) || \"Couldn't Load\"\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"overlay_contents_text\">\r\n        Once you've checked them, just press <span class=\"button_pointer_text\">Link</span> to finish\r\n        connecting your accounts!\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"overlay_contents_text\">\r\n      Something went wrong fetching the account details, please try again later.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nimport { ErrorToast } from \"@svonk/util\";\r\nexport default {\r\n  name: \"LinkAccount\",\r\n  emits: [\"update\", \"status\"],\r\n  props: {\r\n    load: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      code: null,\r\n      data: null,\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  methods: {\r\n    gradeText(numeric) {\r\n      switch (numeric) {\r\n        case \"9\":\r\n          return \"Freshman\";\r\n        case \"10\":\r\n          return \"Sophomore\";\r\n        case \"11\":\r\n          return \"Junior\";\r\n        case \"12\":\r\n          return \"Senior\";\r\n        default:\r\n          return \"Teacher\";\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // get code prop from route\r\n    this.code = this.$route.params.code;\r\n    this.store\r\n      .get_linked_account(this.code)\r\n      .then((result) => {\r\n        this.loading = false;\r\n        this.data = result;\r\n        console.log(result);\r\n      })\r\n      .catch((err) => {\r\n        this.loading = false;\r\n        new ErrorToast(\"Failed to link account\", err, 3000);\r\n      });\r\n  },\r\n  watch: {\r\n    loading() {\r\n      this.$emit(\"status\", !this.loading);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ndiv.account_linking,\r\n.account_details {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n}\r\n\r\n.loading_placeholder {\r\n  min-width: 100%;\r\n  max-height: 131px;\r\n}\r\n</style>\r\n","import { render } from \"./LinkAccount.vue?vue&type=template&id=796de977&scoped=true\"\nimport script from \"./LinkAccount.vue?vue&type=script&lang=js\"\nexport * from \"./LinkAccount.vue?vue&type=script&lang=js\"\n\nimport \"./LinkAccount.vue?vue&type=style&index=0&id=796de977&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-796de977\"]])\n\nexport default __exports__","import { render } from \"./LinkModal.vue?vue&type=template&id=0f405e32\"\nimport script from \"./LinkModal.vue?vue&type=script&lang=js\"\nexport * from \"./LinkModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_ModalFromPages","pages","$data","onFinish","$options","finish","ref","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","args","sign_into_personal","disabled","ready","_hoisted_4","_hoisted_5","name","emits","data","methods","close","this","$emit","logout_if_org","store","user","email","includes","logout","check_and_emit","personal_account","login_personal","then","catch","computed","useMainStore","mounted","watch","handler","deep","__exports__","alt","loading","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","gradeText","join_form","grade","_hoisted_18","_hoisted_19","props","load","type","Object","default","code","numeric","$route","params","get_linked_account","result","console","log","err","ErrorToast","components","ModalFromPages","SignIntoPersonalAccount","LinkAccount","title","html","submit_text","is_notification","content","shallowRef","String","WarningToast","link_account_code","render"],"sourceRoot":""}