"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[815],{5815:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var a=s(3396),l=s(7139),n=s(9242);const i=e=>((0,a.dD)("data-v-3bb3e31a"),e=e(),(0,a.Cn)(),e),d={class:"create_task"},o={class:"modal_header"},_={class:"header_style modal_header_title"},c=["value"],k={class:"overlay_contents"},r={class:"overlay_contents_text"},p={key:0},u={key:1},y={class:"inputs_row"},h=["placeholder","disabled"],w=i((()=>(0,a._)("div",{class:"flex-break"},null,-1))),m=["placeholder"],v=i((()=>(0,a._)("div",{class:"flex-break"},null,-1))),b={class:"styled_input styled_links_box"},g={class:"styled_links_display"},x={key:0,class:"placeholder"},f={key:1,class:"styled_line_links"},D=["href"],z=i((()=>(0,a._)("hr",{class:"styled_links_separator"},null,-1))),C={class:"styled_links_add"},U=["disabled"],V={class:"overlay_contents_text"},A={class:"checkboxes"},L=["id","value"],$=["for"],j=["for"],K={class:"bottom_actions"},T=i((()=>(0,a._)("div",{class:"flex_spacer"},null,-1))),H=["disabled"];function O(e,t,s,i,O,P){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("header",o,[(0,a._)("h2",_,[(0,a._)("span",null,"Add a"+(0,l.zw)(P.is_vowel(P.type_full[0])?"n":"")+" ",1),(0,a.wy)((0,a._)("select",{title:"Task type","onUpdate:modelValue":t[0]||(t[0]=e=>O.task.type=e),class:"type_dropdown styled_input styled_select",ref:"type"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.entries(O.types),(e=>((0,a.wg)(),(0,a.iD)("option",{class:"type_dropdown__option styled_select__option",value:e[0],key:e[0]},(0,l.zw)(e[1]),9,c)))),128))],512),[[n.bM,O.task.type]])])]),(0,a._)("div",k,[(0,a._)("div",r,[P.is_note?((0,a.wg)(),(0,a.iD)("span",p,"Add a new "+(0,l.zw)(O.task.type)+" to",1)):((0,a.wg)(),(0,a.iD)("span",u,"Schedule a new "+(0,l.zw)(O.task.type)+" for",1)),(0,a.Uk)(" your class"+(0,l.zw)(P.classes&&1==P.classes.length?"":"es"),1)]),(0,a._)("div",y,[P.is_note?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>O.task.name=e),class:"styled_input",type:"text",placeholder:P.type_full+" Name",disabled:P.is_note},null,8,h)),[[n.nr,O.task.name]]),(0,a.wy)((0,a._)("input",{type:"date",class:"styled_input input_task__date","onUpdate:modelValue":t[2]||(t[2]=e=>O.task.date=e),style:(0,l.j5)({maxWidth:P.is_note?"100%":null})},null,4),[[n.nr,O.task.date]]),w,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>O.task.description=e),class:"styled_input styled_textarea task_description",type:"text",placeholder:P.type_full+(P.is_note?" Contents":" Description (Optional)")},"\r\n        ",8,m),[[n.nr,O.task.description]]),v,(0,a._)("div",b,[(0,a._)("div",g,[O.task.links&&O.task.links.length?((0,a.wg)(),(0,a.iD)("div",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.task.links,(e=>((0,a.wg)(),(0,a.iD)("a",{class:"styled_line_links__link",target:"_blank",href:e.path,key:e.path},(0,l.zw)(e.text),9,D)))),128))])):((0,a.wg)(),(0,a.iD)("span",x,(0,l.zw)(P.type_full)+" Links (Optional)",1))]),z,(0,a._)("div",C,[(0,a.wy)((0,a._)("input",{class:"styled_links_add__path",type:"url","onUpdate:modelValue":t[4]||(t[4]=e=>O.newlink.path=e),placeholder:"Link URL (http://example.com)"},null,512),[[n.nr,O.newlink.path]]),(0,a.wy)((0,a._)("input",{class:"styled_links_add__text",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>O.newlink.text=e),placeholder:"Link Text (what students see)"},null,512),[[n.nr,O.newlink.text]]),(0,a._)("button",{class:"styled_links_add__action",onClick:t[6]||(t[6]=(...e)=>P.add_newlink&&P.add_newlink(...e)),disabled:P.newlink_ready}," Add ",8,U)])])]),(0,a._)("div",V," Choose which classes this "+(0,l.zw)(O.task.type)+" will be added to ",1),(0,a._)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(P.classes,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"checkbox",key:e.id},[(0,a.wy)((0,a._)("input",{type:"checkbox",id:e.id,value:e.id,"onUpdate:modelValue":t[7]||(t[7]=e=>O.task_classes=e)},null,8,L),[[n.e8,O.task_classes]]),e.period?((0,a.wg)(),(0,a.iD)("label",{key:0,for:e.id}," P"+(0,l.zw)(e.period)+" - "+(0,l.zw)(e.name),9,$)):((0,a.wg)(),(0,a.iD)("label",{key:1,for:e.id},(0,l.zw)(e.name),9,j))])))),128))])]),(0,a._)("div",K,[(0,a._)("button",{class:"close_action",onClick:t[8]||(t[8]=t=>e.$emit("close"))},"Close"),T,(0,a._)("button",{class:(0,l.C_)(["continue_action",{loading_bg:O.loading}]),onClick:t[9]||(t[9]=(...e)=>P.create_task&&P.create_task(...e)),disabled:!O.task.name&&!P.is_note||!O.task.date||!O.task_classes.length||P.is_note&&!O.task.description}," Add "+(0,l.zw)(O.task.type),11,H)])])}s(7658);var P=s(8980),Y=s(2745),q=s(1708),E={name:"CreateTaskView",emits:["close"],data(){return{task:{name:"",date:"",description:"",type:this.$route.params.tasktype?this.$route.params.tasktype:"task"},task_classes:[],newlink:{text:"",path:""},loading:!1,types:{note:"Note",task:"Assignment",test:"Test",project:"Project",quiz:"Quiz",exam:"Exam"}}},computed:{type_full(){return this.get_type(this.task.type)},newlink_ready(){return!this.newlink.path||!this.newlink.text||!this.newlink.path.startsWith("http")},class_name(){if(!this.classes)return null;let e=this.classes.find((e=>e.id===this.class_id));return e?e.name:null},store(){return(0,P.h)()},classes(){return this.store.classes},is_note(){return"note"===this.task.type}},methods:{get_type(e=this.task.type){return this.types[e]||e},is_vowel(e){return["a","e","i","o","u"].includes(e.toLowerCase())},add_newlink(){this.task.links||(this.task.links=[]),this.task.links.push(this.newlink),this.newlink={text:"",path:""}},create_task(){this.loading=!0,this.store.create_task(this.task,this.task_classes).then((()=>{this.$emit("close")})).catch((e=>{this.loading=!1,(0,Y.E)(`📃 Couldn't create ${this.task.type||"task"}:`,e),new q.PK("Couldn't create task",e,2e3)}))}}},N=s(89);const W=(0,N.Z)(E,[["render",O],["__scopeId","data-v-3bb3e31a"]]);var I=W}}]);
//# sourceMappingURL=815.a2989507.js.map