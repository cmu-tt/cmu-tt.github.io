"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[136],{2136:function(e,s,a){a.r(s),a.d(s,{default:function(){return j}});var l=a(3396),i=a(9242),t=a(7139);const d={class:"addclass"},c=(0,l._)("header",{class:"modal_header"},[(0,l._)("h2",{class:"header_style modal_header_title"},"Add a Class")],-1),n={class:"overlay_contents"},o=(0,l._)("div",{class:"overlay_contents_text"},"Join a new class",-1),_={class:"inputs_row"},r=["disabled"],h=["value","disabled"],u={key:0},m={key:0,value:"",disabled:"",hidden:"",selected:""},b={key:1,value:"",disabled:"",hidden:"",selected:""},g=(0,l._)("div",{class:"overlay_contents_text"},"Enter your teacher's email above to see their classes",-1),p={class:"bottom_actions"},v=(0,l._)("div",{class:"flex_spacer"},null,-1),w=["disabled"];function y(e,s,a,y,f,k){return(0,l.wg)(),(0,l.iD)("main",d,[c,(0,l._)("div",n,[o,(0,l._)("div",_,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>f.teacher_email=e),ref:"teacher_email",class:"styled_input",type:"text",placeholder:"Teacher's Email"},null,512),[[i.nr,f.teacher_email]]),(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>f.class_id=e),class:(0,t.C_)(["styled_input",{loading_bg:k.loading&&f.teacher_email}]),disabled:!k.classes||!k.classes.length},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.classes,(e=>((0,l.wg)(),(0,l.iD)("option",{value:e.id,key:e.id,disabled:e.is_joined},[e.is_joined?((0,l.wg)(),(0,l.iD)("span",u,"[JOINED]")):(0,l.kq)("",!0),(0,l.Uk)(" P"+(0,t.zw)(e.period)+" - "+(0,t.zw)(e.name),1)],8,h)))),128)),f.teacher_email&&!k.classes?((0,l.wg)(),(0,l.iD)("option",m,(0,t.zw)(k.loading?"Loading...":"No classes found"),1)):((0,l.wg)(),(0,l.iD)("option",b,(0,t.zw)(f.teacher_email&&k.classes?"Select a Class":""),1))],10,r),[[i.bM,f.class_id]])]),g]),(0,l._)("div",p,[(0,l._)("button",{class:"close_action",onClick:s[2]||(s[2]=s=>e.$emit("close"))},"Close"),v,(0,l._)("button",{class:(0,t.C_)(["continue_action",{loading_bg:f.adding}]),onClick:s[3]||(s[3]=(...e)=>k.add_class&&k.add_class(...e)),disabled:!f.teacher_email||!f.class_id}," Add Class ",10,w)])])}var f=a(8980),k={name:"AddClassView",emits:["close"],data(){return{teacher_email:"",class_id:"",adding:!1}},mounted(){this.$refs.teacher_email.focus()},computed:{class_obj(){return this.classes?this.classes.find((e=>e.id===this.class_id))||{}:null},loading(){return this.store.loaded_email!==this.teacher_email},classes(){return this.teacher_email?this.teacher_email===this.store.loaded_email?this.store.loaded_classes:(this.store.fetch_classes_by_email(this.teacher_email),null):null},store(){return(0,f.h)()}},methods:{add_class(){this.adding=!0,console.log(this.class_obj),this.store.add_class(this.teacher_email,this.class_id,this.class_obj.name,this.class_obj.period).then((()=>{this.$emit("close")})).catch((()=>{this.adding=!1}))}}},C=a(89);const D=(0,C.Z)(k,[["render",y]]);var j=D}}]);
//# sourceMappingURL=136.5afc46b3.js.map