"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[503],{8503:function(e,i,n){n.r(i),n.d(i,{default:function(){return L}});var t=n(3396),s=n(7139),l=n(9242);const a=e=>((0,t.dD)("data-v-29fbcbd0"),e=e(),(0,t.Cn)(),e),o={class:"settings"},c=a((()=>(0,t._)("header",{class:"modal_header"},[(0,t._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),_={class:"overlay_contents"},d={key:0},r=a((()=>(0,t._)("div",{class:"overlay_contents_text"}," You can link a personal (non-mvla.net) account to access MVTT when not signed into your school account below! ",-1))),u={class:"inputs_row"},h={class:"styled_input styled_links_box"},k={class:"styled_links_display"},m={key:0,class:"placeholder"},v={key:1,class:"styled_line_links"},g=["onClick"],p=a((()=>(0,t._)("div",{class:"remove_icon"},null,-1))),w=[p],y={class:"styled_line_links__email"},b=a((()=>(0,t._)("hr",{class:"styled_links_separator"},null,-1))),f={class:"styled_links_add"},C=["disabled"],x=["disabled"],D={class:"overlay_contents_text"},A=a((()=>(0,t._)("div",{class:"theme_icon icon"},null,-1))),U={class:"bottom_actions"},$=a((()=>(0,t._)("div",{class:"flex_spacer"},null,-1))),z=["disabled"];function T(e,i,n,a,p,T){return(0,t.wg)(),(0,t.iD)("div",o,[c,(0,t._)("div",_,[T.store.is_teacher?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",d,[r,(0,t._)("div",u,[(0,t._)("div",h,[(0,t._)("div",k,[T.store.linked_accounts&&T.store.linked_accounts.length?((0,t.wg)(),(0,t.iD)("div",v,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(T.store.linked_accounts,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,s.C_)(["styled_line_links__account",{active:T.store.personal_account&&T.store.user.email==e}]),key:e},[T.store.personal_account?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:"styled_line_links__remove",onClick:i=>T.uninvite_linked(e),title:"Remove Account"},w,8,g)),(0,t._)("div",y,(0,s.zw)(e),1)],2)))),128))])):((0,t.wg)(),(0,t.iD)("span",m,"No linked accounts, add one below"))]),b,(0,t._)("div",f,[(0,t.wy)((0,t._)("input",{class:"styled_links_add__text",type:"email",onInput:i[0]||(i[0]=(...e)=>T.fix_email&&T.fix_email(...e)),onUpdate:i[1]||(i[1]=(...e)=>T.fix_email&&T.fix_email(...e)),"onUpdate:modelValue":i[2]||(i[2]=e=>p.new_email=e),placeholder:"Personal Email",disabled:T.store.personal_account||p.loading},null,40,C),[[l.nr,p.new_email]]),(0,t._)("button",{class:"styled_links_add__action",onClick:i[3]||(i[3]=(...e)=>T.invite_linked&&T.invite_linked(...e)),disabled:!T.ready_to_link},(0,s.zw)(T.store.personal_account?"UNAVALIABLE":"Add"),9,x)])])])])),(0,t._)("div",D,[(0,t.Uk)(" To change your theme, use the "),(0,t._)("span",{id:"theme_pointer_button",class:"button_pointer_text button_pointer_icon click-action",onClick:i[4]||(i[4]=e=>T.store.toggle_theme())},[A,(0,t.Uk)(" Switch Theme ")]),(0,t.Uk)(" button on the left sidebar ")])]),(0,t._)("div",U,[T.store.personal_account?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:0,class:"back_action",onClick:i[5]||(i[5]=i=>e.$emit("close"))},(0,s.zw)(p.changed||p.loading?"Cancel":"Close"),1)),$,(0,t._)("button",{class:(0,s.C_)(["continue_action",{loading_bg:p.loading}]),disabled:!T.store.personal_account&&!p.changed,onClick:i[6]||(i[6]=i=>{T.store.personal_account?e.$emit("close"):T.save})},(0,s.zw)(T.store.personal_account?"Close":"Finish"),11,z)])])}var q=n(8980),I={name:"SettingsModal",emits:["close"],data(){return{changed:!1,loading:!1,new_email:""}},computed:{store(){return(0,q.h)()},ready_to_link(){return!this.loading&&this.new_email&&this.new_email.includes("@")&&this.new_email.split("@")[1].includes(".")}},methods:{save(){this.loading||this.$emit("close")},invite_linked(){this.store.personal_account||(this.changed=!0,this.loading=!0,this.store.invite_linked(this.new_email).then((()=>{this.loading=!1,this.new_email=""})).catch((()=>{this.loading=!1,this.changed=!1})))},uninvite_linked(e){this.changed=!0,this.loading=!0,this.store.uninvite_linked(e).then((()=>{this.loading=!1})).catch((()=>{this.loading=!1,this.changed=!1}))},fix_email(){if(this.new_email.includes("@")){let[e,i]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${i}`)}}}},V=n(89);const E=(0,V.Z)(I,[["render",T],["__scopeId","data-v-29fbcbd0"]]);var L=E}}]);
//# sourceMappingURL=503.e7514344.js.map