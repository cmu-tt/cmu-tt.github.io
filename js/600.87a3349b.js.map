{"version":3,"file":"js/600.87a3349b.js","mappings":"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","sources":["webpack://mvtime/./src/views/Portal/SettingsModal.vue","webpack://mvtime/./src/views/Portal/SettingsModal.vue?2de1"],"sourcesContent":["<template>\r\n  <div class=\"settings\">\r\n    <header class=\"modal_header\">\r\n      <h2 class=\"header_style modal_header_title\">Account Preferences</h2>\r\n    </header>\r\n    <div class=\"overlay_contents\">\r\n      <div class=\"overlay_contents_text\">\r\n        You can link a personal (non-mvla.net) account to access MVTT when not signed into your\r\n        school account below!\r\n      </div>\r\n\r\n      <div class=\"inputs_row\">\r\n        <div class=\"styled_input styled_links_box\">\r\n          <div class=\"styled_links_display\">\r\n            <span v-if=\"!store.linked_accounts || !store.linked_accounts.length\" class=\"placeholder\"\r\n              >No linked accounts, add one below</span\r\n            >\r\n            <div v-else class=\"styled_line_links\">\r\n              <div\r\n                class=\"styled_line_links__account\"\r\n                v-for=\"email in store.linked_accounts\"\r\n                :key=\"email\"\r\n              >\r\n                <div\r\n                  class=\"styled_line_links__remove\"\r\n                  @click=\"unlink_account(email)\"\r\n                  title=\"Remove Account\"\r\n                >\r\n                  <div class=\"remove_icon\"></div>\r\n                </div>\r\n                <div class=\"styled_line_links__email\">{{ email }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr class=\"styled_links_separator\" />\r\n          <div class=\"styled_links_add\">\r\n            <input\r\n              class=\"styled_links_add__text\"\r\n              type=\"email\"\r\n              @input=\"fix_email\"\r\n              @update=\"fix_email\"\r\n              v-model=\"new_email\"\r\n              placeholder=\"Personal Email\"\r\n            />\r\n            <button\r\n              class=\"styled_links_add__action\"\r\n              @click=\"link_account\"\r\n              :disabled=\"!ready_to_link\"\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"overlay_contents_text\">\r\n        To change your theme, use the\r\n        <span class=\"button_pointer_text button_pointer_icon\">\r\n          <div class=\"theme_icon\"></div>\r\n          Switch Theme\r\n        </span>\r\n        button on the left sidebar\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom_actions\">\r\n      <button class=\"back_action\" @click=\"$emit('close')\">\r\n        {{ changed || loading ? \"Cancel\" : \"Close\" }}\r\n      </button>\r\n      <div class=\"flex_spacer\"></div>\r\n      <button\r\n        class=\"continue_action\"\r\n        :class=\"{ loading_bg: loading }\"\r\n        :disabled=\"!changed\"\r\n        @click=\"save\"\r\n      >\r\n        Save\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nexport default {\r\n  name: \"SettingsModal\",\r\n  emits: [\"close\"],\r\n  data() {\r\n    return {\r\n      changed: false,\r\n      loading: false,\r\n      new_email: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    ready_to_link() {\r\n      return (\r\n        !this.loading &&\r\n        this.new_email &&\r\n        this.new_email.includes(\"@\") &&\r\n        this.new_email.split(\"@\")[1].includes(\".\")\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    save() {\r\n      // close the modal if the save was successful\r\n      if (!this.loading) {\r\n        this.$emit(\"close\");\r\n      }\r\n    },\r\n    link_account() {\r\n      this.changed = true;\r\n      this.loading = true;\r\n      this.store\r\n        .link_account(this.new_email)\r\n        .then(() => {\r\n          this.loading = false;\r\n          this.new_email = \"\";\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n          this.changed = false;\r\n        });\r\n    },\r\n    unlink_account(email) {\r\n      this.changed = true;\r\n      this.loading = true;\r\n      this.store\r\n        .unlink_account(email)\r\n        .then(() => {\r\n          this.loading = false;\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n          this.changed = false;\r\n        });\r\n    },\r\n    fix_email() {\r\n      // fix emails so that they can be signed into with google even if they used the + notation\r\n      if (this.new_email.includes(\"@\")) {\r\n        let [name, domain] = this.new_email.split(\"@\");\r\n        if (name.includes(\"+\")) {\r\n          name = name.split(\"+\")[0];\r\n          this.new_email = `${name}@${domain}`;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.remove_icon {\r\n  filter: var(--filter-icon);\r\n  background-image: url(@/assets/img/general/portal/remove.png);\r\n  background-image: url(@/assets/img/general/portal/remove.svg);\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.add_button {\r\n  max-width: 100px;\r\n}\r\n.add_button[disabled] {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n","import { render } from \"./SettingsModal.vue?vue&type=template&id=fea4ab10&scoped=true\"\nimport script from \"./SettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./SettingsModal.vue?vue&type=style&index=0&id=fea4ab10&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fea4ab10\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$options","store","linked_accounts","length","_hoisted_9","_Fragment","_renderList","email","key","onClick","$event","unlink_account","title","_hoisted_13","_toDisplayString","_hoisted_8","_hoisted_14","_hoisted_15","type","onInput","_cache","args","fix_email","onUpdate","$data","new_email","placeholder","link_account","disabled","ready_to_link","_hoisted_16","_hoisted_17","_hoisted_18","_ctx","$emit","changed","loading","_hoisted_19","_normalizeClass","loading_bg","save","_hoisted_20","name","emits","data","computed","useMainStore","this","includes","split","methods","then","catch","domain","__exports__","render"],"sourceRoot":""}