{"version":3,"file":"js/120.d16b9d70.js","mappings":"wPAQMA,EAAAA,EAAAA,GAAgC,QAA1BC,MAAM,cAAY,W,GAAxBC,G,UAEFF,EAAAA,EAAAA,GAAsC,OAAjCC,MAAM,sBAAoB,W,0CATjCE,EAAAA,EAAAA,IAUM,OATJF,OAAKG,EAAAA,EAAAA,IAAA,CAAC,gBAAe,CAAAC,kBACQC,EAAAC,MAAKC,YAAeC,EAAAC,SAChDC,SAAUF,EAAAE,SACVC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,QAAAD,EAAAC,UAAAF,K,CAEGL,EAAAC,QAAK,WAAhBP,EAAAA,EAAAA,IAEM,O,MAFYF,OAAKG,EAAAA,EAAAA,IAAA,CAAC,yBAAwB,CAAAa,WAAuBX,EAAAY,Y,sBAGvEC,GAAsC,K,CAK1C,OACEC,KAAM,YACNC,MAAO,CACLC,MAAO,CACLC,KAAMC,QACNC,SAAS,GAEXd,SAAU,CACRY,KAAMC,QACNC,SAAS,GAEXf,MAAO,CACLa,KAAMC,QACNC,SAAS,IAGbC,MAAO,CAAC,UACRC,OACE,MAAO,CACLpB,MAAOqB,KAAKN,MACZJ,SAAS,EAEb,EACAW,MAAO,CACLP,QACEM,KAAKrB,MAAQqB,KAAKN,MAClBM,KAAKV,SAAU,CACjB,GAEFY,QAAS,CACPd,SACMY,KAAKjB,WACLiB,KAAKlB,MACPkB,KAAKV,SAAU,EAEfU,KAAKrB,OAASqB,KAAKrB,MAErBqB,KAAKG,MAAM,UAAWH,KAAKrB,OAC7B,I,QC9CJ,MAAMyB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,8KCROhC,MAAM,Y,UACTD,EAAAA,EAAAA,GAES,UAFDC,MAAM,gBAAc,EAC1BD,EAAAA,EAAAA,GAAoE,MAAhEC,MAAM,mCAAkC,yBAAmB,K,GAE5DA,MAAM,oB,SACqBA,MAAM,4B,GAC7BA,MAAM,yB,SAINA,MAAM,yB,UACTD,EAAAA,EAAAA,GAAM,qB,GAIHC,MAAM,kC,GACJA,MAAM,iC,GACJA,MAAM,wB,SAGPA,MAAM,e,SAGIA,MAAM,qB,wBAaZD,EAAAA,EAAAA,GAA+B,OAA1BC,MAAM,eAAa,W,GAAxBiC,G,GAEGjC,MAAM,4B,UAIjBD,EAAAA,EAAAA,GAAqC,MAAjCC,MAAM,0BAAwB,W,uCAsBJA,MAAM,kD,uBAiBrCA,MAAM,kD,GACJA,MAAM,uB,UAYXD,EAAAA,EAAAA,GAIM,OAJDC,MAAM,iEAAgE,2MAI3E,K,GAEGA,MAAM,kD,UAOPD,EAAAA,EAAAA,GAAmC,OAA9BC,MAAM,mBAAiB,W,GAK3BA,MAAM,kD,UAOPD,EAAAA,EAAAA,GAA+C,OAA1CC,MAAM,+BAA6B,W,GAKvCA,MAAM,kD,GACHA,MAAM,yB,GAcNA,MAAM,2B,uBAgBTA,MAAM,kD,UACTD,EAAAA,EAAAA,GAGI,KAHDC,MAAM,cAAa,gHAGtB,K,GACKA,MAAM,kB,UAiBXD,EAAAA,EAAAA,GAKM,OALDC,MAAM,2DAA0D,4RAKrE,K,GAGCA,MAAM,kB,UAQTD,EAAAA,EAAAA,GAA+B,OAA1BC,MAAM,eAAa,W,uFAjM5BE,EAAAA,EAAAA,IAyNM,MAzNNgC,EAyNM,CAxNJjC,GAGAF,EAAAA,EAAAA,GAoLM,MApLNoC,EAoLM,CAnLQrB,EAAAsB,MAAMC,YAqDiB,iBArDP,WAA5BnC,EAAAA,EAAAA,IA0DM,MA1DNgB,EA0DM,EAzDJnB,EAAAA,EAAAA,GAGM,MAHNuC,EAAmC,kCACJC,EAAAA,EAAAA,IAAA,KAAQH,MAAMI,WAAWC,UAAU,IAAK,4EAEvE,GACyC3B,EAAAsB,MAAMM,mBAAgB,WAA/DxC,EAAAA,EAAAA,IAIM,MAJNyC,EAIM,CAHJC,GAAM,yIAGR,gBACA7C,EAAAA,EAAAA,GA+CM,MA/CN8C,EA+CM,EA9CJ9C,EAAAA,EAAAA,GA6CM,MA7CN+C,EA6CM,EA5CJ/C,EAAAA,EAAAA,GAwBM,MAxBNgD,EAwBM,CAtBKjC,EAAAsB,MAAMY,iBAAoBlC,EAAAsB,MAAMY,gBAAgBC,SAErB,WAEpC/C,EAAAA,EAAAA,IAiBM,MAjBNgD,EAiBM,gBAhBJhD,EAAAA,EAAAA,IAeMiD,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAbYtC,EAAAsB,MAAMY,iBAAfK,K,WAFTnD,EAAAA,EAAAA,IAeM,OAdJF,OAAKG,EAAAA,EAAAA,IAAA,CAAC,6BAA4B,CAAAmD,OAEhBxC,EAAAsB,MAAMM,kBAAoB5B,EAAAsB,MAAMmB,KAAKF,OAASA,KAC/DG,IAAKH,G,CAKGvC,EAAAsB,MAAMM,kB,iBAAgB,WAH/BxC,EAAAA,EAAAA,IAOM,O,MANJF,MAAM,4BACLW,QAAK8C,GAAE3C,EAAA4C,gBAAgBL,GAExBM,MAAM,kB,SAIR5D,EAAAA,EAAAA,GAAuD,MAAvD6D,GAAuDrB,EAAAA,EAAAA,IAAdc,GAAK,U,WAnBa,WAD/DnD,EAAAA,EAAAA,IAIC,OAJD2D,EAGG,wCAqBLC,GACA/D,EAAAA,EAAAA,GAiBM,OAjBDC,OAAKG,EAAAA,EAAAA,IAAA,CAAC,mBAAkB,CAAA4D,eAA2BjD,EAAAsB,MAAMM,qB,WAC5D3C,EAAAA,EAAAA,GAQE,SAPAC,MAAM,yBACNsB,KAAK,QACJ0C,QAAKpD,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAmD,WAAAnD,EAAAmD,aAAApD,IACPqD,SAAMtD,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAmD,WAAAnD,EAAAmD,aAAApD,I,qCACAR,EAAA8D,UAASV,GAClBW,YAAY,iBACX1D,SAAUI,EAAAsB,MAAMM,kBAAoBrC,EAAAY,S,kBAF5BZ,EAAA8D,cAIXpE,EAAAA,EAAAA,GAMS,UALPC,MAAM,2BACLW,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAuD,eAAAvD,EAAAuD,iBAAAxD,IACPH,UAAWI,EAAAwD,gB,QAETxD,EAAAsB,MAAMM,iBAAmB,cAAgB,OAAnB,EAAA6B,IAAA,UAMvBzD,EAAAsB,MAAMM,kBAckB,iBAdF,WAAlCxC,EAAAA,EAAAA,IAgBM,MAhBNsE,EAgBM,UAhBqF,YAEzFzE,EAAAA,EAAAA,GAQC,QAPCC,MAAM,mCACLW,QAAKC,EAAA,KAAAA,EAAA,GAAA6C,IAAe3C,EAAAsB,MAAMqC,iBAA8BpE,EAAAqE,SAAO,KAIjE,WACM,QACN,SAAiBnC,EAAAA,EAAAA,IAAGzB,EAAAsB,MAAMC,WAAa,UAAY,UAAW,iBAC/D,GAAYvB,EAAAsB,MAAMC,aAAU,WAA5BnC,EAAAA,EAAAA,IAAoE,OAAAyE,EAAtC,sCAA+B,WAC7DzE,EAAAA,EAAAA,IAGC,OAAA0E,EAFE,iIAIL7E,EAAAA,EAAAA,GAkBM,MAlBN8E,EAkBM,EAjBJ9E,EAAAA,EAAAA,GAWM,MAXN+E,EAWM,EAVJC,EAAAA,EAAAA,IAKEC,EAAA,CAJAhF,MAAM,eACLqB,MAAOP,EAAAmE,aACPf,SAAQpD,EAAAoE,sBACRzE,OAAO,G,sCACR,QAEFV,EAAAA,EAAAA,GAEC,sBADE,2BAAsBA,EAAAA,EAAAA,GAAkD,UAAAwC,EAAAA,EAAAA,IAA5CzB,EAAAmE,aAAe,UAAY,YAAf,OAG7CE,KAMFpF,EAAAA,EAAAA,GAWM,MAXNqF,EAWM,UAXsD,oCAE1DrF,EAAAA,EAAAA,GAOO,QANLsF,GAAG,uBACHrF,MAAM,uDACLW,QAAKC,EAAA,KAAAA,EAAA,GAAA6C,GAAE3C,EAAAsB,MAAMkD,iB,CAEdC,GAAmC,6BAErC,QAAO,+CAGTxF,EAAAA,EAAAA,GAWM,MAXNyF,EAWM,UAXsD,sCAE1DzF,EAAAA,EAAAA,GAOO,QANLsF,GAAG,uBACHrF,MAAM,uDACLW,QAAKC,EAAA,KAAAA,EAAA,GAAA6C,GAAEgC,EAAAC,QAAQC,KAAK,CAADxE,KAAA,QAAAyE,MAAyBH,EAAAI,OAAOD,U,CAEpDE,GAA+C,gCAEjD,QAAO,oEAGT/F,EAAAA,EAAAA,GA8BM,MA9BNgG,EA8BM,EA7BJhG,EAAAA,EAAAA,GAaO,OAbPiG,EAaO,UAb6B,wBAElCjG,EAAAA,EAAAA,GAUC,QATCC,MAAM,mCACLW,QAAKC,EAAA,KAAAA,EAAA,GAAA6C,IAAiBpD,EAAAqE,SAAO,EAAuB5D,EAAAsB,MAAM6D,iBAAe,GAAQC,MAAI,KAAyBT,EAAA3D,MAAK,W,IAMrH,2BACsB,QACtB,yDAEH/B,EAAAA,EAAAA,GAcO,OAdPoG,EAcO,UAd+B,mBAEpCpG,EAAAA,EAAAA,GAQO,QAPLC,MAAM,mCACLW,QAAKC,EAAA,KAAAA,EAAA,GAAA6C,IAAiBpD,EAAAqE,SAAO,EAAuB5D,EAAAsB,MAAMgE,iBAAgB,cAAgBtF,EAAAsB,MAAMiE,WAAU,K,QAKxGvF,EAAAsB,MAAMiE,WAAa,QAAU,SAAU,oBAC5C,YAAO,QAEMvF,EAAAsB,MAAMiE,aAAqD,WACxEnG,EAAAA,EAAAA,IAAkD,OAAAoG,EAArC,qCADgB,WAA7BpG,EAAAA,EAAAA,IAA+E,OAAAqG,EAAhD,+CACY,QAAO,WAGtDxG,EAAAA,EAAAA,GA4BM,MA5BNyG,EA4BM,CA3BJC,GAIA1G,EAAAA,EAAAA,GAgBM,MAhBN2G,EAgBM,gBAfJxG,EAAAA,EAAAA,IAcMiD,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAZqB/C,EAAAsG,kBAAlBC,K,WAFT1G,EAAAA,EAAAA,IAcM,OAbJF,MAAM,gBAELwD,IAAKoD,EAAeC,S,EAErB9B,EAAAA,EAAAA,IAMEC,EAAA,CALAhF,MAAM,eACLqB,OAAQP,EAAAgG,aAAaF,EAAeC,SACpCnG,SAAUkG,EAAeG,OACzB7C,SAAMT,GAAE3C,EAAAkG,kBAAkBJ,EAAepD,IAAKoD,EAAeK,aAC7DxG,OAAO,G,iDACR,QAEFV,EAAAA,EAAAA,GAAuC,aAAAwC,EAAAA,EAAAA,IAA9BqE,EAAeM,OAAK,Q,QAGjCC,OAQJpH,EAAAA,EAAAA,GA+BM,MA/BNqH,EA+BM,CA7BKtG,EAAAsB,MAAMM,kBAIQ,iBAJQ,WAD/BxC,EAAAA,EAAAA,IAMS,U,MAJPF,MAAM,2BACLW,QAAKC,EAAA,KAAAA,EAAA,GAAA6C,GAAEgC,EAAA3D,MAAM,Y,QAEXzB,EAAAqE,SAAWrE,EAAAY,QAAU,SAAW,SAAd,IAEvBoG,GACAtH,EAAAA,EAAAA,GAqBS,UApBPC,OAAKG,EAAAA,EAAAA,IAAA,CAAC,kCAAiC,CAAAmH,WACjBjH,EAAAY,WACrBP,UAAWI,EAAAsB,MAAMM,mBAAqBrC,EAAAqE,UAAY5D,EAAAsB,MAAMC,WACxD1B,QAAKC,EAAA,MAAAA,EAAA,IAAA6C,IAAiB3C,EAAAsB,MAAMM,kBAAoB5B,EAAAsB,MAAMC,WAA0BoD,EAAA3D,MAAK,SAA0ChB,EAAAyG,M,aAS9HlH,EAAAqE,QAAO,SAAsC5D,EAAAsB,MAAMM,iBAAgB,QAAqC5B,EAAAsB,MAAMC,WAAU,0B,mCA2BlI,GACElB,KAAM,gBACNM,MAAO,CAAC,SACR+F,WAAY,CACVC,UAASA,EAAAA,GAEX/F,OACE,MAAO,CACLgD,SAAS,EACTzD,SAAS,EACTkD,UAAW,GACXwC,iBAAkB,CAChB,CACEnD,IAAK,eACL0D,MAAO,8BACPD,YAAa,mCACbJ,QAAS,gBAEX,CACErD,IAAK,eACL0D,MAAO,4BACPD,YAAa,6BACbJ,QAAS,gBAEX,CACErD,IAAK,aACL0D,MAAO,iCACPD,YAAa,8BACbJ,QAAS,cAEX,CACErD,IAAK,gBACL0D,MAAO,8BACPD,YAAa,6BACbJ,QAAS,iBAEX,CACErD,IAAK,mBACL0D,MAAO,wBACPD,YAAa,wBACbJ,QAAS,oBAEX,CACErD,IAAK,KACL0D,MAAO,8BACPD,YAAa,sCACbF,QAAQ,EACRF,QAAS,cAIjB,EACAa,SAAU,CACRtF,QACE,OAAOuF,EAAAA,EAAAA,IACT,EACA1C,eACE,OAAQtD,KAAKS,OAAOwF,aAAaC,OAAOC,YAC1C,EACAxD,gBACE,OACG3C,KAAKV,SACNU,KAAKwC,WACLxC,KAAKwC,UAAU4D,SAAS,MACxBpG,KAAKwC,UAAU6D,MAAM,KAAK,GAAGD,SAAS,IAE1C,EACAjB,eACE,OAAOnF,KAAKgF,iBAAiBsB,QAAO,CAACC,EAAKC,KACxCD,EAAIC,EAAI3E,KAAO7B,KAAKS,MAAMwF,aAAaC,OAAOO,aAAaD,EAAI3E,OAAQ,EAChE0E,IACN,CAAC,EACN,GAEFrG,QAAS,CACPqD,sBAAsB7D,GACpB,GAAIM,KAAKS,MAAMwF,YAAa,CAC1B,IAAIS,GAAU1G,KAAKS,MAAMwF,aAAaC,OAAOC,aACzCO,GAAUhH,GAEZM,KAAKS,MACFkG,0BAA0B,CACzBT,MAAO,IACFlG,KAAKS,MAAMwF,YAAYC,MAC1BC,cAAezG,KAGlB6E,MAAK,KACJvE,KAAK+C,SAAU,EACf,IAAI6D,EAAAA,GACFlH,EACI,mDACA,0CACJ,IACD,GAGT,CACF,EACA2F,kBAAkBxD,EAAKyD,GACrB,GAAItF,KAAKS,MAAMwF,YAAa,CAE1B,MAAMS,EAAS1G,KAAKS,MAAMwF,aAAaC,OAAOO,YAAc,CAAC,EACvDI,GAAWH,EAAO7E,GAClBiF,EAAQ,IAAKJ,EAAQ,CAAC7E,IAAO6E,EAAO7E,IAC1C7B,KAAKS,MACFkG,0BAA0B,CACzBT,MAAO,IACFlG,KAAKS,MAAMwF,YAAYC,MAC1BO,WAAYK,KAGfvC,MAAK,KACJvE,KAAK+C,SAAU,EACf,IAAI6D,EAAAA,GACFC,EAAW,wBAAuBvB,IAAiB,kBAAiBA,IACpE,IACD,IAEFyB,OAAOC,IACNhH,KAAK+C,SAAU,EACf,IAAIkE,EAAAA,GACFJ,EACK,oCAAmCvB,IACnC,gCAA+BA,IACpC0B,EACA,IACD,GAEP,CACF,EACApB,OAEO5F,KAAKV,SACRU,KAAKG,MAAM,QAEf,EACAuC,gBACO1C,KAAKS,MAAMM,mBACdf,KAAK+C,SAAU,EACf/C,KAAKV,SAAU,EACfU,KAAKS,MACFiC,cAAc1C,KAAKwC,WACnB+B,MAAK,KACJvE,KAAKV,SAAU,EACfU,KAAKwC,UAAY,EAAE,IAEpBuE,OAAM,KACL/G,KAAKV,SAAU,EACfU,KAAK+C,SAAU,CAAK,IAG5B,EACAhB,gBAAgBL,GACd1B,KAAK+C,SAAU,EACf/C,KAAKV,SAAU,EACfU,KAAKS,MACFsB,gBAAgBL,GAChB6C,MAAK,KACJvE,KAAKV,SAAU,CAAK,IAErByH,OAAM,KACL/G,KAAKV,SAAU,EACfU,KAAK+C,SAAU,CAAK,GAE1B,EACAT,YAEE,GAAItC,KAAKwC,UAAU4D,SAAS,KAAM,CAChC,IAAK5G,EAAM0H,GAAUlH,KAAKwC,UAAU6D,MAAM,KACtC7G,EAAK4G,SAAS,OAChB5G,EAAOA,EAAK6G,MAAM,KAAK,GACvBrG,KAAKwC,UAAa,GAAEhD,KAAQ0H,IAEhC,CACF,I,QCnZJ,MAAM9G,IAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://mvtime/./src/components/ToggleBar.vue","webpack://mvtime/./src/components/ToggleBar.vue?75d5","webpack://mvtime/./src/views/Portal/SettingsModal.vue","webpack://mvtime/./src/views/Portal/SettingsModal.vue?2de1"],"sourcesContent":["<template>\n  <div\n    class=\"toggle_switch\"\n    :class=\"{ toggle_switch__on: is_on, transition: !loads }\"\n    :disabled=\"disabled\"\n    @click=\"toggle\"\n  >\n    <div v-if=\"loads\" class=\"toggle_switch__loading\" :class=\"{ is_loading: loading }\">\n      <span class=\"loading_bg\"></span>\n    </div>\n    <div class=\"toggle_switch_knob\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ToggleBar\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    loads: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: [\"update\"],\n  data() {\n    return {\n      is_on: this.value,\n      loading: false,\n    };\n  },\n  watch: {\n    value() {\n      this.is_on = this.value;\n      this.loading = false;\n    },\n  },\n  methods: {\n    toggle() {\n      if (this.disabled) return;\n      if (this.loads) {\n        this.loading = true;\n      } else {\n        this.is_on = !this.is_on;\n      }\n      this.$emit(\"update\", !this.is_on);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.toggle_switch {\n  display: inline-block;\n  overflow: hidden;\n  user-select: none;\n  font-size: 1.4em;\n  width: 2.2em;\n  height: 1em;\n  border-radius: var(--radius-button-display);\n  background-color: var(--color-button-display);\n  position: relative;\n  cursor: pointer;\n  opacity: 0.8;\n}\n.toggle_switch.transition {\n  transition: background-color 0.2s ease-in-out;\n}\n.toggle_switch[disabled=\"true\"] {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.toggle_switch_knob {\n  width: calc(1em - 6px);\n  height: calc(1em - 6px);\n  border-radius: calc(0.7 * var(--radius-button-display));\n  background-color: var(--color-on-overlay-input);\n  position: absolute;\n  top: 3px;\n  left: 3px;\n\n  opacity: 0.3;\n}\n.toggle_switch .toggle_switch_knob {\n  transition: left 0.1s ease-in-out, scale 0.1s ease-in-out;\n}\n.toggle_switch.transition .toggle_switch_knob {\n  transition: left 0.2s ease-in-out, background-color 0.2s ease-in-out, opacity 0.2s ease-in-out,\n    scale 0.1s ease-in-out;\n}\nmain.parent:not(.simplified) .toggle_switch:not([disabled=\"true\"]):hover .toggle_switch_knob {\n  left: 6px;\n  scale: 0.9;\n}\n\nmain.parent:not(.simplified)\n  .toggle_switch:not([disabled=\"true\"]).toggle_switch__on:hover\n  .toggle_switch_knob {\n  left: calc(100% - 1em);\n}\n\n.toggle_switch__on {\n  background-color: var(--color-theme-alt);\n}\n.toggle_switch__on .toggle_switch_knob {\n  left: calc(100% - 1em + 3px);\n  background-color: var(--color-theme);\n  opacity: 1;\n}\n\n.toggle_switch__loading {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  background-color: var(--color-button-display);\n  opacity: 0;\n  transition: opacity 0.05s ease-in-out;\n  transition-delay: 0.1s;\n}\n.toggle_switch__loading.is_loading {\n  opacity: 1;\n}\n.toggle_switch__loading > .loading_bg {\n  display: block;\n  width: 100%;\n  height: 100%;\n  background-size: 1.5em;\n  filter: invert(0.8);\n}\n</style>\n","import { render } from \"./ToggleBar.vue?vue&type=template&id=521703de&scoped=true\"\nimport script from \"./ToggleBar.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleBar.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleBar.vue?vue&type=style&index=0&id=521703de&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-521703de\"]])\n\nexport default __exports__","<template>\n  <div class=\"settings\">\n    <header class=\"modal_header\">\n      <h2 class=\"header_style modal_header_title\">Account Preferences</h2>\n    </header>\n    <div class=\"overlay_contents\">\n      <div v-if=\"!store.is_teacher\" class=\"overlay_contents_section\">\n        <div class=\"overlay_contents_text\">\n          You can link a personal (non-{{ this.store.ORG_DOMAIN.substring(1) }}) account to access\n          MVTT when not signed into your school account below!\n        </div>\n        <div class=\"overlay_contents_text\" v-if=\"store.personal_account\">\n          <br />\n          You're currently signed in using a personal account. You can unlink it, or link more\n          emails, through your main account.\n        </div>\n        <div class=\"inputs_row linked_accounts_row\">\n          <div class=\"styled_input styled_links_box\">\n            <div class=\"styled_links_display\">\n              <span\n                v-if=\"!store.linked_accounts || !store.linked_accounts.length\"\n                class=\"placeholder\"\n                >No linked accounts, add one below</span\n              >\n              <div v-else class=\"styled_line_links\">\n                <div\n                  class=\"styled_line_links__account\"\n                  v-for=\"email in store.linked_accounts\"\n                  :class=\"{ active: store.personal_account && store.user.email == email }\"\n                  :key=\"email\"\n                >\n                  <div\n                    class=\"styled_line_links__remove\"\n                    @click=\"uninvite_linked(email)\"\n                    v-if=\"!store.personal_account\"\n                    title=\"Remove Account\"\n                  >\n                    <div class=\"remove_icon\"></div>\n                  </div>\n                  <div class=\"styled_line_links__email\">{{ email }}</div>\n                </div>\n              </div>\n            </div>\n            <hr class=\"styled_links_separator\" />\n            <div class=\"styled_links_add\" :class=\"{ links_personal: store.personal_account }\">\n              <input\n                class=\"styled_links_add__text\"\n                type=\"email\"\n                @input=\"fix_email\"\n                @update=\"fix_email\"\n                v-model=\"new_email\"\n                placeholder=\"Personal Email\"\n                :disabled=\"store.personal_account || loading\"\n              />\n              <button\n                class=\"styled_links_add__action\"\n                @click=\"invite_linked\"\n                :disabled=\"!ready_to_link\"\n              >\n                {{ store.personal_account ? \"UNAVALIABLE\" : \"Add\" }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"!store.personal_account\" class=\"overlay_contents_text overlay_contents_section\">\n        Click\n        <span\n          class=\"button_pointer_text click-action\"\n          @click=\"\n            store.toggle_teacher();\n            changed = true;\n          \"\n        >\n          here </span\n        >&MediumSpace; to {{ store.is_teacher ? \"disable\" : \"enable\" }} teacher mode\n        <span v-if=\"store.is_teacher\">and return to the student view.</span>\n        <span v-else\n          >to create, and manage your own classes and tasks. This may require setup by an admin if\n          you do not have a teacher email.</span\n        >\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <div class=\"pause_popup_section\">\n          <ToggleBar\n            class=\"click-action\"\n            :value=\"show_timeout\"\n            @update=\"update_timeout_option\"\n            :loads=\"true\"\n          />\n          &nbsp;\n          <span\n            >Session timeout popup <b>{{ show_timeout ? \"enabled\" : \"disabled\" }}</b></span\n          >\n        </div>\n        <div class=\"pause_popup_section__details overlay_contents_section_details\">\n          The popup helps conserve local and network resources. To have MVTT open on the side\n          without it getting in the way, you can toggle it above, though you may then have to reload\n          to get the newest data\n        </div>\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        To change your theme, use the\n        <span\n          id=\"theme_pointer_button\"\n          class=\"button_pointer_text button_pointer_icon click-action\"\n          @click=\"store.toggle_theme()\"\n        >\n          <div class=\"theme_icon icon\"></div>\n          Switch Theme\n        </span>\n        button on the left sidebar or homepage\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        To see how you've been feeling,\n        <span\n          id=\"stats_pointer_button\"\n          class=\"button_pointer_text button_pointer_icon click-action\"\n          @click=\"$router.push({ name: 'stats', query: $route.query })\"\n        >\n          <div class=\"stats_icon themed_icon icon\"></div>\n          View your stats\n        </span>\n        and get an insight into your mental health and productivity\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <span class=\"tutorial_redo_section\">\n          Feeling lost? Try\n          <span\n            class=\"button_pointer_text click-action\"\n            @click=\"\n              changed = true;\n              store.finish_tutorial(false).then(() => {\n                $emit('close');\n              });\n            \"\n          >\n            redoing the tutorial </span\n          >. We'll keep this updated as we add new features!\n        </span>\n        <span class=\"simplified_view_section\">\n          You can also\n          <span\n            class=\"button_pointer_text click-action\"\n            @click=\"\n              changed = true;\n              store.set_account_pref('simplified', !store.simplified);\n            \"\n          >\n            {{ store.simplified ? \"leave\" : \"enter\" }} simplified view\n          </span>\n          to\n          <span v-if=\"!store.simplified\">make MVTT easier to use on slower devices</span>\n          <span v-else>get back the classic interface</span>.\n        </span>\n      </div>\n      <div class=\"overlay_contents_text overlay_contents_section\">\n        <p class=\"email_text\">\n          You can find controls for your email preferences below. You're opted into all important\n          emails by default.\n        </p>\n        <div class=\"email_sections\">\n          <div\n            class=\"email_section\"\n            v-for=\"email_category in email_categories\"\n            :key=\"email_category.sort_as\"\n          >\n            <ToggleBar\n              class=\"click-action\"\n              :value=\"!unsubed_from[email_category.sort_as]\"\n              :disabled=\"email_category.locked\"\n              @update=\"update_email_pref(email_category.key, email_category.description)\"\n              :loads=\"true\"\n            />\n            &nbsp;\n            <span>{{ email_category.label }}</span>\n          </div>\n        </div>\n        <div class=\"email_section__details overlay_contents_section_details\">\n          We'll try to send you as few emails as possible, but some notifications are essential to\n          the operation of MVTT, such as those for account linkage and important account changes.\n          Note that linked accounts may also inherit some of your email preferences from their\n          student account.\n        </div>\n      </div>\n    </div>\n    <div class=\"bottom_actions\">\n      <button\n        v-if=\"!store.personal_account\"\n        class=\"back_action click_escape\"\n        @click=\"$emit('close')\"\n      >\n        {{ changed || loading ? \"Cancel\" : \"Close\" }}\n      </button>\n      <div class=\"flex_spacer\"></div>\n      <button\n        class=\"continue_action click_ctrlenter\"\n        :class=\"{ loading_bg: loading }\"\n        :disabled=\"!store.personal_account && !changed && !store.is_teacher\"\n        @click=\"\n          if (store.personal_account || store.is_teacher) {\n            $emit('close');\n          } else {\n            save();\n          }\n        \"\n      >\n        {{\n          changed\n            ? \"Finish\"\n            : store.personal_account\n            ? \"Close\"\n            : store.is_teacher\n            ? \"Done\"\n            : \"Finish\"\n        }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * Settings modal for managing user preferences.\n *\n * @module SettingsModal\n * @description Modal that allows users to manage their settings, which is at this point just linked accounts.\n * @requires module:store/MainStore\n * @emits {Function} close - An event emitted when the modal is closed.\n */\n\nimport { useMainStore } from \"@/store\";\nimport ToggleBar from \"@/components/ToggleBar.vue\";\nimport \"@/assets/style/overlay.css\";\nimport { SuccessToast, ErrorToast } from \"@svonk/util\";\nexport default {\n  name: \"SettingsModal\",\n  emits: [\"close\"],\n  components: {\n    ToggleBar,\n  },\n  data() {\n    return {\n      changed: false,\n      loading: false,\n      new_email: \"\",\n      email_categories: [\n        {\n          key: \"task-created\",\n          label: \"Task creation notifications\",\n          description: \"emails about newly created tasks\",\n          sort_as: \"task-created\",\n        },\n        {\n          key: \"task-updated\",\n          label: \"Task update notifications\",\n          description: \"emails about changed tasks\",\n          sort_as: \"task-updated\",\n        },\n        {\n          key: \"task-moved\",\n          label: \"Task date change notifications\",\n          description: \"emails when tasks are moved\",\n          sort_as: \"task-moved\",\n        },\n        {\n          key: \"task-archived\",\n          label: \"Task deletion notifications\",\n          description: \"emails about removed tasks\",\n          sort_as: \"task-archived\",\n        },\n        {\n          key: \"scheduled-weekly\",\n          label: \"Weekly summary emails\",\n          description: \"weekly summary emails\",\n          sort_as: \"scheduled-weekly\",\n        },\n        {\n          key: null,\n          label: \"Essential emails (required)\",\n          description: \"essential emails about your account\",\n          locked: true,\n          sort_as: \"essential\",\n        },\n      ],\n    };\n  },\n  computed: {\n    store() {\n      return useMainStore();\n    },\n    show_timeout() {\n      return !this.store?.account_doc?.prefs?.hide_timeout;\n    },\n    ready_to_link() {\n      return (\n        !this.loading &&\n        this.new_email &&\n        this.new_email.includes(\"@\") &&\n        this.new_email.split(\"@\")[1].includes(\".\")\n      );\n    },\n    unsubed_from() {\n      return this.email_categories.reduce((acc, cur) => {\n        acc[cur.key] = this.store.account_doc?.prefs?.unsub_from?.[cur.key] || false;\n        return acc;\n      }, {});\n    },\n  },\n  methods: {\n    update_timeout_option(value) {\n      if (this.store.account_doc) {\n        let before = !this.store.account_doc?.prefs?.hide_timeout;\n        if (before != value) {\n          // update the value\n          this.store\n            .update_wrapper_with_merge({\n              prefs: {\n                ...this.store.account_doc.prefs,\n                hide_timeout: !value,\n              },\n            })\n            .then(() => {\n              this.changed = true;\n              new SuccessToast(\n                value\n                  ? \"We'll show the popup when your session times out\"\n                  : \"You won't see the timeout popup anymore\",\n                2000\n              );\n            });\n        }\n      }\n    },\n    update_email_pref(key, description) {\n      if (this.store.account_doc) {\n        // update account_doc.prefs.unsub_from value to toggle the value of this key\n        const before = this.store.account_doc?.prefs?.unsub_from || {};\n        const new_val = !before[key];\n        const after = { ...before, [key]: !before[key] };\n        this.store\n          .update_wrapper_with_merge({\n            prefs: {\n              ...this.store.account_doc.prefs,\n              unsub_from: after,\n            },\n          })\n          .then(() => {\n            this.changed = true;\n            new SuccessToast(\n              new_val ? `You'll no longer get ${description}` : `You'll now get ${description}`,\n              2000\n            );\n          })\n          .catch((err) => {\n            this.changed = false;\n            new ErrorToast(\n              new_val\n                ? `We couldn't unsubscribe you from ${description}`\n                : `We couldn't subscribe you to ${description}`,\n              err,\n              2000\n            );\n          });\n      }\n    },\n    save() {\n      // close the modal if the save was successful\n      if (!this.loading) {\n        this.$emit(\"close\");\n      }\n    },\n    invite_linked() {\n      if (!this.store.personal_account) {\n        this.changed = true;\n        this.loading = true;\n        this.store\n          .invite_linked(this.new_email)\n          .then(() => {\n            this.loading = false;\n            this.new_email = \"\";\n          })\n          .catch(() => {\n            this.loading = false;\n            this.changed = false;\n          });\n      }\n    },\n    uninvite_linked(email) {\n      this.changed = true;\n      this.loading = true;\n      this.store\n        .uninvite_linked(email)\n        .then(() => {\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n          this.changed = false;\n        });\n    },\n    fix_email() {\n      // fix emails so that they can be signed into with google even if they used the + notation\n      if (this.new_email.includes(\"@\")) {\n        let [name, domain] = this.new_email.split(\"@\");\n        if (name.includes(\"+\")) {\n          name = name.split(\"+\")[0];\n          this.new_email = `${name}@${domain}`;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.pause_popup_section,\n.email_section {\n  line-height: 1.75;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5em;\n  /* margin-top: 0.75em; */\n}\n.email_sections {\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 0.5em;\n}\n.email_section {\n  display: flex;\n}\n.remove_icon {\n  filter: var(--filter-icon);\n  background-image: url(@/assets/img/general/portal/remove.png);\n  background-image: url(@/assets/img/general/portal/remove.svg);\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.add_button {\n  max-width: 100px;\n}\n.add_button[disabled] {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.styled_line_links {\n  gap: 10px;\n}\n.linked_accounts_row {\n  margin-bottom: 0;\n}\n/* make space for new button text */\n.links_personal .styled_links_add__text {\n  flex-basis: 0;\n  width: 20px;\n}\n.overlay_contents_section_details {\n  margin-top: 0.5em;\n  opacity: 0.8;\n  font-size: 0.9em;\n  line-height: 1.5em;\n}\n.email_text {\n  margin: 0;\n  margin-bottom: 0.5em;\n}\n.stats_icon {\n  background-image: url(@/assets/img/general/portal/stats.png);\n  background-image: url(@/assets/img/general/portal/stats.svg);\n}\n</style>\n","import { render } from \"./SettingsModal.vue?vue&type=template&id=82354828&scoped=true\"\nimport script from \"./SettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./SettingsModal.vue?vue&type=style&index=0&id=82354828&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-82354828\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_2","_createElementBlock","_normalizeClass","toggle_switch__on","$data","is_on","transition","$props","loads","disabled","onClick","_cache","args","$options","toggle","is_loading","loading","_hoisted_4","name","props","value","type","Boolean","default","emits","data","this","watch","methods","$emit","__exports__","render","_hoisted_14","_hoisted_1","_hoisted_3","store","is_teacher","_hoisted_5","_toDisplayString","ORG_DOMAIN","substring","personal_account","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","linked_accounts","length","_hoisted_12","_Fragment","_renderList","email","active","user","key","$event","uninvite_linked","title","_hoisted_16","_hoisted_11","_hoisted_17","links_personal","onInput","fix_email","onUpdate","new_email","placeholder","invite_linked","ready_to_link","_hoisted_19","_hoisted_20","toggle_teacher","changed","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_createVNode","_component_ToggleBar","show_timeout","update_timeout_option","_hoisted_25","_hoisted_26","id","toggle_theme","_hoisted_27","_hoisted_28","_ctx","$router","push","query","$route","_hoisted_29","_hoisted_30","_hoisted_31","finish_tutorial","then","_hoisted_32","set_account_pref","simplified","_hoisted_34","_hoisted_33","_hoisted_35","_hoisted_36","_hoisted_37","email_categories","email_category","sort_as","unsubed_from","locked","update_email_pref","description","label","_hoisted_38","_hoisted_39","_hoisted_40","loading_bg","save","components","ToggleBar","computed","useMainStore","account_doc","prefs","hide_timeout","includes","split","reduce","acc","cur","unsub_from","before","update_wrapper_with_merge","SuccessToast","new_val","after","catch","err","ErrorToast","domain"],"sourceRoot":""}