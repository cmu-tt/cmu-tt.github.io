{"version":3,"file":"js/643.5cf3b904.js","mappings":"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","sources":["webpack://mvtime/./src/views/Portal/ViewTask.vue","webpack://mvtime/./src/views/Portal/ViewTask.vue?3005"],"sourcesContent":["<template>\r\n  <main class=\"viewtask\">\r\n    <header class=\"modal_header\">\r\n      <h2 class=\"header_style modal_header_title\">\r\n        View {{ task.type ? task.type : \"task\" }} details\r\n      </h2>\r\n    </header>\r\n    <div class=\"overlay_contents\">\r\n      <div class=\"spaced_contents\">\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Class:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{ task.group || task.class_name }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Name:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{ task.name }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Date:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{\r\n            new Date(task.date).toLocaleDateString(undefined, {\r\n              weekday: \"long\",\r\n              month: \"long\",\r\n              day: \"numeric\",\r\n            })\r\n          }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Description:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span\r\n            class=\"styled_line__value\"\r\n            v-html=\"task.description ? task.description : 'Not Provided'\"\r\n          ></span>\r\n        </div>\r\n        <div class=\"styled_obj links_obj\" v-if=\"task.links\">\r\n          <span class=\"styled_line__label\">Links:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value styled_line_links\">\r\n            <a\r\n              class=\"styled_line_links__link\"\r\n              v-for=\"task_link in task.links\"\r\n              target=\"_blank\"\r\n              :key=\"task_link.path\"\r\n              :href=\"task_link.path\"\r\n              >{{ task_link.text }}</a\r\n            >\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"overlay_contents_text\">\r\n        Information is provided by teachers and volunteer students, and may not always be correct\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom_actions\">\r\n      <button class=\"share_action\" @click=\"share_task\">Share</button>\r\n      <div class=\"flex_spacer\"></div>\r\n      <button\r\n        class=\"delete_action primary_styled\"\r\n        v-if=\"store.is_teacher && store.user && task.class_id.split('/')[0] == store.user.email\"\r\n        @click=\"store.delete_task(task)\"\r\n      >\r\n        Delete\r\n      </button>\r\n      <button class=\"continue_action\" @click=\"$emit('close')\">Close</button>\r\n    </div>\r\n  </main>\r\n</template>\r\n<script>\r\n/**\r\n * Displays the details of a task and allows the teacher to delete it, or any user to share it (as JSON in the URI).\r\n *\r\n * @module ViewTaskView\r\n * @description Modal that displays the details of a task and allows the teacher to delete it.\r\n * @requires module:store/MainStore\r\n * @emits {Function} close - An event emitted when the modal is closed.\r\n */\r\n\r\nimport { WarningToast, ErrorToast, SuccessToast } from \"@svonk/util\";\r\nimport { _statuslog } from \"@/common\";\r\nimport { useMainStore } from \"@/store\";\r\nexport default {\r\n  name: \"ViewTaskView\",\r\n  emits: [\"close\"],\r\n  computed: {\r\n    /** The task to display */\r\n    task() {\r\n      let task = this.$route?.query?.task;\r\n      task = task ? JSON.parse(task) : {};\r\n      if (task?.links) {\r\n        task.links = task.links.filter((link) => link.text && link.path);\r\n      } else {\r\n        task.links = null;\r\n      }\r\n      return task;\r\n    },\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  /** If no task is specified at creation, close the modal */\r\n  created() {\r\n    if (!this.task) {\r\n      new WarningToast(\"No task specified\", 1000);\r\n      this.$emit(\"close\");\r\n    }\r\n  },\r\n  methods: {\r\n    /** Shares the task as JSON in the URI, or copies the URI to the clipboard if sharing is not supported */\r\n    async share_task() {\r\n      if (navigator.share) {\r\n        navigator\r\n          .share({\r\n            title: this.task.name,\r\n            text: this.task.description,\r\n            url: window.location.href,\r\n          })\r\n          .then(() => new SuccessToast(\"Opened share dialog\", 1000))\r\n          .catch((err) => _statuslog(\"Error sharing\", err));\r\n      } else if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(window.location.href);\r\n        new WarningToast(\"Sharing not supported, copied link to clipboard\", 2000);\r\n      } else {\r\n        new ErrorToast(\"Sharing not supported\", 2000);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.spaced_contents {\r\n  margin-top: 0;\r\n}\r\n</style>\r\n","import { render } from \"./ViewTask.vue?vue&type=template&id=706664a0&scoped=true\"\nimport script from \"./ViewTask.vue?vue&type=script&lang=js\"\nexport * from \"./ViewTask.vue?vue&type=script&lang=js\"\n\nimport \"./ViewTask.vue?vue&type=style&index=0&id=706664a0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-706664a0\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$options","task","type","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","group","class_name","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","name","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","Date","date","toLocaleDateString","undefined","_hoisted_18","_hoisted_19","_hoisted_20","innerHTML","description","links","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_Fragment","_renderList","task_link","target","key","path","href","text","_hoisted_26","_hoisted_27","_hoisted_28","onClick","_cache","args","share_task","_hoisted_29","store","is_teacher","user","class_id","split","email","$event","delete_task","_ctx","$emit","emits","computed","this","$route","query","JSON","parse","filter","link","useMainStore","created","WarningToast","methods","async","navigator","share","title","url","window","location","then","SuccessToast","catch","err","_statuslog","clipboard","writeText","ErrorToast","__exports__","render"],"sourceRoot":""}