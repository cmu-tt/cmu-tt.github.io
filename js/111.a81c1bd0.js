"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[111],{7111:function(e,n,i){i.r(n),i.d(n,{default:function(){return I}});var l=i(3396),s=i(7139),t=i(9242);const a=e=>((0,l.dD)("data-v-c083a0c6"),e=e(),(0,l.Cn)(),e),c={class:"settings"},o=a((()=>(0,l._)("header",{class:"modal_header"},[(0,l._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),_={class:"overlay_contents"},d=a((()=>(0,l._)("div",{class:"overlay_contents_text"}," You can link a personal (non-mvla.net) account to access MVTT when not signed into your school account below! ",-1))),u={class:"inputs_row"},h={class:"styled_input styled_links_box"},r={class:"styled_links_display"},k={key:0,class:"placeholder"},m={key:1,class:"styled_line_links"},v=["onClick"],g=a((()=>(0,l._)("div",{class:"remove_icon"},null,-1))),w=[g],p={class:"styled_line_links__email"},y=a((()=>(0,l._)("hr",{class:"styled_links_separator"},null,-1))),b={class:"styled_links_add"},f=["disabled"],x=a((()=>(0,l._)("div",{class:"overlay_contents_text"},[(0,l.Uk)(" To change your theme, use the "),(0,l._)("span",{class:"button_pointer_text button_pointer_icon"},[(0,l._)("div",{class:"theme_icon icon"}),(0,l.Uk)(" Switch Theme ")]),(0,l.Uk)(" button on the left sidebar ")],-1))),C={class:"bottom_actions"},D=a((()=>(0,l._)("div",{class:"flex_spacer"},null,-1))),U=["disabled"];function T(e,n,i,a,g,T){return(0,l.wg)(),(0,l.iD)("div",c,[o,(0,l._)("div",_,[d,(0,l._)("div",u,[(0,l._)("div",h,[(0,l._)("div",r,[T.store.linked_accounts&&T.store.linked_accounts.length?((0,l.wg)(),(0,l.iD)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(T.store.linked_accounts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"styled_line_links__account",key:e},[(0,l._)("div",{class:"styled_line_links__remove",onClick:n=>T.unlink_account(e),title:"Remove Account"},w,8,v),(0,l._)("div",p,(0,s.zw)(e),1)])))),128))])):((0,l.wg)(),(0,l.iD)("span",k,"No linked accounts, add one below"))]),y,(0,l._)("div",b,[(0,l.wy)((0,l._)("input",{class:"styled_links_add__text",type:"email",onInput:n[0]||(n[0]=(...e)=>T.fix_email&&T.fix_email(...e)),onUpdate:n[1]||(n[1]=(...e)=>T.fix_email&&T.fix_email(...e)),"onUpdate:modelValue":n[2]||(n[2]=e=>g.new_email=e),placeholder:"Personal Email"},null,544),[[t.nr,g.new_email]]),(0,l._)("button",{class:"styled_links_add__action",onClick:n[3]||(n[3]=(...e)=>T.link_account&&T.link_account(...e)),disabled:!T.ready_to_link}," Add ",8,f)])])]),x]),(0,l._)("div",C,[(0,l._)("button",{class:"back_action",onClick:n[4]||(n[4]=n=>e.$emit("close"))},(0,s.zw)(g.changed||g.loading?"Cancel":"Close"),1),D,(0,l._)("button",{class:(0,s.C_)(["continue_action",{loading_bg:g.loading}]),disabled:!g.changed,onClick:n[5]||(n[5]=(...e)=>T.save&&T.save(...e))}," Save ",10,U)])])}var $=i(8980),A={name:"SettingsModal",emits:["close"],data(){return{changed:!1,loading:!1,new_email:""}},computed:{store(){return(0,$.h)()},ready_to_link(){return!this.loading&&this.new_email&&this.new_email.includes("@")&&this.new_email.split("@")[1].includes(".")}},methods:{save(){this.loading||this.$emit("close")},link_account(){this.changed=!0,this.loading=!0,this.store.link_account(this.new_email).then((()=>{this.loading=!1,this.new_email=""})).catch((()=>{this.loading=!1,this.changed=!1}))},unlink_account(e){this.changed=!0,this.loading=!0,this.store.unlink_account(e).then((()=>{this.loading=!1})).catch((()=>{this.loading=!1,this.changed=!1}))},fix_email(){if(this.new_email.includes("@")){let[e,n]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${n}`)}}}},S=i(89);const z=(0,S.Z)(A,[["render",T],["__scopeId","data-v-c083a0c6"]]);var I=z}}]);
//# sourceMappingURL=111.a81c1bd0.js.map