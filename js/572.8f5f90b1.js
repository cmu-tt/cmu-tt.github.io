"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[572],{5572:function(e,t,a){a.r(t),a.d(t,{default:function(){return te}});var n=a(3396),s=a(7139);const o={class:"portal"},i={class:"portal_info"},r={class:"portal_info_title"},l={class:"portal_info_usertype"},c={class:"portal_info_date"},d={class:"portal_info_welcome"};function _(e,t,a,_,h,u){const m=(0,n.up)("LeftBar"),p=(0,n.up)("CalendarBlock"),g=(0,n.up)("RightBar");return(0,n.wg)(),(0,n.iD)("main",o,[(0,n.Wm)(m,{ref:"LeftBar",onClose_right_bar:u.close_right_bar},null,8,["onClose_right_bar"]),(0,n._)("div",{class:"portal_content",onClick:t[0]||(t[0]=e=>{u.close_right_bar(),u.close_left_bar()})},[(0,n._)("header",i,[(0,n._)("div",r,[(0,n._)("span",l,(0,s.zw)(u.store.doc&&u.store.doc.is_teacher?"Teacher":"Student")+" Dashboard",1),(0,n._)("span",c,(0,s.zw)((new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)]),(0,n._)("div",d,"Welcome Back "+(0,s.zw)(u.name),1)]),(0,n.Wm)(p,{onDayclick:u.placeholderToast},null,8,["onDayclick"])]),(0,n.Wm)(g,{ref:"RightBar",onClose_left_bar:u.close_left_bar},null,8,["onClose_left_bar"])])}const h=e=>((0,n.dD)("data-v-7653323c"),e=e(),(0,n.Cn)(),e),u=h((()=>(0,n._)("div",{class:"branding-title gohome"},"MV Test Tracker",-1)));function m(e,t,a,o,i,r){const l=(0,n.up)("SidebarToggle");return(0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)(["left-bar portal_sidebar",{active:i.sidebar_open}]),onClick:t[0]||(t[0]=(...e)=>r.show_if_inactive&&r.show_if_inactive(...e))},[u,(0,n.Wm)(l,{class:"right",onClick:r.close_sidebar},null,8,["onClick"])],2)}const p=e=>((0,n.dD)("data-v-16a87c58"),e=e(),(0,n.Cn)(),e),g={class:"sidebar_toggle"},v=p((()=>(0,n._)("div",{class:"arrow-icon"},null,-1))),b=[v];function f(e,t,a,s,o,i){return(0,n.wg)(),(0,n.iD)("button",g,b)}var w={name:"SidebarToggle"},D=a(89);const C=(0,D.Z)(w,[["render",f],["__scopeId","data-v-16a87c58"]]);var k=C,y={name:"LeftBar",components:{SidebarToggle:k},emits:["close_right_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_right_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const B=(0,D.Z)(y,[["render",m],["__scopeId","data-v-7653323c"]]);var T=B;const L=e=>((0,n.dD)("data-v-231c2e3f"),e=e(),(0,n.Cn)(),e),S=L((()=>(0,n._)("div",{class:"auth-action can-logout doprompt"},"Log Out",-1)));function z(e,t,a,o,i,r){const l=(0,n.up)("SidebarToggle");return(0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)(["right-bar portal_sidebar",{active:i.sidebar_open}]),onClick:t[0]||(t[0]=(...e)=>r.show_if_inactive&&r.show_if_inactive(...e))},[S,(0,n.Wm)(l,{onClick:r.close_sidebar},null,8,["onClick"])],2)}var M={name:"RightBar",components:{SidebarToggle:k},emits:["close_left_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_left_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const W=(0,D.Z)(M,[["render",z],["__scopeId","data-v-231c2e3f"]]);var I=W;const R=e=>((0,n.dD)("data-v-32c7fa14"),e=e(),(0,n.Cn)(),e),Z={class:"calendar"},$={class:"calendar_header"},x=["title"],E={class:"calendar_actions"},N=R((()=>(0,n._)("div",{class:"action_icon arrow-icon left"},null,-1))),U=[N],Y=R((()=>(0,n._)("div",{class:"action_icon arrow-icon right"},null,-1))),A=[Y],F={class:"calendar_days_container"},P={class:"calendar_days"},H=["hastest","isplaceholder","onClick"],K={class:"calendar_day_date"},O=R((()=>(0,n._)("div",{class:""},null,-1)));function V(e,t,a,o,i,r){return(0,n.wg)(),(0,n.iD)("main",Z,[(0,n._)("div",$,[(0,n._)("div",{class:"calendar_date",title:i.loaded_month.toDateString()},(0,s.zw)(i.loaded_month.toLocaleDateString("en-US",{month:"long",year:"numeric"})),9,x),(0,n._)("nav",E,[(0,n._)("button",{class:"calendar_action",onClick:t[0]||(t[0]=(...e)=>r.prev_month&&r.prev_month(...e)),title:"Previous month"},U),(0,n._)("button",{class:"calendar_action",onClick:t[1]||(t[1]=(...e)=>r.this_month&&r.this_month(...e)),title:"Current month"},[(0,n._)("div",{class:(0,s.C_)(["action_icon cal-icon",{alt:!!a.tests.length}])},null,2)]),(0,n._)("button",{class:"calendar_action",onClick:t[2]||(t[2]=(...e)=>r.next_month&&r.next_month(...e)),title:"Next month"},A)])]),(0,n._)("div",F,[(0,n._)("div",P,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.days,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"calendar_day",hastest:!!t.tests,isplaceholder:t.is_placeholder,key:t.date,onClick:a=>e.$emit("dayclick",t)},[(0,n._)("div",K,(0,s.zw)(new Date(t.date).getDate()),1),O],8,H)))),128))])])])}a(7658);var j={name:"CalendarBlock",props:{tests:{type:Array,default:()=>[]}},data(){return{loaded_month:new Date((new Date).setDate(1))}},methods:{next_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()+1))},this_month(){this.loaded_month=new Date((new Date).setDate(1))},prev_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()-1))}},computed:{days(){const e=[],t=this.loaded_month.getTime();function a(){return new Date(t)}const n=new Date(a().setDate(1)),s=new Date(a().setMonth(a().getMonth()+1,0));for(let o=n.getDay();o>0;o--)e.push({date:new Date(a().setDate(-o)),is_placeholder:!0});for(let o=1;o<=s.getDate();o++)e.push({date:a().setDate(o),tests:this.tests.filter((e=>{const t=new Date(e.date);return t.getDate()===o&&t.getMonth()===a().getMonth()&&t.getFullYear()===a().getFullYear()}))});for(let o=1;e.length<42;o++)e.push({date:a().setDate(s.getDate()+o),is_placeholder:!0});return e}}};const q=(0,D.Z)(j,[["render",V],["__scopeId","data-v-32c7fa14"]]);var G=q,J=a(8980),Q=a(1708),X={name:"AppPortal",components:{LeftBar:T,RightBar:I,CalendarBlock:G},computed:{store(){return(0,J.h)()},name(){let e=this.store;return e.user&&e.user.displayName?e.user.displayName.split(" ")[0]:"User"}},methods:{close_left_bar(){this.$refs.LeftBar.close_sidebar()},close_right_bar(){this.$refs.RightBar.close_sidebar()},placeholderToast:Q.gy}};const ee=(0,D.Z)(X,[["render",_],["__scopeId","data-v-042c3658"]]);var te=ee}}]);
//# sourceMappingURL=572.8f5f90b1.js.map