"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[521],{2521:function(e,t,s){s.r(t),s.d(t,{default:function(){return J}});var i=s(3396),n=s(7139),o=s(9242);const a=e=>((0,i.dD)("data-v-53fad03c"),e=e(),(0,i.Cn)(),e),l={class:"settings"},c=a((()=>(0,i._)("header",{class:"modal_header"},[(0,i._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),_={class:"overlay_contents"},d={key:0,class:"overlay_contents_section"},r={class:"overlay_contents_text"},u={class:"inputs_row linked_accounts_row"},h={class:"styled_input styled_links_box"},p={class:"styled_links_display"},g={key:0,class:"placeholder"},m={key:1,class:"styled_line_links"},v=["onClick"],k=a((()=>(0,i._)("div",{class:"remove_icon"},null,-1))),w=[k],y={class:"styled_line_links__email"},b=a((()=>(0,i._)("hr",{class:"styled_links_separator"},null,-1))),f={class:"styled_links_add"},C=["disabled"],D=["disabled"],x={key:1,class:"overlay_contents_text overlay_contents_section"},T={key:0},U={key:1},z={class:"overlay_contents_text overlay_contents_section"},A={class:"pause_popup_section"},q=a((()=>(0,i._)("div",{class:"pause_popup_section__details"}," The popup helps conserve local and network resources. If you're planning to have MVTT open on the side, or don't want it to get in the way, you can toggle it above. ",-1))),B={class:"overlay_contents_text overlay_contents_section"},I=a((()=>(0,i._)("div",{class:"theme_icon icon"},null,-1))),$={class:"bottom_actions"},M=a((()=>(0,i._)("div",{class:"flex_spacer"},null,-1))),S=["disabled"];function V(e,t,s,a,k,V){const F=(0,i.up)("ToggleBar");return(0,i.wg)(),(0,i.iD)("div",l,[c,(0,i._)("div",_,[V.store.is_teacher?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",r," You can link a personal (non-"+(0,n.zw)(this.store.ORG_DOMAIN.substring(1))+") account to access MVTT when not signed into your school account below! ",1),(0,i._)("div",u,[(0,i._)("div",h,[(0,i._)("div",p,[V.store.linked_accounts&&V.store.linked_accounts.length?((0,i.wg)(),(0,i.iD)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.store.linked_accounts,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["styled_line_links__account",{active:V.store.personal_account&&V.store.user.email==e}]),key:e},[V.store.personal_account?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"styled_line_links__remove",onClick:t=>V.uninvite_linked(e),title:"Remove Account"},w,8,v)),(0,i._)("div",y,(0,n.zw)(e),1)],2)))),128))])):((0,i.wg)(),(0,i.iD)("span",g,"No linked accounts, add one below"))]),b,(0,i._)("div",f,[(0,i.wy)((0,i._)("input",{class:"styled_links_add__text",type:"email",onInput:t[0]||(t[0]=(...e)=>V.fix_email&&V.fix_email(...e)),onUpdate:t[1]||(t[1]=(...e)=>V.fix_email&&V.fix_email(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>k.new_email=e),placeholder:"Personal Email",disabled:V.store.personal_account||k.loading},null,40,C),[[o.nr,k.new_email]]),(0,i._)("button",{class:"styled_links_add__action",onClick:t[3]||(t[3]=(...e)=>V.invite_linked&&V.invite_linked(...e)),disabled:!V.ready_to_link},(0,n.zw)(V.store.personal_account?"UNAVALIABLE":"Add"),9,D)])])])])),V.store.personal_account?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",x,[(0,i.Uk)(" Click "),(0,i._)("span",{class:"button_pointer_text click-action",onClick:t[4]||(t[4]=e=>{V.store.toggle_teacher(),k.changed=!0})}," here "),(0,i.Uk)("  to "+(0,n.zw)(V.store.is_teacher?"disable":"enable")+" teacher mode ",1),V.store.is_teacher?((0,i.wg)(),(0,i.iD)("span",T,"and return to the student view.")):((0,i.wg)(),(0,i.iD)("span",U,"to create, and manage your own classes and tasks. This may require setup by an admin if you do not have a teacher email."))])),(0,i._)("div",z,[(0,i._)("div",A,[(0,i.Wm)(F,{class:"click-action",value:V.show_timeout,onUpdate:V.update_timeout_option,loads:!0},null,8,["value","onUpdate"]),(0,i.Uk)("   "),(0,i._)("span",null,"Session timeout popup "+(0,n.zw)(V.show_timeout?"enabled":"disabled"),1)]),q]),(0,i._)("div",B,[(0,i.Uk)(" To change your theme, use the "),(0,i._)("span",{id:"theme_pointer_button",class:"button_pointer_text button_pointer_icon click-action",onClick:t[5]||(t[5]=e=>V.store.toggle_theme())},[I,(0,i.Uk)(" Switch Theme ")]),(0,i.Uk)(" button on the left sidebar or homepage ")])]),(0,i._)("div",$,[V.store.personal_account?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"back_action",onClick:t[6]||(t[6]=t=>e.$emit("close"))},(0,n.zw)(k.changed||k.loading?"Cancel":"Close"),1)),M,(0,i._)("button",{class:(0,n.C_)(["continue_action",{loading_bg:k.loading}]),disabled:!V.store.personal_account&&!k.changed&&!V.store.is_teacher,onClick:t[7]||(t[7]=t=>{V.store.personal_account||V.store.is_teacher?e.$emit("close"):V.save()})},(0,n.zw)(k.changed?"Finish":V.store.personal_account?"Close":V.store.is_teacher?"Done":"Finish"),11,S)])])}var F=s(8980);const N=e=>((0,i.dD)("data-v-6313031a"),e=e(),(0,i.Cn)(),e),Y=["disabled"],E=N((()=>(0,i._)("span",{class:"loading_bg"},null,-1))),L=[E],O=N((()=>(0,i._)("div",{class:"toggle_switch_knob"},null,-1)));function P(e,t,s,o,a,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["toggle_switch",{toggle_switch__on:a.is_on,transition:!s.loads}]),disabled:s.disabled,onClick:t[0]||(t[0]=(...e)=>l.toggle&&l.toggle(...e))},[s.loads?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.C_)(["toggle_switch__loading",{is_loading:a.loading}])},L,2)):(0,i.kq)("",!0),O],10,Y)}var R={name:"ToggleSwitch",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loads:{type:Boolean,default:!1}},emits:["update"],data(){return{is_on:this.value,loading:!1}},watch:{value(){this.is_on=this.value,this.loading=!1}},methods:{toggle(){this.disabled||(this.loads?this.loading=!0:this.is_on=!this.is_on,this.$emit("update",!this.is_on))}}},W=s(89);const Z=(0,W.Z)(R,[["render",P],["__scopeId","data-v-6313031a"]]);var G=Z,H=s(1708),K={name:"SettingsModal",emits:["close"],components:{ToggleBar:G},data(){return{changed:!1,loading:!1,new_email:""}},computed:{store(){return(0,F.h)()},show_timeout(){return!this.store?.account_doc?.prefs?.hide_timeout},ready_to_link(){return!this.loading&&this.new_email&&this.new_email.includes("@")&&this.new_email.split("@")[1].includes(".")}},methods:{update_timeout_option(e){if(this.store.account_doc){let t=!this.store.account_doc?.prefs?.hide_timeout;t!=e&&this.store.update_wrapper_with_merge({prefs:{...this.store.account_doc.prefs,hide_timeout:!e}}).then((()=>{this.changed=!0,new H.bF(e?"We'll show the popup when your session times out":"You won't see the timeout popup anymore",2e3)}))}},save(){this.loading||this.$emit("close")},invite_linked(){this.store.personal_account||(this.changed=!0,this.loading=!0,this.store.invite_linked(this.new_email).then((()=>{this.loading=!1,this.new_email=""})).catch((()=>{this.loading=!1,this.changed=!1})))},uninvite_linked(e){this.changed=!0,this.loading=!0,this.store.uninvite_linked(e).then((()=>{this.loading=!1})).catch((()=>{this.loading=!1,this.changed=!1}))},fix_email(){if(this.new_email.includes("@")){let[e,t]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${t}`)}}}};const j=(0,W.Z)(K,[["render",V],["__scopeId","data-v-53fad03c"]]);var J=j}}]);
//# sourceMappingURL=521.29f3fb29.js.map