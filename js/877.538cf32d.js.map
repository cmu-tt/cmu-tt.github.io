{"version":3,"file":"js/877.538cf32d.js","mappings":"wPACQA,MAAM,YAAYC,IAAI,QAAQC,GAAG,c,GAChCF,MAAM,kC,GACJA,MAAM,sC,SAGTA,MAAM,mF,UAENG,EAAAA,EAAAA,GAAiF,MAA7EH,MAAM,iDAAgD,sBAAkB,K,GACvEA,MAAM,gC,iXAQPI,G,SAeMJ,MAAM,2E,UAChBG,EAAAA,EAAAA,GAA8D,OAAzDH,MAAM,8BAA8BK,IAAI,gB,cAA7CC,G,GAGCN,MAAM,kB,UAITG,EAAAA,EAAAA,GAA+B,OAA1BH,MAAM,eAAa,W,kBAEMA,MAAM,qB,mEAzCxCO,EAAAA,EAAAA,IA4CO,OA5CPC,EA4CO,EA3CLL,EAAAA,EAAAA,GAiCM,MAjCNM,EAiCM,WAhCJN,EAAAA,EAAAA,GAAkE,MAAlEO,EAAkE,cAAVC,EAAAC,UAExC,QAARC,EAAAC,OAAI,WADZP,EAAAA,EAAAA,IA2BM,MA3BNQ,EA2BM,CAvBJC,GACAb,EAAAA,EAAAA,GAqBM,MArBNc,EAqBM,WApBJd,EAAAA,EAAAA,GAKE,SAJAH,MAAM,0BACNkB,KAAK,O,qCACIL,EAAAM,KAAKC,KAAIC,GAClBC,YAAY,a,iBADHT,EAAAM,KAAKC,SAAI,SAGpBjB,EAAAA,EAAAA,GAOS,UAPDH,MAAM,0B,qCAAmCa,EAAAM,KAAKI,MAAKF,I,cAAVR,EAAAM,KAAKI,UAAK,SAQ3DpB,EAAAA,EAAAA,GAKE,Y,qCAJSU,EAAAM,KAAKK,MAAKH,GACnBrB,MAAM,0CACNkB,KAAK,OACLI,YAAY,oC,iBAHHT,EAAAM,KAAKK,gBAAK,WAOzBjB,EAAAA,EAAAA,IAEM,MAFNkB,EAEMC,OAERvB,EAAAA,EAAAA,GAQM,MARNwB,EAQM,CAPkB,QAARd,EAAAC,OAAI,WAAlBP,EAAAA,EAAAA,IAES,U,MAFqBP,MAAM,eAAgB4B,QAAKC,EAAA,KAAAA,EAAA,GAAAR,GAAES,EAAAC,MAAM,Y,QACpD,QAARlB,EAAAC,MAA+B,IAAbD,EAAAM,KAAKC,MAA4B,IAAdP,EAAAM,KAAKI,MAAc,QAAU,UAAnB,oBAEpDS,GACA7B,EAAAA,EAAAA,GAES,UAFDH,MAAM,kBAAmBiC,UAAWtB,EAAAuB,eAAiBN,QAAKC,EAAA,KAAAA,EAAA,OAAAM,IAAExB,EAAAyB,QAAAzB,EAAAyB,UAAAD,K,mBAC/DxB,EAAA0B,cAAc,IAAD,IAAMlC,EAAAA,EAAAA,GAA6D,OAA7DmC,GAA6DC,EAAAA,EAAAA,IAA1B5B,EAAA0B,cAAc,IAAD,gB,mCAW9E,GACEG,MAAO,CAAC,SACRC,OACE,MAAO,CACL3B,KAAM,OACNK,KAAM,CACJC,KAAM,GACNG,MAAO,GACPC,MAAO,IAGb,EACAkB,SAAU,CACRR,iBAEE,MAAiB,QAAbS,KAAK7B,OACA6B,KAAKxB,KAAKC,KAAKwB,QAAU,GAAwB,IAAnBD,KAAKxB,KAAKI,MAInD,EACAc,gBACE,MAAiB,QAAbM,KAAK7B,KACC6B,KAAKE,OAAOC,KAAqC,CAAC,QAA/B,CAAC,WAAY,eAEhCH,KAAKE,OAAOC,KAAmC,CAAC,YAAa,IAA1C,CAAC,iBAAkB,MAElD,EACAD,QACE,OAAOE,EAAAA,EAAAA,IACT,EACAnC,SACE,IACE,OAAOoC,EAAAA,KAAAA,CAAS,KAA2BL,KAAKM,YAClD,CAAE,MAAOC,GACP,MAAO,KACT,CACF,EACAD,QACE,IAAIE,EAASC,aAAaC,QAAQ,YAC9BC,EAAiBH,EAASA,EAAOI,MAAM,KAAK,GAAG,GAAK,KAExD,MAAO,KAAOD,CAChB,GAEFE,UAEMb,KAAKE,MAAMY,iBAEbd,KAAKZ,MAAM,SACX,IAAI2B,EAAAA,GAAa,yBAA0B,MAGzCf,KAAKE,OAAOC,OACdH,KAAKxB,KAAKC,KAAOuB,KAAKE,MAAMC,MAAMa,aAAe,GAErD,EACAC,QAAS,CACPxB,SACmB,QAAbO,KAAK7B,OAIF6B,KAAKkB,QAAQC,OAAOC,UACvBpB,KAAKqB,QAAQC,QAAQ,CAAE7C,KAAM,OAAQ0C,MAAO,CAAEC,SAAU,wBAE1DpB,KAAK7B,KAAO,QACZoD,EAAAA,EAAAA,GAAW,uBAAwBvB,KAAKxB,MAEnCwB,KAAKE,OAAOC,MAgBfH,KAAKE,MAAMsB,eAAexB,KAAKxB,MAC/BwB,KAAKyB,2BAhBLF,EAAAA,EAAAA,GAAW,sBAEXvB,KAAKE,MACFwB,QACAC,MAAK,KACJ3B,KAAKE,MAAMsB,eAAexB,KAAKxB,MAC/BwB,KAAKyB,uBAAuB,IAE7BG,OAAOC,KACNN,EAAAA,EAAAA,GAAW,uBAAwBM,GACnC,IAAId,EAAAA,GAAa,qCAAuCc,EAAK,KAC7D7B,KAAK7B,KAAO,MAAM,KAQ5B,EACAsD,wBAEMzB,KAAKE,MAAMY,gBACbd,KAAKZ,MAAM,QAEf,GAEF0C,MAAO,CAEL5B,MAAO,CACL6B,UACE/B,KAAKyB,uBACP,EACAO,MAAM,K,QCrJZ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,uBCTA,IAAIC,EAAM,CACT,YAAa,KACb,YAAa,GACb,YAAa,KACb,YAAa,KACb,YAAa,KACb,YAAa,KACb,YAAa,MAId,SAASC,EAAeC,GACvB,IAAI9E,EAAK+E,EAAsBD,GAC/B,OAAOE,EAAoBhF,EAC5B,CACA,SAAS+E,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEL,EAAKE,GAAM,CACpC,IAAI9B,EAAI,IAAIkC,MAAM,uBAAyBJ,EAAM,KAEjD,MADA9B,EAAEmC,KAAO,mBACHnC,CACP,CACA,OAAO4B,EAAIE,EACZ,CACAD,EAAeO,KAAO,WACrB,OAAOC,OAAOD,KAAKR,EACpB,EACAC,EAAeS,QAAUP,EACzBQ,EAAOC,QAAUX,EACjBA,EAAe7E,GAAK,I","sources":["webpack://mvtime/./src/views/Home/JoinModal.vue","webpack://mvtime/./src/views/Home/JoinModal.vue?3e0e","webpack://mvtime/./src/assets/img/art/working/ sync ^\\.\\/.*\\.png$"],"sourcesContent":["<template>\r\n  <main class=\"onboardng\" ref=\"modal\" id=\"join_modal\">\r\n    <div class=\"overlay_contents_wrapper nopad\">\r\n      <img class=\"modal_art_part contrast_small_dark\" v-lazy=\"source\" />\r\n      <div\r\n        v-if=\"page == 'form'\"\r\n        class=\"overlay_contents overlay_contents__page overlay_more_pad_horizontal pad_overlay\"\r\n      >\r\n        <h2 class=\"header_style modal_header_title overlay_title\">Join the MVTT Beta</h2>\r\n        <div class=\"overlay_inputs inputs_column\">\r\n          <input\r\n            class=\"styled_input styled_obj\"\r\n            type=\"text\"\r\n            v-model=\"form.name\"\r\n            placeholder=\"Your Name\"\r\n          />\r\n          <select class=\"styled_input styled_obj\" v-model=\"form.grade\">\r\n            <option class=\"placeholder_text\" value=\"\" hidden disabled selected>Grade Level</option>\r\n            <option value=\"9\">9th</option>\r\n            <option value=\"10\">10th</option>\r\n            <option value=\"11\">11th</option>\r\n            <option value=\"12\">12th</option>\r\n            <option value=\"teacher\">Teacher</option>\r\n          </select>\r\n          <textarea\r\n            v-model=\"form.usage\"\r\n            class=\"styled_input styled_textarea styled_obj\"\r\n            type=\"text\"\r\n            placeholder=\"How will you use MVTT (optional)\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"overlay_contents pad_overlay overlay_contents__page img_container__page\">\r\n        <img class=\"auth_load_icon loading_icon\" alt=\"Loading Icon\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom_actions\">\r\n      <button v-if=\"page == 'form'\" class=\"close_action\" @click=\"$emit('close')\">\r\n        {{ page == \"form\" && form.name == \"\" && form.grade == \"\" ? \"Close\" : \"Cancel\" }}\r\n      </button>\r\n      <div class=\"flex_spacer\"></div>\r\n      <button class=\"continue_action\" :disabled=\"!contents_ready\" @click=\"action\">\r\n        {{ continue_text[0] }}<span class=\"desktop_only_text\">{{ continue_text[1] }}</span>\r\n      </button>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nimport \"@/assets/style/overlay.css\";\r\nimport { WarningToast } from \"@svonk/util\";\r\nimport { _statuslog } from \"@/common\";\r\nexport default {\r\n  emits: [\"close\"],\r\n  data() {\r\n    return {\r\n      page: \"form\",\r\n      form: {\r\n        name: \"\",\r\n        grade: \"\",\r\n        usage: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    contents_ready() {\r\n      // filled out name and email ending in @mvla.net\r\n      if (this.page == \"form\") {\r\n        return this.form.name.length >= 2 && this.form.grade != \"\";\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    continue_text() {\r\n      if (this.page == \"form\") {\r\n        return !this.store?.user ? [\"Continue\", \" to Sign-Up\"] : [\"Save\"];\r\n      } else {\r\n        return !this.store?.user ? [\"Authenticating\", \"...\"] : [\"Saving...\", \"\"];\r\n      }\r\n    },\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    source() {\r\n      try {\r\n        return require(`@/assets/img/art/working/${this.combo}.png`);\r\n      } catch (e) {\r\n        return \"err\";\r\n      }\r\n    },\r\n    combo() {\r\n      let stored = localStorage.getItem(\"home_art\");\r\n      let stored_variant = stored ? stored.split(\"s\")[1][0] : null;\r\n\r\n      return \"ls\" + stored_variant;\r\n    },\r\n  },\r\n  mounted() {\r\n    // if user is logged in and has completed, close\r\n    if (this.store.done_join_form) {\r\n      // exit\r\n      this.$emit(\"close\");\r\n      new WarningToast(\"You've already joined!\", 2000);\r\n    }\r\n    // if user is logged in, use their name to prefill\r\n    if (this.store?.user) {\r\n      this.form.name = this.store.user?.displayName || \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    action() {\r\n      if (this.page == \"form\") {\r\n        // move to auth page\r\n        // update router so that this page will redirect to /portal/onboarding\r\n        // if no redirect, make it onboarding\r\n        if (!this.$route?.query?.redirect) {\r\n          this.$router.replace({ name: \"join\", query: { redirect: \"/portal/onboarding\" } });\r\n        }\r\n        this.page = \"auth\";\r\n        _statuslog(\"📝 Saving join form:\", this.form);\r\n        // trigger auth if needed\r\n        if (!this.store?.user) {\r\n          _statuslog(\"🔑 Triggering auth\");\r\n          // trigger auth, and once done, save form data and close\r\n          this.store\r\n            .login()\r\n            .then(() => {\r\n              this.store.save_join_form(this.form);\r\n              this.check_store_and_close();\r\n            })\r\n            .catch((err) => {\r\n              _statuslog(\"💾 Error logging in:\", err);\r\n              new WarningToast(\"Couldn't complete authentication; \" + err, 2000);\r\n              this.page = \"form\";\r\n            });\r\n        } else {\r\n          // save form data and close\r\n          this.store.save_join_form(this.form);\r\n          this.check_store_and_close();\r\n        }\r\n      }\r\n    },\r\n    check_store_and_close() {\r\n      // close if join_form is set\r\n      if (this.store.done_join_form) {\r\n        this.$emit(\"close\");\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    // listen for any changes to store\r\n    store: {\r\n      handler() {\r\n        this.check_store_and_close();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nimg.modal_art_part {\r\n  display: none;\r\n  user-select: none;\r\n  pointer-events: none;\r\n}\r\n@media (min-width: 800px) {\r\n  main#join_modal {\r\n    max-width: 700px;\r\n    max-height: 470px;\r\n  }\r\n  img.modal_art_part {\r\n    display: block;\r\n  }\r\n}\r\n.overlay_contents {\r\n  border: none;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  display: flex;\r\n  flex-flow: column;\r\n}\r\n.bottom_actions {\r\n  border-top: solid var(--thickness-overlay-border) var(--color-overlay-border);\r\n}\r\n.overlay_contents_wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: stretch;\r\n  align-items: stretch;\r\n  max-height: 100%;\r\n}\r\nh2.overlay_title {\r\n  text-align: center;\r\n  font-weight: 700;\r\n  margin-bottom: 20px;\r\n}\r\n.modal_art_part {\r\n  height: 400px;\r\n  width: 270px;\r\n}\r\n.modal_art_part[lazy=\"loaded\"] {\r\n  object-fit: scale-down;\r\n  object-position: bottom left;\r\n}\r\n.inputs_column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: stretch;\r\n  align-items: stretch;\r\n  margin: 0;\r\n}\r\n.inputs_column .styled_input {\r\n  width: 100%;\r\n  margin: 0;\r\n  margin-bottom: calc(var(--padding-overlay) / 2);\r\n}\r\n.img_container__page {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.auth_load_icon {\r\n  width: 100%;\r\n  height: 0;\r\n  flex-basis: 240px;\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n}\r\nselect:has(.placeholder_text[selected]) {\r\n  color: var(--color-placeholder);\r\n}\r\n</style>\r\n","import { render } from \"./JoinModal.vue?vue&type=template&id=73e1e81a&scoped=true\"\nimport script from \"./JoinModal.vue?vue&type=script&lang=js\"\nexport * from \"./JoinModal.vue?vue&type=script&lang=js\"\n\nimport \"./JoinModal.vue?vue&type=style&index=0&id=73e1e81a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-73e1e81a\"]])\n\nexport default __exports__","var map = {\n\t\"./ls0.png\": 8159,\n\t\"./ls1.png\": 75,\n\t\"./ls2.png\": 9891,\n\t\"./ls3.png\": 3312,\n\t\"./ls4.png\": 2610,\n\t\"./ls5.png\": 7408,\n\t\"./ls6.png\": 4636\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2255;"],"names":["class","ref","id","_createElementVNode","_hoisted_7","alt","_hoisted_15","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$options","source","$data","page","_hoisted_4","_hoisted_5","_hoisted_6","type","form","name","$event","placeholder","grade","usage","_hoisted_14","_hoisted_16","_hoisted_17","onClick","_cache","_ctx","$emit","_hoisted_18","disabled","contents_ready","args","action","continue_text","_hoisted_20","_toDisplayString","emits","data","computed","this","length","store","user","useMainStore","require","combo","e","stored","localStorage","getItem","stored_variant","split","mounted","done_join_form","WarningToast","displayName","methods","$route","query","redirect","$router","replace","_statuslog","save_join_form","check_store_and_close","login","then","catch","err","watch","handler","deep","__exports__","render","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}