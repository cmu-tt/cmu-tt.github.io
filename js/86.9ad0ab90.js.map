{"version":3,"file":"js/86.9ad0ab90.js","mappings":"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","sources":["webpack://mvtime/./src/components/Modal/Modal.vue","webpack://mvtime/./src/components/Modal/Modal.vue?cdd6","webpack://mvtime/./src/components/Modal/ModalFromPages.vue","webpack://mvtime/./src/components/Modal/ModalFromPages.vue?d9c6","webpack://mvtime/./src/views/Home/LinkModal.vue","webpack://mvtime/./src/components/Modal/SignIntoPersonalAccount.vue","webpack://mvtime/./src/components/Modal/SignIntoPersonalAccount.vue?f57a","webpack://mvtime/./src/components/Modal/LinkAccount.vue","webpack://mvtime/./src/components/Modal/LinkAccount.vue?15c1","webpack://mvtime/./src/views/Home/LinkModal.vue?e441"],"sourcesContent":["<template>\r\n  <main class=\"modal\" ref=\"modal\">\r\n    <header class=\"modal_header\" v-if=\"title\" ref=\"title\">\r\n      <h2 class=\"header_style modal_header_title\">{{ title }}</h2>\r\n    </header>\r\n    <div ref=\"contents\" class=\"overlay_contents\" v-if=\"content || html\">\r\n      <component\r\n        :is=\"content\"\r\n        ref=\"container\"\r\n        @update=\"$emit('update', $event)\"\r\n        @status=\"$emit('status', $event)\"\r\n        @skip=\"$emit('skip')\"\r\n        :load=\"load\"\r\n      />\r\n      <div class=\"overlay_contents__html\" v-if=\"html\" v-html=\"html\"></div>\r\n    </div>\r\n    <div class=\"bottom_actions\">\r\n      <button class=\"close_action\" v-if=\"skippable\" @click=\"$emit('skip')\">\r\n        {{ skip_text || (progress && progress.current > 1 ? \"Abandon\" : \"Close\") }}\r\n      </button>\r\n      <div class=\"progress_display\" v-if=\"progress && progress.total > 1\">\r\n        <span\r\n          class=\"progress_display__dot_container\"\r\n          v-for=\"i in progress.total\"\r\n          :key=\"i\"\r\n          @click=\"$emit('open', i - 1)\"\r\n        >\r\n          <span\r\n            class=\"progress_display__dot\"\r\n            :class=\"{ dot_active: i == progress.current, dot_finished: i < progress.current }\"\r\n          ></span>\r\n        </span>\r\n      </div>\r\n      <div class=\"flex_spacer\"></div>\r\n      <button class=\"continue_action\" @click=\"continue_action\" :disabled=\"!can_continue\">\r\n        {{ button_text }}\r\n      </button>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * @file Modal.vue\r\n * @displayName Modal\r\n * @description A modal view that displays title, content, progress and a continue action.\r\n * @property {String} title - The title of the modal.\r\n * @property {Object} content - A component to display in the modal.\r\n * @property {String} html - HTML to display in the modal, if content is not provided.\r\n * @property {Boolean} can_continue - Whether the continue action is enabled.\r\n * @property {Function} continue_action - The action to perform when the continue button is clicked.\r\n * @property {Object} progress - An object with current and total properties, to display progress.\r\n * @property {Boolean} is_notification - Whether the modal is a notification, and should not be closed.\r\n * @property {String} submit_text - The text to display on the continue button.\r\n * @property {String} skip_text - The text to display on the skip button.\r\n *  */\r\nimport { _statuslog } from \"@/common\";\r\nimport smoothReflow from \"vue-smooth-reflow\";\r\nexport default {\r\n  name: \"ModalVue\",\r\n  mixins: [smoothReflow],\r\n  mounted() {\r\n    this.$smoothReflow({\r\n      el: this.$refs.contents,\r\n      hideOverflow: true,\r\n      childTransitions: true,\r\n    });\r\n    this.$smoothReflow({\r\n      el: this.$refs.title,\r\n      hideOverflow: true,\r\n    });\r\n  },\r\n  emits: [\"open\", \"update\", \"status\", \"skip\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  props: {\r\n    load: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    skippable: {\r\n      type: Boolean,\r\n      default: false,\r\n      required: false,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n      required: false,\r\n    },\r\n    content: {\r\n      type: Object,\r\n      default: null,\r\n      required: false,\r\n    },\r\n    html: {\r\n      type: String,\r\n      default: null,\r\n      required: false,\r\n    },\r\n    can_continue: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    continue_action: {\r\n      type: Function,\r\n      default: () => {\r\n        _statuslog(\"⏵ ModalVue: continue_action not provided\");\r\n        // close this modal view\r\n        window.onbeforeunload = null;\r\n        this.$router.push(this.$route.query.redirect || \"/portal\");\r\n      },\r\n      required: false,\r\n    },\r\n    progress: {\r\n      type: Object,\r\n      default: null,\r\n      required: false,\r\n    },\r\n    is_notification: {\r\n      type: Boolean,\r\n      default: false,\r\n      required: false,\r\n    },\r\n    submit_text: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    skip_text: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  computed: {\r\n    button_text() {\r\n      if (this.submit_text) {\r\n        return this.submit_text;\r\n      } else if (this.is_notification) {\r\n        return \"Ok\";\r\n      } else if (this.progress && this.progress.current == this.progress.total) {\r\n        return \"Finish\";\r\n      } else {\r\n        return \"Continue\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal:first-child.overlay_contents {\r\n  border-top: none;\r\n}\r\n/* for animating height */\r\n.modal {\r\n  transition: height 0.5s ease-in-out;\r\n}\r\n.progress_display {\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: 0;\r\n  /* interaction */\r\n  user-select: none;\r\n  /* sizing */\r\n  height: var(--size-modal-progress);\r\n}\r\n.progress_display span {\r\n  display: block;\r\n}\r\n.progress_display__dot_container {\r\n  padding: var(--margin-modal-progress-dot);\r\n}\r\n.progress_display__dot {\r\n  /* sizing */\r\n  width: var(--size-modal-progress-dot);\r\n  height: var(--size-modal-progress-dot);\r\n  border-radius: 50%;\r\n  /* appearance */\r\n  background-color: var(--color-modal-progress-dot);\r\n}\r\n.progress_display__dot.dot_active {\r\n  background-color: var(--color-modal-progress-dot-active);\r\n}\r\n.progress_display__dot.dot_finished {\r\n  transform: scale(0.75);\r\n  opacity: 0.6;\r\n}\r\n</style>\r\n","import { render } from \"./Modal.vue?vue&type=template&id=634b7d0e&scoped=true\"\nimport script from \"./Modal.vue?vue&type=script&lang=js\"\nexport * from \"./Modal.vue?vue&type=script&lang=js\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=634b7d0e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-634b7d0e\"]])\n\nexport default __exports__","<template>\r\n  <Modal\r\n    ref=\"modal\"\r\n    :title=\"page.title\"\r\n    :content=\"page.content\"\r\n    :html=\"page.content ? null : page.html\"\r\n    :is_notification=\"page.is_notification\"\r\n    :submit_text=\"page.submit_text\"\r\n    :progress=\"{ current: page_index + 1, total: pages.length }\"\r\n    :show_progress=\"true\"\r\n    :can_continue=\"can_continue\"\r\n    :continue_action=\"next_page\"\r\n    :load=\"load_data\"\r\n    :skippable=\"skippable\"\r\n    @open=\"switch_to\"\r\n    @update=\"curr_data = $event\"\r\n    @status=\"curr_done = $event\"\r\n    @skip=\"$emit('skip')\"\r\n  ></Modal>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * @file ModalFromPages.vue\r\n * @displayName Modal from Pages\r\n * @description A modal view that displays a series of pages as a modal with progression.\r\n * @property {Array} pages - An array of page objects, each with a title (String) and content (Component) or html (String), and most importantly a @update and @status emit.\r\n * @emits {Array} finish - Emitted when the user has finished all pages, with an array of responses from each page.\r\n */\r\nwindow.onbeforeunload = confirm_unfinished;\r\nfunction confirm_unfinished() {\r\n  // message irrelevant for most browsers, but nice to have\r\n  return \"You haven't finished the task yet, and might lose progress. Are you sure you want to close the tab?\";\r\n}\r\nimport ModalVue from \"./Modal.vue\";\r\nimport { _statuslog } from \"@/common\";\r\nexport default {\r\n  name: \"ModalFromPages\",\r\n  emits: [\"finish\", \"skip\"],\r\n  components: {\r\n    Modal: ModalVue,\r\n  },\r\n  props: {\r\n    pages: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    skippable: {\r\n      type: Boolean,\r\n      default: false,\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      page_index: 0,\r\n      responses: [],\r\n      curr_data: null,\r\n      curr_done: false,\r\n      page_start: Date.now(),\r\n    };\r\n  },\r\n  computed: {\r\n    load_data() {\r\n      // return saved data, or empty object\r\n      this.set_done();\r\n      return this.responses[this.page_index]?.data || {};\r\n    },\r\n    page() {\r\n      if (this.pages.length == 0) {\r\n        return {\r\n          title: \"No pages provided\",\r\n          content: null,\r\n          html: null,\r\n          is_notification: true,\r\n          submit_text: \"Oops!\",\r\n        };\r\n      }\r\n      return this.pages[this.page_index];\r\n    },\r\n    can_continue() {\r\n      // either no content or has updated with @status of true\r\n      return !this.page.content || this.page.is_notification || this.curr_done;\r\n    },\r\n  },\r\n  methods: {\r\n    set_done() {\r\n      this.curr_done = this.responses[this.page_index]?.done || false;\r\n    },\r\n    switch_to(page_index) {\r\n      // switch to page at index, as long as it is before the current, or already completed\r\n      if (\r\n        page_index <= this.page_index ||\r\n        Object.prototype.hasOwnProperty.call(this.responses, Math.max(page_index - 1, 0))\r\n      ) {\r\n        this.page_index = page_index;\r\n      } else {\r\n        _statuslog(`⏵ ModalFromPages: page index ${page_index} invalid`);\r\n      }\r\n    },\r\n    next_page() {\r\n      // get responses from current component and add to responses array\r\n      this.responses[this.page_index] = {\r\n        data: this.curr_data,\r\n        done: this.curr_done || !this.page.content || this.page.is_notification,\r\n        time: {\r\n          start: this.page_start,\r\n          duration: Date.now() - this.page_start,\r\n        },\r\n      };\r\n      if (this.can_continue && this.page_index < this.pages.length - 1) {\r\n        // switch to next page\r\n        this.page_index++;\r\n      } else if (this.can_continue) {\r\n        // emit responses\r\n        this.$emit(\"finish\", this.responses);\r\n        // leave the rest up to the parent component\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    page_index() {\r\n      // reset page details when changing pages\r\n      this.page_start = Date.now();\r\n      this.curr_data = this.load_data;\r\n      this.set_done();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./ModalFromPages.vue?vue&type=template&id=fdf82aee\"\nimport script from \"./ModalFromPages.vue?vue&type=script&lang=js\"\nexport * from \"./ModalFromPages.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <ModalFromPages\r\n    :pages=\"pages\"\r\n    @finish=\"finish\"\r\n    @skip=\"$emit('close')\"\r\n    ref=\"survey_modal\"\r\n  ></ModalFromPages>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable vue/no-unused-components */\r\nimport { useMainStore } from \"@/store\";\r\nimport { shallowRef } from \"vue\";\r\nimport { WarningToast } from \"@svonk/util\";\r\nimport ModalFromPages from \"@/components/Modal/ModalFromPages.vue\";\r\nimport SignIntoPersonalAccount from \"@/components/Modal/SignIntoPersonalAccount.vue\";\r\nimport LinkAccount from \"@/components/Modal/LinkAccount.vue\";\r\nimport \"@/assets/style/overlay.css\";\r\nexport default {\r\n  name: \"LinkModal\",\r\n  emits: [\"close\"],\r\n  components: {\r\n    ModalFromPages,\r\n    SignIntoPersonalAccount,\r\n    LinkAccount,\r\n  },\r\n  data() {\r\n    return {\r\n      ready: false,\r\n      pages: [\r\n        {\r\n          title: \"Link Personal Account\",\r\n          html: `<div class='overlay_contents_text'>Thank you for taking the time to link your account. This will allow you to access your account from any device.<br/><br/> You'll need to be signed into your personal account in order to continue, we'll guide you through that on the next page.</div>`,\r\n          submit_text: \"Okay\",\r\n          is_notification: true,\r\n        },\r\n        {\r\n          title: \"Sign into Personal Account\",\r\n          content: shallowRef(SignIntoPersonalAccount),\r\n          submit_text: \"Continue\",\r\n        },\r\n        {\r\n          title: \"Account Details\",\r\n          content: shallowRef(LinkAccount),\r\n          submit_text: \"Link\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  props: {\r\n    code: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  mounted() {\r\n    if (!this.code) {\r\n      new WarningToast(\"No code provided!\", \"You must provide a code to link your account.\");\r\n      this.$emit(\"close\");\r\n    } else {\r\n      this.ready = true;\r\n    }\r\n    this.store.personal_account = true;\r\n    if (\r\n      this.store?.linked_account_doc?.linked_to &&\r\n      this.store.linked_account_doc.linked_to == this.code\r\n    ) {\r\n      this.$emit(\"close\");\r\n      new WarningToast(\"These two accounts are already linked!\", 2000);\r\n    }\r\n  },\r\n  methods: {\r\n    finish() {\r\n      this.store.link_account_uid(this.code).then(() => {\r\n        this.$emit(\"close\");\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","<template>\r\n  <div class=\"personal_prompt\">\r\n    <div class=\"overlay_contents_text\">\r\n      If you're signed into an mvla.net account, you should have been signed out automatically\r\n    </div>\r\n    <div class=\"inputs_row\">\r\n      <button class=\"primary_styled styled_input\" @click=\"sign_into_personal\" :disabled=\"ready\">\r\n        Login to Personal Account\r\n      </button>\r\n    </div>\r\n    <div class=\"overlay_contents_text\">Please sign into your personal account to continue</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nimport { WarningToast } from \"@svonk/util\";\r\nexport default {\r\n  name: \"SignIntoPersonalAccount\",\r\n  emits: [\"skip\", \"update\", \"status\"],\r\n  data() {\r\n    return {\r\n      ready: false,\r\n    };\r\n  },\r\n  methods: {\r\n    logout_if_org() {\r\n      // sign out\r\n      if (this.store?.user?.email?.includes(\"mvla.net\")) {\r\n        this.store.logout();\r\n      }\r\n    },\r\n    check_and_emit() {\r\n      // if already linked, exit\r\n      if (\r\n        this.store?.linked_account_doc?.linked_to &&\r\n        this.$route?.params?.code &&\r\n        this.store.linked_account_doc.linked_to == this.$route.params.code\r\n      ) {\r\n        new WarningToast(\"These two accounts are already linked!\", 2000);\r\n        this.$emit(\"skip\");\r\n      } else {\r\n        // otherwise check status\r\n        this.ready = this.store.user?.email && !this.store.user.email.includes(\"mvla.net\");\r\n        this.$emit(\"status\", !!this.ready);\r\n      }\r\n    },\r\n    sign_into_personal() {\r\n      this.store.personal_account = true;\r\n      this.store\r\n        .login_personal()\r\n        .then(() => {\r\n          this.logout_if_org();\r\n          this.check_and_emit();\r\n        })\r\n        .catch(() => {\r\n          this.check_and_emit();\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.logout_if_org();\r\n    this.check_and_emit();\r\n  },\r\n  watch: {\r\n    store: {\r\n      handler() {\r\n        this.logout_if_org();\r\n        this.check_and_emit();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login_button {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import { render } from \"./SignIntoPersonalAccount.vue?vue&type=template&id=6bc5ccc2&scoped=true\"\nimport script from \"./SignIntoPersonalAccount.vue?vue&type=script&lang=js\"\nexport * from \"./SignIntoPersonalAccount.vue?vue&type=script&lang=js\"\n\nimport \"./SignIntoPersonalAccount.vue?vue&type=style&index=0&id=6bc5ccc2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bc5ccc2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"account_linking\">\r\n    <img v-if=\"loading\" alt=\"Loading...\" class=\"loading_placeholder loading_icon\" />\r\n    <div v-else-if=\"data\" class=\"account_details\">\r\n      <div class=\"overlay_contents_text\">\r\n        Please confirm that the details below match the account you're trying to link to.\r\n      </div>\r\n      <div class=\"spaced_contents\">\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Name:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{ data.name || \"Couldn't Load\" }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Email:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{ data.email || \"Couldn't Load\" }}</span>\r\n        </div>\r\n        <div class=\"styled_obj\">\r\n          <span class=\"styled_line__label\">Grade:</span>\r\n          <span class=\"styled_line__separator\"></span>\r\n          <span class=\"styled_line__value\">{{\r\n            gradeText(data.join_form && data.join_form.grade) || \"Couldn't Load\"\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"overlay_contents_text\">\r\n        Once you've checked them, just press <span class=\"button_pointer_text\">Link</span> to finish\r\n        connecting your accounts!\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"overlay_contents_text\">\r\n      Something went wrong fetching the account details, please try again later.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nimport { ErrorToast } from \"@svonk/util\";\r\nexport default {\r\n  name: \"LinkAccount\",\r\n  emits: [\"update\", \"status\"],\r\n  props: {\r\n    load: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      code: null,\r\n      data: null,\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  methods: {\r\n    gradeText(numeric) {\r\n      switch (numeric) {\r\n        case \"9\":\r\n          return \"Freshman\";\r\n        case \"10\":\r\n          return \"Sophomore\";\r\n        case \"11\":\r\n          return \"Junior\";\r\n        case \"12\":\r\n          return \"Senior\";\r\n        default:\r\n          return \"Teacher\";\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // get code prop from route\r\n    this.code = this.$route.params.code;\r\n    this.store\r\n      .doc_from_uid(this.code)\r\n      .then((result) => {\r\n        this.loading = false;\r\n        this.data = result;\r\n      })\r\n      .catch((err) => {\r\n        this.loading = false;\r\n        new ErrorToast(\"Failed to link account\", err, 3000);\r\n      });\r\n  },\r\n  watch: {\r\n    loading() {\r\n      this.$emit(\"status\", !this.loading);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ndiv.account_linking,\r\n.account_details {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n}\r\n\r\n.loading_placeholder {\r\n  min-width: 100%;\r\n  max-height: 131px;\r\n}\r\n</style>\r\n","import { render } from \"./LinkAccount.vue?vue&type=template&id=1c042e43&scoped=true\"\nimport script from \"./LinkAccount.vue?vue&type=script&lang=js\"\nexport * from \"./LinkAccount.vue?vue&type=script&lang=js\"\n\nimport \"./LinkAccount.vue?vue&type=style&index=0&id=1c042e43&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c042e43\"]])\n\nexport default __exports__","import { render } from \"./LinkModal.vue?vue&type=template&id=62ba84b2\"\nimport script from \"./LinkModal.vue?vue&type=script&lang=js\"\nexport * from \"./LinkModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","_createElementVNode","_createElementBlock","_hoisted_1","$props","title","_hoisted_2","_hoisted_3","_toDisplayString","content","html","_hoisted_4","_createBlock","_resolveDynamicComponent","onUpdate","_cache","$event","_ctx","$emit","onStatus","onSkip","load","innerHTML","_hoisted_6","skippable","onClick","skip_text","progress","current","total","_hoisted_7","_Fragment","_renderList","i","key","_normalizeClass","dot_active","dot_finished","_hoisted_9","args","continue_action","disabled","can_continue","$options","button_text","_hoisted_10","name","mixins","smoothReflow","mounted","this","$smoothReflow","el","$refs","contents","hideOverflow","childTransitions","emits","data","props","type","Object","default","Boolean","required","String","Function","_statuslog","window","onbeforeunload","$router","push","$route","query","redirect","is_notification","submit_text","computed","__exports__","render","_component_Modal","page","$data","page_index","pages","length","show_progress","next_page","load_data","onOpen","switch_to","curr_data","curr_done","confirm_unfinished","components","Modal","ModalVue","Array","responses","page_start","Date","now","set_done","methods","done","prototype","hasOwnProperty","call","Math","max","time","start","duration","watch","_component_ModalFromPages","onFinish","finish","sign_into_personal","ready","_hoisted_5","logout_if_org","store","user","email","includes","logout","check_and_emit","linked_account_doc","linked_to","params","code","WarningToast","personal_account","login_personal","then","catch","useMainStore","handler","deep","alt","loading","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","gradeText","join_form","grade","_hoisted_18","_hoisted_19","numeric","doc_from_uid","result","err","ErrorToast","ModalFromPages","SignIntoPersonalAccount","LinkAccount","shallowRef","link_account_uid"],"sourceRoot":""}