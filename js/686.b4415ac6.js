"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[686],{4686:function(e,s,a){a.r(s),a.d(s,{default:function(){return M}});var t=a(3396),l=a(7139);const n=e=>((0,t.dD)("data-v-3f3bbf14"),e=e(),(0,t.Cn)(),e),i={class:"viewtask"},_={class:"modal_header"},r={class:"header_style modal_header_title"},o={class:"overlay_contents"},c={class:"spaced_contents"},d={class:"styled_obj"},k=n((()=>(0,t._)("span",{class:"styled_line__label"},"Class:",-1))),p=n((()=>(0,t._)("span",{class:"styled_line__separator"},null,-1))),h={class:"styled_line__value"},u={class:"styled_obj"},y=n((()=>(0,t._)("span",{class:"styled_line__label"},"Name:",-1))),v=n((()=>(0,t._)("span",{class:"styled_line__separator"},null,-1))),m={class:"styled_line__value"},w={class:"styled_obj"},b=n((()=>(0,t._)("span",{class:"styled_line__label"},"Date:",-1))),f=n((()=>(0,t._)("span",{class:"styled_line__separator"},null,-1))),g={class:"styled_line__value"},D={class:"styled_obj"},C=n((()=>(0,t._)("span",{class:"styled_line__label"},"Description:",-1))),$=n((()=>(0,t._)("span",{class:"styled_line__separator"},null,-1))),j=["innerHTML"],x={key:0,class:"styled_obj links_obj"},O=n((()=>(0,t._)("span",{class:"styled_line__label"},"Links:",-1))),z=n((()=>(0,t._)("span",{class:"styled_line__separator"},null,-1))),E={class:"styled_line__value styled_line_links"},S=["href"],L=n((()=>(0,t._)("div",{class:"overlay_contents_text"}," Information is provided by teachers and volunteer students, and may not always be correct ",-1))),N={class:"bottom_actions"},T=n((()=>(0,t._)("div",{class:"flex_spacer"},null,-1)));function q(e,s,a,n,q,H){return(0,t.wg)(),(0,t.iD)("main",i,[(0,t._)("header",_,[(0,t._)("h2",r," View "+(0,l.zw)(H.task.type?H.task.type:"task")+" details ",1)]),(0,t._)("div",o,[(0,t._)("div",c,[(0,t._)("div",d,[k,p,(0,t._)("span",h,(0,l.zw)(H.task.group||H.task.class_name),1)]),(0,t._)("div",u,[y,v,(0,t._)("span",m,(0,l.zw)(H.task.name),1)]),(0,t._)("div",w,[b,f,(0,t._)("span",g,(0,l.zw)(new Date(H.task.date).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})),1)]),(0,t._)("div",D,[C,$,(0,t._)("span",{class:"styled_line__value",innerHTML:H.task.description?H.task.description:"Not Provided"},null,8,j)]),H.task.links?((0,t.wg)(),(0,t.iD)("div",x,[O,z,(0,t._)("span",E,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(H.task.links,(e=>((0,t.wg)(),(0,t.iD)("a",{class:"styled_line_links__link",target:"_blank",key:e.path,href:e.path},(0,l.zw)(e.text),9,S)))),128))])])):(0,t.kq)("",!0)]),L]),(0,t._)("div",N,[(0,t._)("button",{class:"share_action",onClick:s[0]||(s[0]=(...e)=>H.share_task&&H.share_task(...e))},"Share"),T,H.store.is_teacher&&H.store.user&&H.task.ref.split("/")[0]==H.store.user.email?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"delete_action primary_styled",onClick:s[1]||(s[1]=(...e)=>H.delete_task&&H.delete_task(...e))}," Delete ")):(0,t.kq)("",!0),(0,t._)("button",{class:"continue_action",onClick:s[2]||(s[2]=s=>e.$emit("close"))},"Close")])])}var H=a(1708),K=a(2745),P=a(8980),V={name:"ViewTaskView",emits:["close"],computed:{task(){let e=this.$route?.query?.task;return e=e?JSON.parse(e):{},e.links=e?.links?e.links.filter((e=>e.text&&e.path)):null,e},store(){return(0,P.h)()}},created(){this.task||(new H.OO("No task specified",1e3),this.$emit("close"))},methods:{async share_task(){navigator.share?navigator.share({title:this.task.name,text:this.task.description,url:window.location.href}).then((()=>new H.bF("Opened share dialog",1e3))).catch((e=>(0,K.E)("Error sharing",e))):navigator.clipboard?(navigator.clipboard.writeText(window.location.href),new H.OO("Sharing not supported, copied link to clipboard",2e3)):new H.PK("Sharing not supported",2e3)},async delete_task(){this.store.delete_task(this.task.ref).then((()=>{new H.bF(`Removed ${this.task.type} "${this.task.name}"`,3e3),this.$emit("close")})).catch((e=>{new H.PK(`Error removing ${this.task.type} "${this.task.name}"`,3e3),(0,K.E)("âš  Error removing task",e)}))}}},F=a(89);const I=(0,F.Z)(V,[["render",q],["__scopeId","data-v-3f3bbf14"]]);var M=I}}]);
//# sourceMappingURL=686.b4415ac6.js.map