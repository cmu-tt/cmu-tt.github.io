"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[714],{8714:function(e,n,i){i.r(n),i.d(n,{default:function(){return q}});var s=i(3396),t=i(7139),l=i(9242);const a=e=>((0,s.dD)("data-v-3701e487"),e=e(),(0,s.Cn)(),e),o={class:"settings"},c=a((()=>(0,s._)("header",{class:"modal_header"},[(0,s._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),_={class:"overlay_contents"},d=a((()=>(0,s._)("div",{class:"overlay_contents_text"}," You can link a personal (non-mvla.net) account to access MVTT when not signed into your school account below! ",-1))),r={class:"inputs_row"},u={class:"styled_input styled_links_box"},h={class:"styled_links_display"},k={key:0,class:"placeholder"},m={key:1,class:"styled_line_links"},v=["onClick"],p=a((()=>(0,s._)("div",{class:"remove_icon"},null,-1))),g=[p],w={class:"styled_line_links__email"},y=a((()=>(0,s._)("hr",{class:"styled_links_separator"},null,-1))),b={class:"styled_links_add"},f=["disabled"],C=["disabled"],x=a((()=>(0,s._)("div",{class:"overlay_contents_text"},[(0,s.Uk)(" To change your theme, use the "),(0,s._)("span",{class:"button_pointer_text button_pointer_icon"},[(0,s._)("div",{class:"theme_icon icon"}),(0,s.Uk)(" Switch Theme ")]),(0,s.Uk)(" button on the left sidebar ")],-1))),D={class:"bottom_actions"},A=a((()=>(0,s._)("div",{class:"flex_spacer"},null,-1))),U=["disabled"];function $(e,n,i,a,p,$){return(0,s.wg)(),(0,s.iD)("div",o,[c,(0,s._)("div",_,[d,(0,s._)("div",r,[(0,s._)("div",u,[(0,s._)("div",h,[$.store.linked_accounts&&$.store.linked_accounts.length?((0,s.wg)(),(0,s.iD)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.store.linked_accounts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:(0,t.C_)(["styled_line_links__account",{active:$.store.personal_account&&$.store.user.email==e}]),key:e},[$.store.personal_account?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:"styled_line_links__remove",onClick:n=>$.uninvite_linked(e),title:"Remove Account"},g,8,v)),(0,s._)("div",w,(0,t.zw)(e),1)],2)))),128))])):((0,s.wg)(),(0,s.iD)("span",k,"No linked accounts, add one below"))]),y,(0,s._)("div",b,[(0,s.wy)((0,s._)("input",{class:"styled_links_add__text",type:"email",onInput:n[0]||(n[0]=(...e)=>$.fix_email&&$.fix_email(...e)),onUpdate:n[1]||(n[1]=(...e)=>$.fix_email&&$.fix_email(...e)),"onUpdate:modelValue":n[2]||(n[2]=e=>p.new_email=e),placeholder:"Personal Email",disabled:$.store.personal_account||p.loading},null,40,f),[[l.nr,p.new_email]]),(0,s._)("button",{class:"styled_links_add__action",onClick:n[3]||(n[3]=(...e)=>$.invite_linked&&$.invite_linked(...e)),disabled:!$.ready_to_link},(0,t.zw)($.store.personal_account?"UNAVALIABLE":"Add"),9,C)])])]),x]),(0,s._)("div",D,[$.store.personal_account?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"back_action",onClick:n[4]||(n[4]=n=>e.$emit("close"))},(0,t.zw)(p.changed||p.loading?"Cancel":"Close"),1)),A,(0,s._)("button",{class:(0,t.C_)(["continue_action",{loading_bg:p.loading}]),disabled:!$.store.personal_account&&!p.changed,onClick:n[5]||(n[5]=n=>{$.store.personal_account?e.$emit("close"):$.save})},(0,t.zw)($.store.personal_account?"Close":"Finish"),11,U)])])}var z=i(8980),T={name:"SettingsModal",emits:["close"],data(){return{changed:!1,loading:!1,new_email:""}},computed:{store(){return(0,z.h)()},ready_to_link(){return!this.loading&&this.new_email&&this.new_email.includes("@")&&this.new_email.split("@")[1].includes(".")}},methods:{save(){this.loading||this.$emit("close")},invite_linked(){this.store.personal_account||(this.changed=!0,this.loading=!0,this.store.invite_linked(this.new_email).then((()=>{this.loading=!1,this.new_email=""})).catch((()=>{this.loading=!1,this.changed=!1})))},uninvite_linked(e){this.changed=!0,this.loading=!0,this.store.uninvite_linked(e).then((()=>{this.loading=!1})).catch((()=>{this.loading=!1,this.changed=!1}))},fix_email(){if(this.new_email.includes("@")){let[e,n]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${n}`)}}}},I=i(89);const V=(0,I.Z)(T,[["render",$],["__scopeId","data-v-3701e487"]]);var q=V}}]);
//# sourceMappingURL=714.5a5a668b.js.map