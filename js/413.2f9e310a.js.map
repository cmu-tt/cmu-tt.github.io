{"version":3,"file":"js/413.2f9e310a.js","mappings":"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","sources":["webpack://mvtime/./src/store/magic.js","webpack://mvtime/./src/components/Portal/ExamCard.vue","webpack://mvtime/./src/components/Portal/ExamCard.vue?b3ef","webpack://mvtime/./src/views/Portal/Portal.vue","webpack://mvtime/./src/components/Portal/LeftBar.vue","webpack://mvtime/./src/components/Portal/SidebarToggle.vue","webpack://mvtime/./src/components/Portal/SidebarToggle.vue?89fb","webpack://mvtime/./src/components/Portal/Left/ClassList.vue","webpack://mvtime/./src/components/Portal/Left/ClassList.vue?a76a","webpack://mvtime/./src/components/Portal/Left/ActionsPanel.vue","webpack://mvtime/./src/components/Portal/Left/ActionsPanel.vue?68f4","webpack://mvtime/./src/components/Portal/LeftBar.vue?5f79","webpack://mvtime/./src/components/Portal/RightBar.vue","webpack://mvtime/./src/components/Portal/UpcomingTasks.vue","webpack://mvtime/./src/components/Portal/UpcomingTasks.vue?10ea","webpack://mvtime/./src/components/Portal/RightBar.vue?fdce","webpack://mvtime/./src/components/Portal/StudyBlock.vue","webpack://mvtime/./src/components/LoadingCover.vue","webpack://mvtime/./src/components/LoadingCover.vue?e76a","webpack://mvtime/./src/components/Portal/StudyBlock.vue?5230","webpack://mvtime/./src/components/Portal/CalendarBlock.vue","webpack://mvtime/./src/components/Portal/CalendarBlock.vue?8769","webpack://mvtime/./src/views/Portal/Portal.vue?2615"],"sourcesContent":["// Path: store/magic.js\n\n// setup Pinia store\nimport { _status } from \"@/common\";\nimport { defineStore } from \"pinia\";\n\nconst API_URL = \"https://api.mvtt.app/\";\n\nexport const useMagic = defineStore({\n  id: \"magic\",\n  state: () => ({\n    last: {},\n    types: [\n      { key: \"note\", name: \"Note\", list_as: \"Add a Note\", shortcuts: [\"n\"] },\n      {\n        key: \"task\",\n        name: \"Assignment\",\n        list_as: \"Schedule an Assignment\",\n        shortcuts: [\"a\"],\n      },\n      // socratic: \"Socratic Seminar\",\n      {\n        key: \"test\",\n        name: \"Test\",\n        list_as: \"Schedule a Test\",\n        shortcuts: [\"t\"],\n      },\n\n      // summative: \"Summative Assignment\",\n      // midterm: \"Midterm\",\n      {\n        key: \"project\",\n        name: \"Project\",\n        list_as: \"Schedule a Project\",\n        shortcuts: [\"p\"],\n      },\n      {\n        key: \"quiz\",\n        name: \"Quiz\",\n        list_as: \"Schedule a Quiz\",\n        shortcuts: [\"q\"],\n      },\n      {\n        key: \"exam\",\n        name: \"Exam\",\n        list_as: \"Schedule an Exam\",\n        shortcuts: [\"e\"],\n      },\n    ],\n  }),\n  getters: {},\n  actions: {\n    /**\n     * @function type_full\n     * @description get the full type name from the short type\n     * @param {String} short_type - the short type of the task\n     * @returns {String} text - the full type name\n     * @see types\n     */\n    type_full(short_type) {\n      return this.types.find((t) => t.key === short_type)?.name || short_type;\n    },\n    /**\n     * @function path\n     * @description get the smart text associated with a given url\n     * @param {String} path\n     * @returns {String} text - the smart text associated with the url\n     */\n    async text(path) {\n      if (!path) return;\n      return await this.rated_api_get(\"get/magic/link-text\", { path });\n    },\n    /**\n     * @function type\n     * @description get the smart type associated with a given description\n     * @param {String} text\n     */\n    async type(task) {\n      if (!task) return;\n      return await this.rated_api_get(\"get/magic/task-type\", { task });\n    },\n    /**\n     * @function api_get\n     * @description do get request to url: API_URL + endpoint with request query of data\n     * @param {String} endpoint api endpoint\n     * @param {Object} data query params\n     * @returns {Promise<Object>} json\n     */\n    async api_get(endpoint, data) {\n      data = data || {};\n      if (!endpoint) return;\n      // get url with query\n      const url = new URL(API_URL + endpoint);\n      Object.keys(data).forEach((key) => url.searchParams.append(key, data[key]));\n      const run_hash = Math.random().toString(36).substring(7);\n      _status.log(`🛜 Running API fetch | <${run_hash}>`);\n      // do request\n      this.last[endpoint] = { time: Date.now(), hash: run_hash };\n      try {\n        const response = await fetch(url.href, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n        // response\n        if (!response.ok) throw \"Non-valid response\";\n        const json = await response.json();\n        _status.log(`🛜 API fetch success | <${run_hash}>`);\n        return json.data;\n      } catch (err) {\n        _status.error(`🛜 API fetch failed  | <${run_hash}>`, err);\n        return null;\n      }\n    },\n    /**\n     * @function rated_api_get\n     * @description do api_get but abide by rate limit (only eval once every 15 seconds)\n     */\n    async rated_api_get(type) {\n      _status.log(\"🛜 API fetch requested\");\n      const run_hash = Math.random().toString(36).substring(7);\n      const prev_time = this.last[type]?.time;\n      const prev_hash = this.last[type]?.hash;\n      if (Date.now() - prev_time < 2000) {\n        _status.warn(\"🛜 API fetch rate limited\");\n        // wait 15 seconds and see if it is still the most recent request\n        await new Promise((resolve) => setTimeout(resolve, 15000));\n        if (this.last[type]?.time !== prev_time || this.last[type]?.hash !== prev_hash) {\n          _status.warn(\"🛜 Outdated API fetch skipped\");\n          return;\n        } else {\n          _status.log(\"🛜 API fetch rate limit lifted\");\n        }\n      }\n      return await this.api_get(...arguments, run_hash);\n    },\n  },\n});\n","<template>\n  <a class=\"task_card\" :style=\"{ '--color-calendar-task': task.color }\">\n    <div class=\"task_card_icon\" :title=\"task.class_name\">\n      <div class=\"task_card_icon_container\">\n        <div class=\"task_card_icon_container__img\"></div>\n      </div>\n    </div>\n    <div class=\"task_card_details\">\n      <div class=\"task_card_details__title\">{{ task.name }}</div>\n      <div class=\"task_card_details__extended\">\n        <span class=\"task_card_details__extended__date\">{{\n          task.date.toLocaleDateString(undefined, {\n            weekday: \"long\",\n            month: \"long\",\n            day: \"numeric\",\n          })\n        }}</span>\n        &nbsp;|&nbsp;\n        <span class=\"task_card_details__extended__type\">{{ type_full }}</span>\n      </div>\n    </div>\n  </a>\n</template>\n\n<script>\nimport { useMagic } from \"@/store/magic\";\nexport default {\n  name: \"ExamCard\",\n  props: {\n    task: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    type_full() {\n      return useMagic().type_full(this.task.type);\n    },\n  },\n};\n</script>\n\n<style>\n.task_card {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n  height: var(--height-task-card);\n  margin: 10px 0;\n  color: inherit !important;\n}\n.task_card,\n.task_card * {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.task_card_icon {\n  height: 100%;\n  width: var(--height-task-card);\n  border-radius: 30%;\n  border: solid 2px var(--color-calendar-task);\n  box-sizing: border-box;\n  filter: var(--filter-calendar-task);\n  overflow: hidden;\n  flex-shrink: 0;\n  /* box-shadow: 0px 4px 4px var(--color-calendar-task); */\n  /* box-shadow: 0px 0px 4px var(--color-calendar-task); */\n}\n.task_card_icon_container {\n  height: 100%;\n  width: 100%;\n  filter: var(--filter-task-card-icon);\n  background-color: var(--color-task-card-icon);\n}\n.task_card_icon_container__img {\n  background-image: url(@/assets/img/general/portal/exam/test-icon.png);\n  background-image: url(@/assets/img/general/portal/exam/test-icon.svg);\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n  padding: var(--padding-task-card-icon);\n  filter: var(--filter-icon);\n  height: 100%;\n  width: 100%;\n}\n.task_card_details {\n  padding-left: 20px;\n  flex-grow: 1;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: stretch;\n  justify-content: space-evenly;\n}\n/* details */\n.task_card_details > * {\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n}\n.task_card_details__title {\n  font-size: 14px;\n  font-weight: 500;\n}\n.task_card_details__extended {\n  opacity: 0.5;\n  font-size: 12px;\n  font-weight: 400;\n  /* layout */\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n}\n.task_card_details__extended__date {\n  flex: auto 0 1;\n}\n.task_card_details__extended__type {\n  flex: 0px 1 1;\n}\n</style>\n","import { render } from \"./ExamCard.vue?vue&type=template&id=de5e6496\"\nimport script from \"./ExamCard.vue?vue&type=script&lang=js\"\nexport * from \"./ExamCard.vue?vue&type=script&lang=js\"\n\nimport \"./ExamCard.vue?vue&type=style&index=0&id=de5e6496&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <main class=\"portal\" :page=\"page\">\n    <LeftBar\n      ref=\"LeftBar\"\n      :class=\"{ paged: page == 'left' }\"\n      :paged=\"page == 'left'\"\n      @toggle_filtered_class=\"toggle_filtered_class\"\n      @clear_filters=\"filtered_classes = []\"\n      @close_right_bar=\"close_right_bar\"\n      :filtered_classes=\"filtered_classes\"\n      @dragclass=\"\n        close_left_bar();\n        drag_class($event);\n      \"\n      @drag=\"$refs.calendar.check_leave($event)\"\n      @dragend=\"$refs.calendar.drop_class($event)\"\n      @mounted=\"\n        if (loaded) {\n          $refs.LeftBar.load();\n        }\n      \"\n    />\n    <div\n      class=\"portal_content\"\n      @click=\"\n        close_right_bar();\n        close_left_bar();\n      \"\n    >\n      <div class=\"portal_content__spaced\">\n        <header class=\"portal_info calendar_width\">\n          <div class=\"portal_info_title\">\n            <span class=\"portal_info_usertype\"\n              >{{ store.is_teacher ? \"Teacher\" : \"Student\" }} Dashboard</span\n            >\n            <span class=\"portal_info_date\">{{\n              new Date().toLocaleDateString(\"en-US\", {\n                weekday: \"long\",\n                year: \"numeric\",\n                month: \"long\",\n                day: \"numeric\",\n              })\n            }}</span>\n          </div>\n          <div class=\"portal_info_welcome\">\n            {{\n              store.recently_joined\n                ? \"Welcome to MVTT\"\n                : store.non_recent_signin\n                ? \"Welcome Back\"\n                : random_welcome\n            }}\n            {{ name }}!\n          </div>\n        </header>\n        <!-- calendar -->\n        <!-- on mounted, if this.loaded, run run_get_tasks -->\n\n        <StudyBlock\n          v-if=\"is_study\"\n          :filtered_classes=\"filtered_classes\"\n          @taskclick=\"show_task($event)\"\n          ref=\"study\"\n          @mounted=\"\n            if (loaded) {\n              $refs.study.run_get_tasks();\n            }\n          \"\n        />\n        <CalendarBlock\n          v-else\n          :filtered_classes=\"filtered_classes\"\n          @taskclick=\"show_task($event)\"\n          ref=\"calendar\"\n          :dragging_class=\"dragging_class\"\n          @mounted=\"\n            if (loaded) {\n              $refs.calendar.run_get_tasks();\n            }\n          \"\n        />\n      </div>\n    </div>\n    <RightBar\n      ref=\"RightBar\"\n      :class=\"{ paged: page == 'right' }\"\n      :paged=\"page == 'right'\"\n      @close_left_bar=\"close_left_bar\"\n      @mounted=\"\n        if (loaded) {\n          $refs.RightBar.load();\n        }\n      \"\n    />\n    <!-- show bottom nav bar if on device 600px wide or lower -->\n\n    <nav class=\"portal_mobile_nav\">\n      <button\n        class=\"portal_mobile_nav_page\"\n        :class=\"{ active: page == tab }\"\n        :id=\"'portal_mobile__' + tab\"\n        v-for=\"tab in ['left', 'block', 'right']\"\n        :key=\"tab\"\n        @click=\"page = tab\"\n      >\n        <span\n          class=\"portal_mobile_nav_page__icon\"\n          :class=\"{ alt: page == tab }\"\n          :src=\"`portal-${tab}-icon`\"\n        ></span>\n      </button>\n    </nav>\n    <!-- show overlay only if router-view is active -->\n    <OverlayWrapper\n      v-if=\"!['portal', 'study'].includes($route.name)\"\n      v-slot=\"scope\"\n      @close=\"\n        close_path\n          ? $router.push(close_path)\n          : $router.push({\n              name: is_study ? 'study' : 'portal',\n              query: { ...$route.query, date: undefined },\n            })\n      \"\n    >\n      <router-view\n        class=\"router_center_view\"\n        @close=\"scope.close\"\n        @clear_filters=\"filtered_classes = []\"\n      />\n    </OverlayWrapper>\n  </main>\n</template>\n\n<script>\n/**\n * The Portal component is the main view for the user dashboard; itdisplays the user's calendar, a left sidebar with filters, and a right sidebar with tasks, and also includes an overlay wrapper for displaying modals.\n *\n * @module PortalView\n * @description The main user dashboard view, holds the calendar and sidebars, as well as a lot of the logic for what to do with data\n * @requires module:store/MainStore\n */\n\nimport LeftBar from \"@/components/Portal/LeftBar.vue\";\nimport RightBar from \"@/components/Portal/RightBar.vue\";\nimport StudyBlock from \"@/components/Portal/StudyBlock.vue\";\nimport CalendarBlock from \"@/components/Portal/CalendarBlock.vue\";\nimport OverlayWrapper from \"@/components/Modal/OverlayWrapper.vue\";\nimport { useMainStore } from \"@/store\";\nimport { WarningToast } from \"@svonk/util\";\nimport \"@/assets/style/overlay.css\";\nimport { _status } from \"../../common\";\nexport default {\n  name: \"AppPortal\",\n  components: {\n    LeftBar,\n    RightBar,\n    StudyBlock,\n    CalendarBlock,\n    OverlayWrapper,\n  },\n  data() {\n    return {\n      /** The classes to include in the Block, or include all if empty */\n      filtered_classes: [],\n      /** A list of random welcome messages */\n      welcomes: [\"Welcome\", \"Hi\", \"Hello\", \"Hey\", \"Howdy\"],\n      loaded: false,\n      dragging_class: null,\n      is_study: this.$route.name == \"study\",\n      page: \"block\",\n    };\n  },\n  computed: {\n    /** The width of the page */\n    width() {\n      return window.innerWidth;\n    },\n    /** The path to redirect to when closing an overlay, if active */\n    close_path() {\n      return this.$route?.query?.redirect || this.$route?.meta?.close_path;\n    },\n    /** The user's first name, or adequate placeholder */\n    name() {\n      return this.store.user?.displayName?.split(\" \")[0] || \"User\";\n    },\n    /** Whether the user has completed the daily survey today */\n    did_survey() {\n      return this.store.done_daily_survey;\n    },\n    /** A random welcome message */\n    random_welcome() {\n      return this.welcomes[Math.floor(Math.random() * this.welcomes.length)];\n    },\n    store() {\n      return useMainStore();\n    },\n  },\n  methods: {\n    drag_class(e) {\n      this.dragging_class = e;\n    },\n    /** Launch the Daily Survey */\n    do_survey() {\n      this.$router.replace({\n        name: \"daily\",\n        query: {\n          ...this.$route.query,\n          redirect: this.$route.fullPath,\n        },\n      });\n      new WarningToast(\"Please complete the daily survey to use MVTT today!\", 3000);\n    },\n    /** Close / minimize the left sidebar on small screens */\n    close_left_bar() {\n      this.$refs.LeftBar?.close_sidebar();\n    },\n    /** Close / minimize the right sidebar on small screens */\n    close_right_bar() {\n      this.$refs.RightBar?.close_sidebar();\n    },\n    /** Show a task in the ViewTask ModalVue */\n    show_task(task) {\n      this.$router.push({\n        name: \"viewtask\",\n        params: {\n          ref: this.store.path_to_ref(task.ref),\n        },\n        query: this.$route.query,\n      });\n    },\n    /** Toggle on or off a class in the filtered ClassList from showing in the Block */\n    toggle_filtered_class(c) {\n      if (this.filtered_classes.includes(c)) {\n        this.filtered_classes = this.filtered_classes.filter((id) => id !== c);\n      } else {\n        this.filtered_classes.push(c);\n      }\n    },\n    /** Launch the Daily Survey if it hasn't yet been completed */\n    check_and_do_survey() {\n      if (this?.store?.user && !this?.did_survey && this.$route?.meta?.noSurvey !== true) {\n        this.do_survey();\n      }\n    },\n    /** Launch the Join Form if it hasn't been completed yet */\n    check_and_do_join() {\n      if (!this.store.done_join_form) {\n        this.$router.push({\n          name: \"join\",\n          query: {\n            ...this.$route.query,\n            redirect: this.$route.fullPath,\n          },\n        });\n        new WarningToast(\"Please fill out the join form to use MVTT!\", 3000);\n      }\n    },\n  },\n  /** Preform Join Form & Daily Survey completion checks on load */\n  mounted() {\n    _status.log(\"🏗 Portal mounted\");\n    this.check_and_do_join();\n    this.check_and_do_survey();\n    this.store\n      .fetch_classes()\n      .then(() => {\n        // run calendar run_get_tasks method\n        if (this.$refs.study) this.$refs.study.run_get_tasks();\n        if (this.$refs.calendar) this.$refs.calendar.run_get_tasks();\n        this.$refs.RightBar.load();\n        this.$refs.LeftBar.load();\n        this.loaded = true;\n      })\n      .catch((err) => {\n        _status.error(\"🔥 Couldn't fetch classes\", err);\n      });\n  },\n  /** Preform same checks as mounted, but if any of the completion statuses could've changed on page switch or data load */\n  watch: {\n    width(before, after) {\n      if (after <= 600 && before > 600) {\n        this.page = \"block\";\n      }\n    },\n    did_survey() {\n      this.check_and_do_survey();\n    },\n    $time() {\n      this.check_and_do_survey();\n    },\n    $route() {\n      if (!this.is_study && this.$route.name == \"study\") {\n        this.is_study = true;\n      } else if (this.$route.name == \"portal\") {\n        this.is_study = false;\n      }\n      if (this.$route.name != \"portal\") {\n        this.close_right_bar();\n        this.close_left_bar();\n      }\n      this.check_and_do_survey();\n    },\n    store: {\n      handler() {\n        this.check_and_do_join();\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* portal */\nmain.portal {\n  background-color: var(--color-secondary);\n  /* transition: background-color 0.3s ease-out; */\n  /* sizing */\n  width: 100%;\n  height: 100%;\n  /* display */\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n}\nmain.portal .portal_sidebar {\n  box-shadow: var(--shadow-highlight);\n  flex-basis: 300px;\n  width: 300px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  background-color: var(--color-bg);\n  position: relative;\n  box-sizing: border-box;\n  padding: 0;\n}\n\nmain.portal .portal_sidebar {\n  /* margin: auto 0; */\n  height: 100%;\n  transition: transform 0.3s ease-out, box-shadow 0.3s ease-out, border-width 0.3s ease-out,\n    border-radius 0.3s ease-out;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n}\n@media (min-height: 800px) {\n  main.portal .portal_sidebar {\n    max-height: 800px;\n    top: calc(50% - 400px);\n  }\n}\n@media (min-width: /* [desktop size] */ 1270px) and (max-height: 1200px), (max-width: 600px) {\n  main.portal .portal_sidebar {\n    border-radius: 0px !important;\n    box-shadow: none !important;\n    height: 100%;\n    top: 0;\n    max-height: unset;\n  }\n  main.portal {\n    background-color: var(--color-bg);\n  }\n}\n\n@media (max-width: /* [desktop size] */ 1270px) {\n  main.portal .portal_content {\n    position: absolute;\n    z-index: 1;\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n  }\n  main.portal .portal_sidebar {\n    z-index: 2;\n    position: fixed;\n  }\n\n  .portal_sidebar.left-bar {\n    left: 0;\n  }\n  .portal_sidebar.right-bar {\n    right: 0;\n  }\n  main.portal .portal_sidebar:not(.active):not(.paged) {\n    cursor: pointer;\n  }\n\n  main.portal .portal_sidebar.active,\n  main.portal .portal_sidebar[active=\"true\"] {\n    transform: translate(0);\n  }\n}\n/* top bar */\nheader.portal_info {\n  margin: 0 auto;\n  margin-bottom: 20px;\n}\n.portal_info_usertype {\n  font-size: 26px;\n  font-weight: bold;\n  letter-spacing: 0.065em;\n  line-height: 49px;\n  text-align: center;\n}\n.portal_info_date {\n  font-size: 15px;\n  letter-spacing: 0.04em;\n  line-height: 27px;\n  text-align: center;\n}\n.portal_info_welcome {\n  font-size: 19px;\n\n  letter-spacing: 0.08em;\n  font-style: italic;\n  line-height: 27px;\n}\n.portal_content {\n  flex-grow: 1;\n  padding: var(--padding-portal);\n  overflow-y: auto;\n}\n.portal_content::-webkit-scrollbar {\n  display: none;\n}\n.portal_content__spaced {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: stretch;\n  min-height: 100%;\n}\n/* on small devices, align task list to top */\n@media (max-width: 600px) {\n  .portal_content__spaced {\n    justify-content: start;\n  }\n  .portal_content {\n    padding: var(--padding-portal-mobile);\n  }\n}\n.portal_info,\n.portal_info > div {\n  width: 100%;\n}\n.portal_info_title {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n@media (max-width: 400px) {\n  main.portal .portal_sidebar {\n    min-width: 300px;\n    position: fixed;\n    top: 0;\n  }\n}\n@media (max-width: 340px) {\n  main.portal .portal_sidebar {\n    min-width: calc(100% - 40px);\n  }\n}\n@media (max-width: 600px) {\n  main.portal .portal_sidebar {\n    width: 100%;\n    height: calc(100% - var(--height-portal-mobile-nav));\n    max-height: calc(100% - var(--height-portal-mobile-nav));\n    top: 0;\n    left: 0;\n    right: 0;\n    transition: transform 0.3s ease-out, border-radius 0.3s ease-out, top 0.3s ease-out,\n      height 0.3s ease-out, max-height 0.3s ease-out, left 0.3s ease-out, right 0.3s ease-out;\n    border-radius: 0 !important;\n  }\n  main.portal .portal_sidebar.left-bar {\n    transform: translateX(-100%);\n  }\n  main.portal .portal_sidebar.right-bar {\n    transform: translateX(100%);\n  }\n  main.portal[page=\"left\"] .portal_sidebar.left-bar,\n  main.portal[page=\"right\"] .portal_sidebar.right-bar {\n    transform: translateX(0);\n  }\n  main.portal .portal_content {\n    transition: transform 0.3s ease-out, opacity 0.3s ease-out, filter 0.3s ease-out;\n  }\n  main.portal:not([page=\"block\"]) .portal_content {\n    transform: scale(0.9);\n    opacity: 0.7;\n    filter: blur(3px);\n  }\n  /* layout */\n  main.portal {\n    flex-flow: column nowrap;\n  }\n  main.portal .portal_content {\n    position: unset;\n  }\n}\n\n/* mobile nav */\n.portal_mobile_nav {\n  height: var(--height-portal-mobile-nav);\n  flex: 0 0 var(--height-portal-mobile-nav);\n  width: 100%;\n  background: var(--color-bg);\n  border-top: 3px solid var(--color-on-bg);\n  /* layout */\n  flex-flow: row nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n  /* mobile only */\n  display: none;\n}\n.portal_mobile_nav .portal_mobile_nav_page {\n  flex: 1 1 33%;\n  /* style */\n  border: none;\n  background: none;\n  /* layout */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n/* print media */\n@media print {\n  main.portal .portal_sidebar {\n    display: none;\n  }\n  main.portal .portal_content {\n    padding: 0;\n  }\n}\n\n/* icons */\n.portal_mobile_nav_page__icon {\n  height: 40px;\n  width: 40px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  filter: var(--filter-icon);\n  /* transition */\n  transition: opacity 0.2s ease-out, scale 0.2s ease-out;\n  scale: 1;\n  opacity: 0.5;\n}\n.portal_mobile_nav_page__icon.alt {\n  opacity: 1;\n  scale: 1.2;\n}\n.portal_mobile_nav_page__icon[src=\"portal-left-icon\"] {\n  background-image: url(@/assets/img/general/portal/nav/left.png);\n  background-image: url(@/assets/img/general/portal/nav/left.svg);\n}\n.portal_mobile_nav_page__icon[src=\"portal-block-icon\"] {\n  background-image: url(@/assets/img/general/portal/nav/block.png);\n  background-image: url(@/assets/img/general/portal/nav/block.svg);\n}\n\n.portal_mobile_nav_page__icon[src=\"portal-right-icon\"] {\n  background-image: url(@/assets/img/general/portal/nav/right.png);\n  background-image: url(@/assets/img/general/portal/nav/right.svg);\n}\n</style>\n<style>\n@media (max-width: 600px) {\n  main.portal .sidebar_toggle {\n    display: none;\n  }\n  main.portal .portal_mobile_nav {\n    display: flex;\n  }\n}\n</style>\n","<template>\n  <div class=\"left-bar portal_sidebar\" :class=\"{ active: sidebar_open }\" @click=\"show_if_inactive\">\n    <div class=\"sidebar_overflow\">\n      <div class=\"branding-title gohome\">MV Test Tracker</div>\n      <div class=\"flex_spacer\"></div>\n      <!-- Actions Panel -->\n      <ActionsPanel v-if=\"store && store.is_teacher\" />\n      <!-- Class List -->\n      <ClassList v-bind=\"$attrs\" @dragclass=\"$emit('dragclass', $event)\" />\n      <div class=\"flex_spacer\"></div>\n    </div>\n    <!-- Theme Button -->\n    <button\n      :_theme=\"store.get_theme\"\n      class=\"theme_button click-action\"\n      title=\"Switch Theme\"\n      @click=\"store.toggle_theme\"\n    >\n      <div class=\"theme_icon\"></div>\n      <div class=\"toggle_text\">Switch Theme</div>\n    </button>\n    <!-- Sidebar Toggle -->\n    <SidebarToggle class=\"right\" @click=\"close_sidebar\" />\n  </div>\n</template>\n\n<script>\nimport SidebarToggle from \"@/components/Portal/SidebarToggle.vue\";\nimport ClassList from \"./Left/ClassList.vue\";\nimport ActionsPanel from \"./Left/ActionsPanel.vue\";\nimport { useMainStore } from \"@/store\";\nimport { placeholderToast } from \"@svonk/util\";\nexport default {\n  name: \"LeftBar\",\n  components: {\n    SidebarToggle,\n    ClassList,\n    ActionsPanel,\n  },\n  props: {\n    paged: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: [\"close_right_bar\", \"set_class\", \"mounted\", \"dragclass\"],\n  data() {\n    return {\n      sidebar_open: false,\n    };\n  },\n  computed: {\n    store() {\n      return useMainStore();\n    },\n  },\n  mounted() {\n    this.$emit(\"mounted\");\n    window.addEventListener(\"resize\", this.close_sidebar);\n  },\n  unmounted() {\n    window.removeEventListener(\"resize\", this.close_sidebar);\n  },\n  methods: {\n    placeholderToast,\n    show_if_inactive() {\n      if (!this.sidebar_open) this.sidebar_open = true;\n      this.$emit(\"close_right_bar\");\n    },\n    close_sidebar() {\n      if (this.sidebar_open) setTimeout(() => (this.sidebar_open = false), 10);\n    },\n    set_class(c) {\n      this.$emit(\"set_class\", c);\n    },\n    load() {\n      this.loading = false;\n    },\n  },\n  watch: {\n    paged() {\n      if (this.paged) this.sidebar_open = true;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.left-bar {\n  border-radius: 0 var(--radius-sidebar) var(--radius-sidebar) 0;\n}\n@media (min-width: /* [desktop size] */ 1270px) and (max-height: 1200px) {\n  main.portal .portal_sidebar {\n    border-right: 3px solid var(--color-on-bg);\n  }\n}\n@media (max-width: /* [desktop size] */ 1270px) {\n  main.portal .portal_sidebar {\n    transform: translate(calc(-100% + 15px));\n  }\n  main.portal .portal_sidebar:hover {\n    transform: translate(calc(-100% + 25px));\n  }\n  /* prevent accidental clicks when hovering over collapsed sidebar */\n  main.portal .portal_sidebar:not(.active):not(.paged) * {\n    pointer-events: none !important;\n    user-select: none !important;\n  }\n}\n\n.branding-title {\n  font-weight: 700;\n  font-size: 20px;\n  line-height: 40px;\n  text-align: center;\n  user-select: none;\n}\n/* theme icon */\n.theme_button {\n  /* sizebar specific styling */\n  bottom: calc(var(--padding-sidebar) / 1.5);\n  left: calc(var(--padding-sidebar) / 1.5);\n  position: absolute;\n}\n.sidebar_overflow::-webkit-scrollbar {\n  display: none;\n}\n.sidebar_overflow {\n  overflow-y: auto;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n  height: 100%;\n  padding: var(--padding-sidebar);\n  padding-bottom: calc(var(--padding-sidebar) + var(--height-sidebar-action));\n}\n</style>\n","<template>\n  <button class=\"sidebar_toggle click-action\" title=\"Close Sidebar\">\n    <div class=\"arrow-icon\"></div>\n  </button>\n</template>\n\n<script>\nexport default {\n  name: \"SidebarToggle\",\n};\n</script>\n\n<style scoped>\n.sidebar_toggle {\n  display: none;\n  position: absolute;\n  bottom: calc(var(--padding-sidebar) / 1.5);\n  left: calc(var(--padding-sidebar) / 1.5);\n  height: var(--size-sidebar-button);\n  width: var(--size-sidebar-button);\n  cursor: pointer;\n  z-index: 1;\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) / 3);\n  border: none;\n  background-color: var(--color-on-bg);\n  padding: 0;\n}\n\n.sidebar_toggle.right {\n  left: unset;\n  right: calc(var(--padding-sidebar) / 2);\n}\n.sidebar_toggle .arrow-icon {\n  filter: var(--filter-icon);\n}\n.arrow-icon {\n  height: 100%;\n  width: 100%;\n  background-image: url(@/assets/img/general/portal/arrow-right.png);\n  background-image: url(@/assets/img/general/portal/arrow-right.svg);\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  user-select: none;\n  pointer-events: none;\n}\n.sidebar_toggle.right .arrow-icon {\n  background-image: url(@/assets/img/general/portal/arrow-left.png);\n  background-image: url(@/assets/img/general/portal/arrow-left.svg);\n}\n@media (max-width: 1200px) {\n  .sidebar_toggle {\n    display: block;\n  }\n}\n</style>\n","import { render } from \"./SidebarToggle.vue?vue&type=template&id=2e4cb15c&scoped=true\"\nimport script from \"./SidebarToggle.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarToggle.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarToggle.vue?vue&type=style&index=0&id=2e4cb15c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e4cb15c\"]])\n\nexport default __exports__","<template>\n  <div class=\"class_list\">\n    <div class=\"class_list__not_empty\" :class=\"{ filtering: !!filtered_classes.length }\">\n      <h5\n        @click=\"$emit('clear_filters')\"\n        :title=\"filtered_classes.length ? 'Click to clear filters' : ''\"\n      >\n        Classes\n      </h5>\n      <hr class=\"class_list_hr\" />\n      <div class=\"classes_container\" :class=\"{ filtering: !!filtered_classes.length }\">\n        <a\n          class=\"classes_container_class\"\n          :ref=\"class_obj.ref\"\n          :href=\"'/view/' + clean_ref(class_obj.ref)\"\n          v-for=\"class_obj of classes\"\n          :draggable=\"\n            store.is_teacher && class_obj.email == this.store.user.email && $route.name != 'study'\n          \"\n          @dragstart=\"\n            $emit('dragclass', class_obj);\n            $emit('clear_filters');\n            dragging = class_obj;\n          \"\n          @dragend=\"\n            dragging = null;\n            $emit('dragclass', { ...class_obj, _done: true });\n          \"\n          :key=\"class_obj.name\"\n          @click=\"\n            $emit('toggle_filtered_class', class_obj.id);\n            $event.preventDefault();\n          \"\n          :style=\"{ '--color-class': class_obj.color, '--color-class-alt': class_obj.color + '40' }\"\n          :class=\"{\n            filter_active: filtered_classes.includes(class_obj.id),\n            classes_container_class__dragging: dragging && dragging.ref == class_obj.ref,\n          }\"\n        >\n          <div\n            class=\"class_swatch\"\n            :_email=\"class_obj.email\"\n            :title=\"\n              store.is_teacher && class_obj.email == this.store.user.email\n                ? 'Edit Class'\n                : 'Leave Class'\n            \"\n            @click=\"\n              if (store.is_teacher && class_obj.email == this.store.user.email) {\n                edit_class(class_obj);\n              } else {\n                leave_class(class_obj);\n              }\n              $event.preventDefault();\n              $event.stopPropagation();\n            \"\n          >\n            <div\n              v-if=\"!store.is_teacher || class_obj.email != this.store.user.email\"\n              class=\"class_swatch__icon class_swatch_remove__icon\"\n            ></div>\n            <div v-else class=\"class_swatch__icon class_swatch_edit__icon\"></div>\n          </div>\n\n          <span v-if=\"class_obj.period\" class=\"class_name\"\n            >P{{ class_obj.period }} - {{ class_obj.name }}</span\n          >\n          <span v-else class=\"class_name\">{{ class_obj.name }}</span>\n        </a>\n        <div\n          v-if=\"!store.is_teacher || true\"\n          class=\"classes_container_class classes_container_class__add_class\"\n          @click=\"$router.push({ name: 'addclass', query: $route.query })\"\n        >\n          <div class=\"class_swatch\">\n            <div class=\"class_swatch__add_icon\"></div>\n          </div>\n          <span class=\"class_name\">Join a Class</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useMainStore } from \"@/store\";\nexport default {\n  props: {\n    filtered_classes: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  name: \"ClassList\",\n  data() {\n    return {\n      dragging: null,\n    };\n  },\n  computed: {\n    store() {\n      return useMainStore();\n    },\n    classes() {\n      return this.store.classes.map((class_obj) => {\n        return {\n          ...class_obj,\n          email: class_obj.id.split(\"/\")[0],\n        };\n      });\n    },\n  },\n  emits: [\"toggle_filtered_class\", \"clear_filters\", \"dragclass\"],\n  methods: {\n    clean_ref(ref) {\n      let [_email, _id] = ref.split(\"/\");\n      _email = _email.split(\"@\")[0];\n      return [_email, _id].join(\"~\");\n    },\n    leave_class(class_obj) {\n      this.$router.push({\n        name: \"leave\",\n        params: {\n          ref: this.clean_ref(class_obj.id),\n        },\n        query: this.$route.query,\n      });\n    },\n    edit_class(class_obj) {\n      this.$router.push({\n        name: \"editclass\",\n        params: {\n          ref: this.clean_ref(class_obj.id),\n        },\n        query: this.$route.query,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.class_list {\n  margin: auto 0;\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: stretch;\n  justify-content: center;\n  flex-basis: 200px;\n  flex-shrink: 1;\n}\n.class_list__not_empty {\n  flex-shrink: 1;\n  padding-bottom: 40px;\n}\nh5 {\n  font-size: 17px;\n  font-weight: 600;\n  letter-spacing: 0.015rem;\n  line-height: 27px;\n  text-align: center;\n  border-radius: 8px;\n  user-select: none;\n}\n.filtering h5:hover {\n  background-color: var(--color-on-bg);\n}\n.class_list_hr {\n  margin: 5px 0;\n  border: none;\n  border-top: 2px solid var(--color-task-separator);\n}\n/* class */\n.classes_container_class {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: stretch;\n  margin: var(--spacing-classes) 0;\n  user-select: none;\n  border-radius: 5px;\n  padding: var(--spacing-classes-alt);\n  /* link fix */\n  color: var(--color-text);\n  text-decoration: none;\n  font-weight: 500;\n}\n.classes_container_class:hover {\n  background-color: var(--color-on-bg);\n}\n/* class filtering */\n.filtering .classes_container_class:not(.classes_container_class__add_class) {\n  opacity: 0.7;\n}\n.filtering .classes_container_class.filter_active,\n.classes_container_class.classes_container_class__dragging {\n  background-color: var(--color-class-alt);\n  opacity: 1;\n}\n.classes_container_class__add_class,\n.classes_container_class__create_class {\n  background-color: var(--color-on-bg);\n  padding: var(--spacing-classes-alt);\n  border-radius: 10px;\n  cursor: pointer;\n}\n.classes_container_class__add_class .class_name,\n.classes_container_class__create_class .class_name {\n  font-size: 0.8em;\n  opacity: 0.7;\n  text-align: center;\n  flex-grow: 1;\n  padding-right: calc(15px + 20px);\n}\n.classes_container_class > * {\n  user-select: none;\n}\n.class_swatch__add_icon {\n  width: 100%;\n  height: 100%;\n  filter: var(--filter-icon);\n  background-image: url(@/assets/img/general/portal/add.png);\n  background-image: url(@/assets/img/general/portal/add.svg);\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.class_swatch__icon {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  filter: var(--filter-swatch-icon);\n  background-size: 16px;\n  background-repeat: no-repeat;\n  background-position: center;\n  transition: opacity 0.2s ease-in-out;\n}\n.class_swatch_remove__icon {\n  background-image: url(@/assets/img/general/portal/remove.png);\n  background-image: url(@/assets/img/general/portal/remove.svg);\n}\n.class_swatch_edit__icon {\n  background-image: url(@/assets/img/general/portal/edit.png);\n  background-image: url(@/assets/img/general/portal/edit.svg);\n}\n.class_swatch:hover .class_swatch__icon,\n.class_swatch:active .class_swatch__icon {\n  opacity: 1;\n}\n.class_swatch {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  border-radius: 30%;\n  margin-right: 15px;\n  background-color: var(--color-class);\n  filter: var(--filter-calendar-task);\n  flex: 0 0 auto;\n}\n.classes_container_class__add_class .class_swatch,\n.classes_container_class__create_class .class_swatch {\n  background-color: var(--color-bg);\n  filter: none;\n}\n.class_name {\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.015rem;\n  text-align: left;\n}\n</style>\n","import { render } from \"./ClassList.vue?vue&type=template&id=1a3dbbbc&scoped=true\"\nimport script from \"./ClassList.vue?vue&type=script&lang=js\"\nexport * from \"./ClassList.vue?vue&type=script&lang=js\"\n\nimport \"./ClassList.vue?vue&type=style&index=0&id=1a3dbbbc&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a3dbbbc\"]])\n\nexport default __exports__","<template>\n  <div class=\"teacher_actions\">\n    <div\n      :disabled=\"!has_classes\"\n      :title=\"\n        has_classes\n          ? `${task_type.list_as} (${task_type.shortcuts.map((s) => '+ and ' + s).join(', ')})`\n          : 'Please create a class first'\n      \"\n      v-for=\"task_type of selected_types\"\n      :key=\"task_type.key\"\n      class=\"teacher_action\"\n      @click=\"\n        if (has_classes) {\n          $router.push({\n            name: 'newtask',\n            params: { tasktype: task_type.key },\n            query: this.$route.query,\n          });\n        } else {\n          warn_missing_class();\n        }\n      \"\n    >\n      <div class=\"teacher_action__icon icon__add\"></div>\n      <div class=\"teacher_action__text\">\n        {{ task_type.list_as }}\n      </div>\n    </div>\n\n    <div class=\"teacher_action\" @click=\"$router.push({ name: 'createclass', query: $route.query })\">\n      <div class=\"teacher_action__icon icon__create\"></div>\n      <div class=\"teacher_action__text\">Create a Class</div>\n    </div>\n    <div\n      class=\"action_add_shortcut_hint toast default noremove\"\n      v-if=\"equalDown || plusDown || toastOut\"\n      :class=\"{ out: toastOut }\"\n    >\n      <img alt=\"icon\" src=\"@/assets/img/general/toast-keyboard.svg\" class=\"toast-icon\" />\n      Waiting for rest of shortcut (&VeryThinSpace;<span\n        v-for=\"type of magic.types\"\n        :key=\"type.key\"\n      >\n        <span style=\"text-decoration: underline\">{{ type.shortcuts[0].toLowerCase() }}</span>\n        <span> {{ type.name.slice(1) }} </span>\n        <span v-if=\"magic.types.indexOf(type) !== magic.types.length - 1\"\n          >,&MediumSpace;</span\n        > </span\n      >&VeryThinSpace;)\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useMainStore } from \"@/store\";\nimport { useMagic } from \"@/store/magic\";\nimport { WarningToast } from \"@svonk/util\";\nimport { useShortcuts } from \"@/store/shortcuts\";\nexport default {\n  data() {\n    return {\n      plusDown: false,\n      equalDown: false,\n      doneChange: false,\n      toastOut: false,\n      toastTimeout: null,\n    };\n  },\n  mounted() {\n    window.addEventListener(\"keydown\", this.keydown);\n    window.addEventListener(\"keyup\", this.keyup);\n    useShortcuts().register_all(this.shortcuts, \"Teacher\");\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.keydown);\n    window.removeEventListener(\"keyup\", this.keyup);\n    useShortcuts().remove_tag(\"Teacher\");\n  },\n  computed: {\n    selected_types() {\n      // only the first 2 types of magic.types\n      return this.magic.types.slice(0, 2);\n    },\n    task_types() {\n      return this.magic.types.map((t) => [t.key, t.list_as, t.shortcuts]);\n    },\n    shortcuts() {\n      return this.task_types.map((t) => ({\n        key: t[2]\n          .map((t) => {\n            return \"+ and \" + t;\n          })\n          .join(\", \"),\n        description: t[1],\n      }));\n    },\n    magic() {\n      return useMagic();\n    },\n    store() {\n      return useMainStore();\n    },\n    has_classes() {\n      return this.store?.active_doc?.classes?.length > 0;\n    },\n  },\n  methods: {\n    keyup(e) {\n      if (e.key === \"+\") {\n        this.plusDown = false;\n      } else if (e.key === \"=\") {\n        this.equalDown = false;\n      } else {\n        return;\n      }\n      if (!this.plusDown && !this.equalDown) {\n        window.clearTimeout(this.toastTimeout);\n        this.toastOut = true;\n        this.toastTimeout = window.setTimeout(() => {\n          this.toastOut = false;\n        }, 500);\n      }\n      if (this.doneChange) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.doneChange = false;\n      } else {\n        // enter the key as if it was originally pressed, tell keydown to ignore it\n        let event = new KeyboardEvent(\"keydown\", {\n          key: e.key,\n          code: e.code,\n          location: e.location,\n          ctrlKey: e.ctrlKey,\n          shiftKey: e.shiftKey,\n          altKey: e.altKey,\n          metaKey: e.metaKey,\n          repeat: e.repeat,\n        });\n        event.macroIgnore = true;\n        window.dispatchEvent(event);\n      }\n    },\n    keydown(e) {\n      const key = e.key.toLowerCase();\n      // handle plus/equal case\n      if (key === \"+\" || key === \"=\") {\n        if (e.macroIgnore) {\n          return;\n        } else if (key === \"+\") {\n          this.plusDown = true;\n        } else if (key === \"=\") {\n          this.equalDown = true;\n        }\n        e.stopPropagation();\n        e.preventDefault();\n      }\n\n      // change existing type while in creation window\n      if (this.$route.name == \"newtask\" && (this.plusDown || this.equalDown)) {\n        const task_type = this.task_types.find((t) => t[2].includes(key));\n        if (task_type) {\n          this.$router.push({\n            name: \"newtask\",\n            params: { tasktype: task_type[0] },\n            query: this.$route.query,\n          });\n          this.doneChange = true;\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n      // create new from portal or study pages\n      else if (![\"study\", \"portal\"].includes(this.$route.name)) {\n        return;\n      } else if (\n        (this.plusDown || this.equalDown) &&\n        this.has_classes &&\n        this.task_types.some((t) => t[2].includes(key))\n      ) {\n        const task_type = this.task_types.find((t) => t[2].includes(key));\n        this.$router.push({\n          name: \"newtask\",\n          params: { tasktype: task_type[0] },\n          query: this.$route.query,\n        });\n        this.doneChange = true;\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    },\n    warn_missing_class() {\n      new WarningToast(\"Please create a class first\", 2000);\n    },\n  },\n};\n</script>\n\n<style>\n.action_add_shortcut_hint.out {\n  animation: slideOut 0.5s forwards;\n}\n.teacher_actions {\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: stretch;\n  justify-content: center;\n  flex-grow: 0;\n  flex-shrink: 1;\n  flex-basis: 100px;\n  margin: 10px 0;\n}\n.teacher_actions .teacher_action {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  user-select: none;\n  justify-content: flex-start;\n  flex-grow: 0;\n  height: var(--height-sidebar-action);\n  width: 100%;\n  cursor: pointer;\n  background-color: var(--color-bg);\n  border-radius: 10px;\n  padding: 10px;\n  padding-left: 0px;\n  /* transition: background-color 0.1s ease-out; */\n}\n.teacher_actions .teacher_action[disabled=\"true\"] {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n.teacher_actions .teacher_action[disabled=\"true\"] * {\n  pointer-events: none;\n}\n.teacher_actions .teacher_action:not([disabled=\"true\"]):hover {\n  background-color: var(--color-on-bg);\n}\n.teacher_actions .teacher_action:not(:first-child) {\n  margin-top: 15px;\n}\n.teacher_action__icon {\n  display: block;\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: 40px;\n  height: 40px;\n  width: 40px;\n  background-size: 40px 40px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: var(--color-on-bg);\n  border-radius: 10px;\n  margin-right: 10px;\n  scale: 0.9;\n  transition: scale 0.1s ease-out;\n}\n.teacher_actions .teacher_action:not([disabled=\"true\"]):hover .teacher_action__icon {\n  scale: 0.8;\n}\n.teacher_action__icon > * {\n  flex-shrink: 0;\n  filter: var(--filter-icon);\n}\n.icon__add {\n  background-image: url(\"@/assets/img/general/portal/actions/add.png\");\n  background-image: url(\"@/assets/img/general/portal/actions/add.svg\");\n}\n.icon__create {\n  background-image: url(\"@/assets/img/general/portal/actions/create.png\");\n  background-image: url(\"@/assets/img/general/portal/actions/create.svg\");\n}\n</style>\n","import { render } from \"./ActionsPanel.vue?vue&type=template&id=8cbe7c50\"\nimport script from \"./ActionsPanel.vue?vue&type=script&lang=js\"\nexport * from \"./ActionsPanel.vue?vue&type=script&lang=js\"\n\nimport \"./ActionsPanel.vue?vue&type=style&index=0&id=8cbe7c50&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LeftBar.vue?vue&type=template&id=5b1969ec&scoped=true\"\nimport script from \"./LeftBar.vue?vue&type=script&lang=js\"\nexport * from \"./LeftBar.vue?vue&type=script&lang=js\"\n\nimport \"./LeftBar.vue?vue&type=style&index=0&id=5b1969ec&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b1969ec\"]])\n\nexport default __exports__","<template>\n  <div class=\"right-bar portal_sidebar\" :class=\"{ active: sidebar_open }\" @click=\"show_if_inactive\">\n    <div class=\"sidebar_overflow\">\n      <div class=\"sidebar_first_block\">\n        <div class=\"linked_acc_icon\" v-if=\"store && store.personal_account\">\n          <img\n            class=\"linked_acc_icon__img\"\n            width=\"24\"\n            height=\"24\"\n            src=\"@/assets/img/general/user-linked.png\"\n            alt=\"Linked Account\"\n          />\n        </div>\n        <div class=\"auth_logout auth-action can-logout doprompt\">Log Out</div>\n      </div>\n      <div class=\"flex_spacer\"></div>\n      <UpcomingTasks :loading=\"loading\" />\n      <div class=\"flex_spacer\"></div>\n    </div>\n    <button\n      class=\"settings_button click-action\"\n      title=\"Settings\"\n      @click=\"$router.push({ name: 'settings', query: $route.query })\"\n    >\n      <div class=\"settings_icon\"></div>\n    </button>\n    <SidebarToggle @click=\"close_sidebar\" />\n  </div>\n</template>\n\n<script>\nimport SidebarToggle from \"@/components/Portal/SidebarToggle.vue\";\nimport UpcomingTasks from \"@/components/Portal/UpcomingTasks.vue\";\nimport { useMainStore } from \"@/store\";\nexport default {\n  name: \"RightBar\",\n  components: {\n    SidebarToggle,\n    UpcomingTasks,\n  },\n  props: {\n    paged: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: [\"close_left_bar\", \"mounted\"],\n  data() {\n    return {\n      sidebar_open: false,\n      loading: true,\n    };\n  },\n  computed: {\n    store() {\n      return useMainStore();\n    },\n  },\n  mounted() {\n    this.$emit(\"mounted\");\n    window.addEventListener(\"resize\", this.close_sidebar);\n  },\n  unmounted() {\n    window.removeEventListener(\"resize\", this.close_sidebar);\n  },\n\n  methods: {\n    show_if_inactive() {\n      if (!this.sidebar_open) this.sidebar_open = true;\n      // emit event to close left bar\n      this.$emit(\"close_left_bar\");\n    },\n    close_sidebar() {\n      if (this.sidebar_open) setTimeout(() => (this.sidebar_open = false), 10);\n    },\n    load() {\n      this.loading = false;\n    },\n  },\n  watch: {\n    paged() {\n      if (this.paged) this.sidebar_open = true;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.sidebar_first_block {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: stretch;\n  margin-bottom: var(--padding-sidebar);\n  gap: 5px;\n}\n/* display image at 24x24px size */\n.linked_acc_icon {\n  flex: 0 0 30px;\n  height: 30px;\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.auth_logout {\n  flex: 1 1 auto;\n}\n.right-bar {\n  border-radius: var(--radius-sidebar) 0 0 var(--radius-sidebar);\n}\n.can-logout {\n  height: 30px;\n  font-size: 18px;\n  line-height: 30px;\n  color: var(--color-text);\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  user-select: none;\n}\n.can-logout::after {\n  content: \"\";\n  height: 30px;\n  width: 30px;\n  display: inline-block;\n  filter: var(--filter-icon);\n  background-image: url(@/assets/img/general/portal/logout.png);\n  background-image: url(@/assets/img/general/portal/logout.svg);\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: right center;\n}\n@media (min-width: /* [desktop size] */ 1270px) and (max-height: 1200px) {\n  main.portal .portal_sidebar {\n    border-left: 3px solid var(--color-on-bg);\n  }\n}\n@media (max-width: /* [desktop size] */ 1270px) {\n  main.portal .portal_sidebar {\n    transform: translate(calc(100% - 15px));\n  }\n  main.portal .portal_sidebar:hover {\n    transform: translate(calc(100% - 25px));\n  }\n  /* prevent accidental clicks when hovering over collapsed sidebar */\n  main.portal .portal_sidebar:not(.active):not(.paged) * {\n    pointer-events: none !important;\n    user-select: none !important;\n  }\n}\n\n/* info icon */\n.settings_button {\n  position: absolute;\n  display: block;\n  bottom: calc(var(--padding-sidebar) / 1.5);\n  right: calc(var(--padding-sidebar) / 1.5);\n  height: var(--size-sidebar-button);\n  width: var(--size-sidebar-button);\n  cursor: pointer;\n  z-index: 1;\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) / 3);\n  border: none;\n  background-color: var(--color-on-bg);\n  padding: 0;\n}\n.settings_icon {\n  height: 100%;\n  width: 100%;\n  filter: var(--filter-icon);\n  background-image: url(@/assets/img/general/portal/settings.png);\n  background-image: url(@/assets/img/general/portal/settings.svg);\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  user-select: none;\n  pointer-events: none;\n}\n.sidebar_overflow::-webkit-scrollbar {\n  display: none;\n}\n.sidebar_overflow {\n  overflow-y: auto;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n  height: 100%;\n  padding: var(--padding-sidebar);\n  padding-bottom: calc(var(--padding-sidebar) + var(--height-sidebar-action));\n}\n</style>\n","<template>\n  <div class=\"upcoming_tasks\">\n    <div v-if=\"(tasks && tasks.length) || loading\" class=\"upcoming_tasks__not_empty\">\n      <h5>\n        <router-link :to=\"{ name: 'study' }\" class=\"upcoming_tasks__title\">Upcoming</router-link>\n      </h5>\n      <hr class=\"upcoming_tasks_hr\" />\n      <transition-group\n        class=\"tasks_container\"\n        v-if=\"tasks && tasks.length\"\n        name=\"upcoming-group\"\n        tag=\"div\"\n      >\n        <ExamCard\n          class=\"tasks_container_task\"\n          v-for=\"task of tasks\"\n          :task=\"task\"\n          :key=\"task.ref\"\n          :href=\"`/view/${store.path_to_ref(task.ref)}`\"\n          target=\"_blank\"\n          @click=\"\n            $event.preventDefault();\n            show_task(task);\n          \"\n        />\n      </transition-group>\n      <img v-else class=\"loading_tasks loading_icon\" alt=\"Loading...\" />\n    </div>\n    <div v-else class=\"upcoming_tasks__empty\">\n      <h5>No Upcoming Tasks!</h5>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ExamCard from \"@/components/Portal/ExamCard.vue\";\nimport { useMainStore } from \"@/store\";\n\nexport default {\n  name: \"UpcomingTasks\",\n  props: {\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  components: {\n    ExamCard,\n  },\n  computed: {\n    store() {\n      return useMainStore();\n    },\n    tasks() {\n      return this.store.upcoming_todo.slice(0, 6);\n    },\n  },\n  methods: {\n    /** Show a task in the ViewTask ModalVue */\n    show_task(task) {\n      this.$router.push({\n        name: \"viewtask\",\n        params: {\n          // replace all slashes with ~ to avoid router issues\n          ref: this.store.path_to_ref(task.ref),\n        },\n        query: this.$route.query,\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n/* list transitions */\n.upcoming-group-move {\n  transition: transform 0.2s ease-out;\n}\n.upcoming-group-enter-active {\n  animation: slide-in 0.2s ease-out;\n}\n.upcoming-group-leave-active {\n  animation: slide-out 0.2s ease-out;\n}\n/* enter and leave animations */\n@keyframes slide-in {\n  0% {\n    scale: 0.8;\n    opacity: 0;\n    margin-bottom: -50px;\n  }\n  100% {\n    scale: 1;\n    opacity: 1;\n    margin-bottom: 0;\n  }\n}\n@keyframes slide-out {\n  0% {\n    scale: 1;\n    opacity: 1;\n    margin-bottom: 0;\n  }\n  100% {\n    scale: 0.8;\n    opacity: 0;\n    margin-bottom: -50px;\n  }\n}\n\n/* other styles */\n.tasks_container_task {\n  cursor: pointer;\n  user-select: none;\n  margin: 0;\n  transform-origin: top center;\n}\n.upcoming_tasks {\n  margin: auto 0;\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: stretch;\n  justify-content: center;\n  flex-basis: 200px;\n  flex-shrink: 1;\n}\n.tasks_container {\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 10px;\n  margin-top: 10px;\n  max-height: calc(40px * 6 + 10px * 5);\n}\n.tasks_container_task {\n  flex: 0 0 40px;\n  height: 40px;\n}\n.upcoming_tasks__not_empty {\n  flex-shrink: 1;\n  padding-bottom: 40px;\n}\nh5 {\n  font-size: 17px;\n  font-weight: 600;\n  letter-spacing: 0.015rem;\n  line-height: 27px;\n  text-align: center;\n}\n.upcoming_tasks__title {\n  color: inherit;\n}\n.upcoming_tasks_hr {\n  margin: 5px 0;\n  border: none;\n  border-top: 2px solid var(--color-task-separator);\n}\n.loading_tasks {\n  min-width: 100%;\n  max-height: 150px;\n}\n</style>\n","import { render } from \"./UpcomingTasks.vue?vue&type=template&id=03b122e7&scoped=true\"\nimport script from \"./UpcomingTasks.vue?vue&type=script&lang=js\"\nexport * from \"./UpcomingTasks.vue?vue&type=script&lang=js\"\n\nimport \"./UpcomingTasks.vue?vue&type=style&index=0&id=03b122e7&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03b122e7\"]])\n\nexport default __exports__","import { render } from \"./RightBar.vue?vue&type=template&id=25973996&scoped=true\"\nimport script from \"./RightBar.vue?vue&type=script&lang=js\"\nexport * from \"./RightBar.vue?vue&type=script&lang=js\"\n\nimport \"./RightBar.vue?vue&type=style&index=0&id=25973996&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25973996\"]])\n\nexport default __exports__","<template>\n  <main class=\"study portal_main_block\" :class=\"{ study_fullpage: fullpage }\">\n    <!-- use LoadingCover component when waiting for ready -->\n    <LoadingCover v-if=\"!is_ready\" class=\"study_loading\" covering=\"Study Tasks\" />\n    <div class=\"study_header portal_main_block_header\">\n      <div class=\"portal_main_block_header__left\">\n        <button\n          class=\"portal_main_block_action portal_main_block_action_alt fullpage_toggle_button\"\n          @click=\"toggle_fullscreen\"\n          title=\"Toggle fullscreen (f)\"\n        >\n          <div class=\"action_icon expand-icon\" :class=\"{ alt: fullpage }\"></div>\n        </button>\n        <div class=\"study_name portal_main_block_title\">\n          Upcoming<span class=\"desktop_only_text\">&nbsp;Assignments</span>\n        </div>\n      </div>\n      <div class=\"portal_main_block_actions_wrapper\">\n        <nav class=\"portal_main_block_actions portal_main_block_actions_freeform\">\n          <button\n            class=\"portal_main_block_action portal_main_block_action_freeform portal_main_block_action__text\"\n            @click=\"days = length[0]\"\n            :title=\"`${length[2]} (${length[3]})`\"\n            v-for=\"length in lengths\"\n            :key=\"length[0]\"\n            :class=\"{ active: days == length[0] }\"\n          >\n            {{ length[1] }}\n          </button>\n        </nav>\n        <button\n          class=\"portal_main_block_action portal_main_block_action_alt\"\n          title=\"View Calendar (c)\"\n          @click=\"swap_to_calendar\"\n        >\n          <div\n            class=\"action_icon cal-icon\"\n            :class=\"{ alt: store.upcoming && store.upcoming.length }\"\n          ></div>\n        </button>\n      </div>\n    </div>\n    <transition-group\n      name=\"study-group\"\n      class=\"study_list_group\"\n      tag=\"div\"\n      :class=\"{ filtered: filtered_classes.length }\"\n    >\n      <div\n        class=\"study_list\"\n        v-for=\"list in arranged\"\n        :key=\"list[0].class_id\"\n        :style=\"{\n          '--color-class': classes[list[0].class_id].color,\n          '--color-class-alt': classes[list[0].class_id].color + '2d',\n        }\"\n      >\n        <a\n          class=\"study_list__name\"\n          :href=\"'/view/' + store.path_to_ref(classes[list[0].class_id].ref)\"\n        >\n          {{ list[0].class_name }}</a\n        >\n        <hr class=\"study_list__separator\" />\n        <transition-group class=\"study_list_tasks\" name=\"study-list\" tag=\"div\">\n          <div\n            class=\"study_list_task\"\n            v-for=\"task in list\"\n            :key=\"task.ref\"\n            :finished=\"is_finished(task.ref)\"\n          >\n            <label\n              :for=\"task.ref\"\n              class=\"study_list_task_checkbox\"\n              :title=\"'Mark task as ' + (is_finished(task.ref) ? 'unfinished' : 'finished')\"\n              @click=\"toggle_finished(task.ref)\"\n            >\n              <div class=\"study_list_task_checkbox__fixed\">\n                <span class=\"study_list_task_checkbox__dot\"></span>\n              </div>\n            </label>\n            <a\n              class=\"study_list_task__name study_list_task__boxed\"\n              :for=\"task.ref\"\n              @click=\"\n                $emit('taskclick', task);\n                $event.preventDefault();\n              \"\n              :href=\"'/view/' + store.path_to_ref(task.ref)\"\n            >\n              <span class=\"study_list_task__name__text\">{{ prefixed_name(task) }}</span>\n            </a>\n            <span class=\"study_list_task__date study_list_task__boxed\">{{\n              (task.date &&\n                task.date.toLocaleDateString(undefined, { month: \"numeric\", day: \"numeric\" })) ||\n              \"Invalid Date\"\n            }}</span>\n          </div>\n        </transition-group>\n      </div>\n    </transition-group>\n  </main>\n</template>\n\n<script>\nimport \"@/assets/style/portal_main.css\";\nimport { useMainStore } from \"@/store\";\nimport LoadingCover from \"@/components/LoadingCover.vue\";\nimport { _status } from \"@/common\";\nimport { useShortcuts } from \"@/store/shortcuts\";\nexport default {\n  name: \"StudyBlock\",\n  components: {\n    LoadingCover,\n  },\n  props: {\n    filtered_classes: { Array, default: () => [] },\n  },\n  emits: [\"taskclick\", \"mounted\"],\n  data() {\n    return {\n      tasks: [],\n      is_ready: false,\n      days: 7,\n      lengths: [\n        [1, \"Day\", \"Tasks today\", \"d\"],\n        [7, \"Week\", \"Tasks in the next week\", \"w\"],\n        [31, \"Month\", \"Tasks in the next month\", \"m\"],\n        [Number.MAX_SAFE_INTEGER, \"All\", \"All upcoming tasks\", \"a\"],\n      ],\n      prefixes: {\n        note: \"\",\n        task: \"Complete \",\n        // socratic: \"\",\n        test: \"Study for \",\n        // summative: \"\",\n        // midterm: \"\",\n        project: \"Prepare \",\n        quiz: \"Study for \",\n        exam: \"Study for \",\n      },\n    };\n  },\n  mounted() {\n    _status.log(\"👓 Study page mounted\");\n    this.$emit(\"mounted\");\n    this.tasks = this.store.tasks;\n    window.addEventListener(\"keydown\", this.handle_key);\n    useShortcuts().register_all(this.shortcuts, \"Study Portal\");\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.handle_key);\n    useShortcuts().remove_tag(\"Study Portal\");\n  },\n  computed: {\n    fullpage() {\n      return JSON.parse(this.$route.query.calendar || \"false\");\n    },\n    shortcuts() {\n      return [\n        {\n          key: \"f\",\n          description: \"Toggle fullscreen\",\n          top: true,\n        },\n        {\n          key: \"` or c\",\n          description: \"Swap to calendar\",\n          top: true,\n        },\n        ...this.lengths.map((item) => {\n          return {\n            key: item[3],\n            description: `View ${item[1].toLowerCase()} tasks`,\n          };\n        }),\n      ];\n    },\n    store() {\n      return useMainStore();\n    },\n    classes() {\n      // turn classes array into an object with class_id as key\n      let classes = {};\n      for (let class_obj of this.store.classes) {\n        classes[class_obj.id] = class_obj;\n      }\n      return classes;\n    },\n    filtered_tasks() {\n      // select tasks that are in the filtered classes, and within the selected time period\n      let filtered = this.tasks?.filter(\n        (task) => !this.filtered_classes.length || this.filtered_classes.includes(task.class_id)\n      );\n      const now = Date.now();\n      // 16 hours in ms (show today's tasks as upcoming until 4PM)\n      const morning = 16 * 60 * 60 * 1000;\n\n      filtered = filtered\n        .filter((task) => {\n          const diff = task?.date?.getTime ? task.date.getTime() : 0;\n          return (\n            task.type != \"note\" &&\n            diff >= now - morning &&\n            diff <= now + this.days * 24 * 60 * 60 * 1000\n          );\n        })\n        .sort((a, b) => {\n          if (a.date < b.date) return -1;\n          if (a.date > b.date) return 1;\n          return 0;\n        });\n\n      // sort those with is_finished = false to the top\n      filtered.sort((a, b) => {\n        let a_finished = this.store.finished_tasks.includes(a.ref);\n        let b_finished = this.store.finished_tasks.includes(b.ref);\n        if (a_finished && !b_finished) return 1;\n        if (!a_finished && b_finished) return -1;\n        return 0;\n      });\n      return filtered;\n    },\n    arranged() {\n      // sort tasks into an array of arrays, where each array is a class and its tasks are sorted by date\n      let tasks = this.filtered_tasks;\n      let arranged = {};\n      for (let task of tasks) {\n        if (!arranged[task.class_id]) arranged[task.class_id] = [];\n        arranged[task.class_id].push(task);\n      }\n      // create an array of arrays, order by the period value of each class\n      let arranged_array = [];\n      for (let class_id in arranged) {\n        arranged_array.push(arranged[class_id]);\n      }\n      arranged_array.sort((a, b) => {\n        let a_class = this.classes[a[0].class_id];\n        let b_class = this.classes[b[0].class_id];\n        return a_class.period - b_class.period;\n      });\n      return arranged_array;\n    },\n  },\n  methods: {\n    toggle_fullscreen() {\n      // toggle fullpage mode (route.query.calendar)\n      const new_fullpage = !this.fullpage;\n      let query = { ...this.$route.query };\n      if (new_fullpage) query.calendar = true;\n      else delete query.calendar;\n\n      this.$router.push({\n        ...this.$route,\n        query: query,\n      });\n    },\n    handle_key(event) {\n      if (event.ctrlKey || event.metaKey || event.shiftKey || this.$route.name != \"study\") return;\n      if (event.key == \"f\") {\n        this.toggle_fullscreen();\n      } else if (event.key == \"c\" || event.key == \"`\") {\n        this.swap_to_calendar();\n      } else {\n        let length = this.lengths.find((item) => item[3] == event.key);\n        if (length) {\n          this.days = length[0];\n        }\n      }\n    },\n    prefixed_name(task) {\n      return this.prefixes[task.type] + task.name;\n    },\n    swap_to_calendar() {\n      this.$router.push({ name: \"portal\", query: this.$route.query });\n    },\n    run_get_tasks() {\n      this.tasks = this.store.tasks;\n      this.is_ready = true;\n    },\n    is_finished(ref) {\n      return this.store.finished_tasks.includes(ref);\n    },\n    toggle_finished(ref) {\n      this.store\n        .set_finished(!this.is_finished(ref), ref)\n        .then(() => {\n          _status.log(\"📦 Task completion status set\");\n        })\n        .catch((err) => {\n          _status.error(\"🔥 Couldn't set task finished\", err);\n        });\n    },\n  },\n  // watch for store.classes change\n  watch: {\n    \"store.classes\": {\n      handler(a, b) {\n        if (a.length != b.length && this.is_ready) {\n          _status.log(\"📦 Classes array length changed, calendar updating tasks\");\n          this.store\n            .fetch_classes()\n            .then(() => {\n              this.run_get_tasks();\n            })\n            .catch((err) => {\n              _status.error(\"🔥 Couldn't fetch classes\", err);\n            });\n        }\n      },\n      deep: true,\n    },\n    \"store.tasks\": {\n      handler() {\n        this.tasks = this.store.tasks;\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* NON-FULLPAGE */\n\n/* list animations */\n.study-group-move,\n.study_list:not(.study-group-move) .study-list-move {\n  transition: transform 0.2s ease-out;\n}\n.study-group-enter-active {\n  animation: scale-in 0.15s ease-out;\n}\n.study-group-leave-active {\n  animation: scale-out 0.15s ease-in;\n  /* transform-origin: left center; */\n}\n.parent.simplified .study_list_group * {\n  transition: none !important;\n  animation: none !important;\n}\n/* enter and leave animations */\n@keyframes scale-in {\n  0% {\n    scale: 0.9;\n    opacity: 0;\n  }\n  100% {\n    scale: 1;\n    opacity: 1;\n  }\n}\n@keyframes scale-out {\n  0% {\n    scale: 1;\n    opacity: 1;\n  }\n  100% {\n    scale: 0.8;\n    opacity: 0;\n  }\n}\n/* main */\n.study_name {\n  max-width: fit-content;\n}\n.study_list_group:empty::before {\n  content: \"No upcoming tasks found\";\n  color: var(--text-color);\n  font-weight: 500;\n  opacity: 0.5;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  padding-bottom: calc(var(--padding-calendar) * 0.5 + var(--size-calendar-header));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.study_list_group.filtered:empty::before {\n  content: \"No upcoming tasks found in selected classes\";\n}\n\n.study_list_group:not(:empty) {\n  display: flex;\n  align-content: flex-start;\n  justify-content: flex-start;\n  flex-flow: column wrap;\n  gap: 10px;\n  max-height: 450px;\n  height: 70vh;\n  overflow-y: auto;\n}\n.study_list_group:not(:empty)::-webkit-scrollbar-corner {\n  display: none;\n}\n.study_list_group:not(:empty)::-webkit-scrollbar {\n  background: var(--color-calendar);\n}\n\n.study_list_group:not(:empty)::-webkit-scrollbar-thumb {\n  width: 8px;\n  height: 8px;\n  background: var(--color-calendar-header);\n  border-radius: 10px;\n  border: 4px solid var(--color-calendar);\n}\n\n.study_list_group:empty {\n  max-height: 70vh;\n  height: 450px;\n}\n\n.study_list {\n  color: var(--color-class);\n  background-color: var(--color-class-alt);\n  padding: var(--padding-study-class);\n  border-radius: var(--radius-calendar-day);\n  display: flex;\n  flex-flow: column nowrap;\n  gap: var(--gap-study-class);\n  flex: 1 1 160px;\n  width: 50%;\n  max-width: 300px;\n}\n.study_list .study_list__name {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-class);\n}\n.study_list hr.study_list__separator {\n  border: 0;\n  height: 2px;\n  background-color: var(--color-class);\n  opacity: 0.5;\n  margin: 0;\n}\n.study_list_tasks {\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 10px;\n}\n.study_list_tasks .study_list_task {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: stretch;\n}\n\n.study_list_tasks .study_list_task .study_list_task_checkbox {\n  height: var(--height-calendar-task);\n  opacity: 0;\n  width: 0;\n  scale: 0;\n  transform-origin: center center;\n  flex-shrink: 0;\n  flex-grow: 0;\n  border-radius: 5px;\n  transition: width 0.15s ease-in-out, opacity 0.125s 0.025s ease-in-out, scale 0.15s ease-in-out;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  overflow: hidden;\n  position: relative;\n}\n\n.study_list_task_checkbox .study_list_task_checkbox__fixed {\n  height: var(--height-calendar-task);\n  min-width: var(--height-calendar-task);\n  display: flex;\n  position: relative;\n}\n\n.study_list_task_checkbox__dot {\n  border-radius: 5px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 80%;\n  width: 80%;\n  opacity: 0.75;\n  background-color: var(--color-class);\n  transition: width 0.15s ease-in-out, height 0.15s ease-in-out, opacity 0.15s ease-in-out,\n    border-radius 0.15s ease-in-out;\n}\n/* active state */\n.study_list_task[finished=\"true\"] .study_list_task_checkbox__dot {\n  border-radius: var(--height-calendar-task);\n  height: 8px;\n  width: 8px;\n  opacity: 0.4;\n}\n\n.study_list_task[finished=\"true\"]\n  .study_list_task_checkbox__fixed:hover:not(.study-list-move)\n  .study_list_task_checkbox__dot {\n  opacity: 0.6;\n}\n\n.study_list_task_checkbox__fixed:hover:not(.study-list-move) .study_list_task_checkbox__dot {\n  height: 12px;\n  width: 12px;\n  border-radius: 4px;\n}\n\n.study_list_tasks .study_list_task .study_list_task__boxed {\n  white-space: nowrap;\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: clip;\n  position: relative;\n  font-size: 0.8rem;\n  font-weight: 600;\n  border-radius: 5px;\n  height: var(--height-calendar-task);\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  transition: margin-left 0.15s ease-in-out, padding 0.15s ease-in-out, width 0.15s ease-out,\n    opacity 0.15s ease-out;\n}\n\n.study_list_tasks .study_list_task .study_list_task__date {\n  margin-left: var(--gap-study-checkbox);\n  flex-shrink: 0;\n  flex-grow: 0;\n  width: 4em;\n  opacity: 0.6;\n  user-select: none;\n  cursor: default;\n  white-space: nowrap;\n  overflow: hidden;\n  text-align: center;\n  text-overflow: clip;\n}\n\n.study_list_tasks .study_list_task[finished=\"true\"] .study_list_task__boxed.study_list_task__date {\n  opacity: 0;\n  padding: var(--padding-calendar-task) 0;\n  width: 0;\n  margin-left: 0;\n}\n\n.study_list_tasks .study_list_task .study_list_task__name {\n  cursor: pointer;\n}\n\n.study_list_tasks .study_list_task .study_list_task__name .study_list_task__name__text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n  display: inline-block;\n}\n.study_list_tasks .study_list_task:not([finished=\"true\"]) .study_list_task__boxed {\n  filter: var(--filter-calendar-task);\n  padding: var(--padding-calendar-task);\n  color: var(--color-on-calendar-task);\n  background-color: var(--color-class);\n}\n.study_list_tasks .study_list_task[finished=\"true\"] .study_list_task__boxed {\n  text-decoration: line-through;\n  filter: var(--filter-calendar-task);\n  padding: var(--padding-calendar-task);\n  color: var(--color-class);\n  opacity: 0.5;\n}\n\n/* hover and mobile */\n.study_list_task:hover:not(.study-list-move) .study_list_task_checkbox {\n  width: var(--height-calendar-task);\n  opacity: 1;\n  scale: 1;\n}\n\n.study_list_tasks .study_list_task:hover:not(.study-list-move) .study_list_task__boxed {\n  margin-left: var(--gap-study-checkbox);\n}\n\n@media (max-width: 630px) {\n  .study_list_group {\n    padding: var(--spacing-calendar-day);\n  }\n  .study_list_tasks .study_list_task .study_list_task_checkbox {\n    width: var(--height-calendar-task);\n    opacity: 1;\n    scale: 1;\n  }\n\n  .study_list_tasks .study_list_task .study_list_task__boxed {\n    margin-left: var(--gap-study-checkbox);\n  }\n  .study_list_group:not(:empty) {\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 10px;\n    max-height: unset;\n    height: auto;\n  }\n  .study_list {\n    flex: 1 1 auto;\n    max-width: unset;\n    width: 100%;\n  }\n  @media (max-width: 450px) {\n    .portal_main_block_title.study_name {\n      display: none;\n    }\n  }\n}\n@media (max-width: /* [desktop size] */ 1270px) and (min-width: 600px) {\n  .study_list {\n    max-width: 33.33%;\n    min-height: 120px;\n    flex-basis: auto;\n    flex-shrink: 0;\n  }\n}\n@media (max-width: 800px) and (min-width: 600px) {\n  .study_list_group:not(:empty) {\n    flex-flow: row wrap;\n  }\n  .study_list {\n    flex-basis: 33.33%;\n    max-width: calc(50% - 5px);\n  }\n}\n\n/* fullpage */\n.fullpage_toggle_button {\n  display: none;\n  background: transparent;\n  border: solid var(--color-calendar-header) 2px;\n}\n@media (min-width: 630px) {\n  main.study.study_fullpage {\n    border: none;\n    box-shadow: none;\n    border-radius: 0;\n    top: 0;\n    left: 0;\n    position: fixed;\n    max-width: unset;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    overflow-y: hidden;\n    z-index: 4;\n  }\n  .fullpage_toggle_button {\n    display: flex;\n  }\n  main.study.study_fullpage .study_list_group:not(:empty) {\n    max-height: unset;\n    height: 100%;\n  }\n}\n@media (min-width: 800px) {\n  main.study.study_fullpage .study_list_group:not(:empty) {\n    max-height: 550px;\n    align-content: center;\n  }\n}\n@media (min-width: 800px) and (min-height: 720px) {\n  main.study.study_fullpage .study_list_group:not(:empty) {\n    margin-top: calc(\n      (\n          100vh - (var(--padding-calendar) * 1.5 + var(--size-calendar-header)) -\n            var(--padding-calendar) - 550px\n        ) / 2\n    );\n  }\n}\n</style>\n<style>\n@media (min-width: 630px) {\n  .portal:has(main.study.study_fullpage) .portal_sidebar {\n    z-index: 0;\n  }\n}\n</style>\n","<template>\n  <div class=\"loading_cover\" :title=\"'Loading ' + covering\">\n    <div class=\"loading_cover__overlay\"></div>\n    <div class=\"loading_cover__content\">\n      <div class=\"loading_cover__content__icon\">\n        <img class=\"loading_icon\" />\n      </div>\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoadingCover\",\n  props: {\n    covering: {\n      type: String,\n      default: \"Content\",\n    },\n  },\n};\n</script>\n\n<style scoped>\n.loading_cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  pointer-events: all;\n  cursor: wait;\n  z-index: 10;\n  box-sizing: border-box;\n}\n.loading_cover__overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: var(--color-loading-overlay, var(--color-overlay));\n  backdrop-filter: var(--bg-filter-loading);\n  z-index: 2047;\n}\n.parent.simplified .loading_cover__overlay {\n  background-color: var(--color-calendar);\n}\n.loading_cover__content {\n  z-index: 2048;\n}\n.loading_cover__content__text {\n  font-size: 1.5rem;\n  font-weight: 500;\n  color: var(--color-overlay-text);\n  text-align: center;\n  margin-top: 1rem;\n  width: 100%;\n}\n\ncircle {\n  fill: var(--color-loading-dot);\n  r: var(--dot-size, 3px);\n}\n\n.loading_cover__content,\n.loading_cover {\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: stretch;\n  justify-content: stretch;\n  height: 100%;\n}\n.loading_cover__content__icon {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n}\n</style>\n","import { render } from \"./LoadingCover.vue?vue&type=template&id=523271bf&scoped=true\"\nimport script from \"./LoadingCover.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingCover.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingCover.vue?vue&type=style&index=0&id=523271bf&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-523271bf\"]])\n\nexport default __exports__","import { render } from \"./StudyBlock.vue?vue&type=template&id=0c283c08&scoped=true\"\nimport script from \"./StudyBlock.vue?vue&type=script&lang=js\"\nexport * from \"./StudyBlock.vue?vue&type=script&lang=js\"\n\nimport \"./StudyBlock.vue?vue&type=style&index=0&id=0c283c08&scoped=true&lang=css\"\nimport \"./StudyBlock.vue?vue&type=style&index=1&id=0c283c08&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c283c08\"]])\n\nexport default __exports__","<template>\n  <main\n    class=\"calendar portal_main_block\"\n    @drag=\"check_leave\"\n    @mousewheel=\"page_flip\"\n    :class=\"{ calendar_fullpage: fullpage }\"\n  >\n    <!-- use LoadingCover component when waiting for ready -->\n    <LoadingCover v-if=\"!is_ready\" class=\"calendar_loading\" covering=\"Calendar Tasks\" />\n    <!-- calendar content -->\n    <div class=\"calendar_header portal_main_block_header\">\n      <div class=\"portal_main_block_header__left\">\n        <button\n          class=\"portal_main_block_action portal_main_block_action_alt fullpage_toggle_button\"\n          @click=\"toggle_fullscreen\"\n          title=\"Toggle fullscreen (f)\"\n        >\n          <div class=\"action_icon expand-icon\" :class=\"{ alt: fullpage }\"></div>\n        </button>\n        <div\n          class=\"calendar_date portal_main_block_title\"\n          :title=\"\n            'Currently viewing ' +\n            loaded_month.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })\n          \"\n        >\n          {{ loaded_month.toLocaleDateString(\"en-US\", { month: \"long\", year: \"numeric\" }) }}\n        </div>\n      </div>\n      <div class=\"portal_main_block_actions_wrapper\">\n        <nav class=\"portal_main_block_actions\">\n          <button\n            class=\"portal_main_block_action\"\n            @click=\"prev_month\"\n            title=\"Previous month (Left)\"\n          >\n            <div class=\"action_icon arrow-icon left\"></div>\n          </button>\n          <button class=\"portal_main_block_action\" @click=\"this_month\" title=\"Current month (Home)\">\n            <div class=\"action_icon cal-icon\" :class=\"{ alt: tasks && tasks.length }\"></div>\n          </button>\n          <button class=\"portal_main_block_action\" @click=\"next_month\" title=\"Next month (Right)\">\n            <div class=\"action_icon arrow-icon right\"></div>\n          </button>\n        </nav>\n        <button\n          class=\"portal_main_block_action portal_main_block_action_alt\"\n          v-if=\"!store.is_teacher || true\"\n          @click=\"swap_to_study\"\n          title=\"View study portal (s)\"\n        >\n          <div\n            class=\"action_icon todo-icon\"\n            :class=\"{ alt: store.upcoming_todo && store.upcoming_todo.length }\"\n          ></div>\n        </button>\n      </div>\n    </div>\n    <div\n      class=\"calendar_days_container hidescroll\"\n      :style=\"{\n        '--color-dragging': (drag.task && drag.task.color) || (drag.class && drag.class.color),\n        '--color-dragging-alt':\n          (drag.task && drag.task.color) || (drag.class && drag.class.color)\n            ? ((drag.task && drag.task.color) || (drag.class && drag.class.color)) + '80'\n            : null,\n      }\"\n    >\n      <div\n        class=\"calendar_days\"\n        ref=\"calendar_days\"\n        :class=\"{\n          calendar_days__current: day_matches(loaded_month, new Date(new Date().setDate(1))),\n          calendar_days__changed: is_changed,\n        }\"\n      >\n        <!-- v-for tasks -->\n        <div\n          class=\"calendar_day calendar_day__weekday_label\"\n          v-for=\"day of [\n            'Sunday',\n            'Monday',\n            'Tuesday',\n            'Wednesday',\n            'Thursday',\n            'Friday',\n            'Saturday',\n          ]\"\n          :key=\"day\"\n        >\n          <span class=\"calendar_day__weekday_label__text\">{{ day }}</span>\n        </div>\n        <div\n          class=\"calendar_day\"\n          :_date=\"day.date.toISOString().split('T')[0]\"\n          :class=\"{\n            calendar_day__placeholder: day.is_placeholder && !store.simplified,\n            calendar_day__hastask: day.tasks ? day.tasks.length : false,\n            calendar_day__today: day.is_today,\n            calendar_day__past: day.is_past,\n            calendar_day__drag_to: drag.to == day.date,\n            calendar_day__drag_class_to: drag.to == day.date && drag.class,\n            calendar_day__drag_from: drag.from == day.date,\n          }\"\n          @dragover=\"drag_over(day.date)\"\n          v-for=\"day of days\"\n          :key=\"day.date\"\n        >\n          <div\n            class=\"calendar_day_date\"\n            :class=\"{ 'click-action': store.is_teacher }\"\n            @click=\"\n              if (store.is_teacher) {\n                $router.push({\n                  name: 'newtask',\n                  query: {\n                    date: format_date(day.date),\n                    ...this.$route.query,\n                  },\n                });\n              }\n            \"\n          >\n            <span class=\"calendar_day_date__short\"> {{ day.date.getDate() }}</span>\n            <span class=\"calendar_day_date__long\" style=\"display: none\">\n              {{\n                day.date.toLocaleDateString(\"en-US\", {\n                  weekday: \"long\",\n                  month: \"long\",\n                  day: \"numeric\",\n                })\n              }}\n            </span>\n          </div>\n          <div class=\"calendar_day_tasks\">\n            <a\n              class=\"calendar_day_task click-action\"\n              :class=\"{\n                calendar_day_task__dragging: drag.task == task,\n                calendar_day_task__loading: drag.task == task && drag.load,\n              }\"\n              v-for=\"task of day.tasks\"\n              :is_note=\"task.type === 'note'\"\n              :key=\"task.name\"\n              :title=\"task.name\"\n              :draggable=\"\n                task &&\n                store.is_teacher &&\n                store.user &&\n                task.ref.split('/')[0] == store.active_doc.email &&\n                $route.name != 'study'\n              \"\n              @dragstart=\"\n                drag = {\n                  task: task,\n                  from: day.date,\n                }\n              \"\n              @dragend=\"drag_drop\"\n              :style=\"{\n                '--color-calendar-task': task.color,\n                '--color-calendar-task-alt': task.color + '40',\n              }\"\n              :href=\"'/view/' + get_link(task.ref)\"\n              @click=\"\n                $event.preventDefault();\n                $emit('taskclick', task);\n              \"\n            >\n              <div\n                class=\"calendar_day_task_editable\"\n                v-if=\"\n                  task &&\n                  store.is_teacher &&\n                  store.user &&\n                  task.ref.split('/')[0] == store.active_doc.email\n                \"\n              >\n                <span class=\"task_icon task_edit__icon\" :class=\"{ loading_bg: drag.load }\"></span>\n              </div>\n              <span v-if=\"task.type === 'note'\">\n                <span class=\"calendar_day_task__swatch\"></span>\n                <span class=\"calendar_day_task__note\"> NOTE </span>\n              </span>\n              <span v-else>\n                {{ task.name }}\n              </span>\n            </a>\n          </div>\n        </div>\n        <div v-if=\"!tasks_loaded_month\" class=\"calendar__no_tasks\" style=\"display: none\">\n          Relax! No Tasks.\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport \"@/assets/style/portal_main.css\";\nimport { useMainStore } from \"@/store\";\nimport LoadingCover from \"@/components/LoadingCover.vue\";\nimport { _status, compatDateObj } from \"@/common\";\nimport { ErrorToast, SuccessToast } from \"@svonk/util\";\nimport { useShortcuts } from \"@/store/shortcuts\";\nexport default {\n  name: \"CalendarBlock\",\n  components: {\n    LoadingCover,\n  },\n  props: {\n    filtered_classes: { Array, default: () => [] },\n    dragging_class: { Object, default: () => null },\n  },\n  emits: [\"taskclick\", \"mounted\"],\n  data() {\n    return {\n      wheel: {\n        initial: false,\n        timeout: null,\n      },\n      loaded_month: new Date(new Date().setDate(1)),\n      is_ready: false,\n      tasks: [],\n      is_changed: false,\n      drag: {},\n      shortcuts: [\n        {\n          key: \"f\",\n          description: \"Toggle fullscreen\",\n        },\n        {\n          key: \"` or s\",\n          description: \"Swap to study portal\",\n          top: true,\n        },\n        {\n          key: \"ArrowLeft\",\n          description: \"Previous month\",\n        },\n        {\n          key: \"Shift + ArrowLeft\",\n          description: \"Previous year\",\n        },\n        {\n          key: \"ArrowRight\",\n          description: \"Next month\",\n        },\n        {\n          key: \"Shift + ArrowRight\",\n          description: \"Next year\",\n        },\n        {\n          key: \"Home\",\n          description: \"Current month\",\n        },\n      ],\n    };\n  },\n  mounted() {\n    _status.log(\"📅 Calendar mounted\");\n    this.$emit(\"mounted\");\n    this.tasks = this.store.tasks;\n    window.addEventListener(\"keydown\", this.handle_key);\n    useShortcuts().register_all(this.shortcuts, \"Calendar\");\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.handle_key);\n    useShortcuts().remove_tag(\"Calendar\");\n  },\n  methods: {\n    page_flip(e) {\n      if (e.button != 0) return;\n      if (!this.wheel.initial) {\n        if (e.deltaX > 0) {\n          this.next_month();\n        } else if (e.deltaX < 0) {\n          this.prev_month();\n        }\n\n        this.wheel.initial = true;\n        this.timeout = setTimeout(() => {\n          this.wheel.initial = false;\n        }, 400);\n      }\n      if (e.deltaX) {\n        e.preventDefault();\n        return false;\n      }\n    },\n    toggle_fullscreen() {\n      // toggle fullpage mode (route.query.calendar)\n      const new_fullpage = !this.fullpage;\n      let query = { ...this.$route.query };\n      if (new_fullpage) query.calendar = true;\n      else delete query.calendar;\n\n      this.$router.push({\n        ...this.$route,\n        query: query,\n      });\n    },\n    handle_key(event) {\n      if (event.ctrlKey || event.metaKey || this.$route.name != \"portal\") return;\n      if (!event.shiftKey) {\n        if (event.key == \"s\" || event.key == \"`\") {\n          this.swap_to_study();\n          return;\n        } else if (event.key == \"f\" && !(event.ctrlKey || event.metaKey)) {\n          this.toggle_fullscreen();\n          return;\n        }\n      }\n      // use arrow keys for month navigation and home to return to current month, shift as modifier moves in years\n      const shift = event.shiftKey;\n      let action = () => {};\n      if (event.key == \"ArrowLeft\") {\n        action = this.prev_month;\n      } else if (event.key == \"ArrowRight\") {\n        action = this.next_month;\n      } else if (event.key == \"Home\") {\n        this.this_month();\n        return;\n      }\n      for (let i = 0; i < (shift ? 12 : 1); i++) {\n        action();\n      }\n    },\n    swap_to_study() {\n      this.$router.push({ name: \"study\", query: this.$route.query });\n    },\n    check_leave(e) {\n      // check if the mouse has left the calendar using drag event\n      try {\n        const rect = this.$refs.calendar_days.getBoundingClientRect();\n        if (\n          this.drag.to &&\n          (e.clientX || e.clientX) &&\n          (e.clientX < rect.left ||\n            e.clientX > rect.right ||\n            e.clientY < rect.top ||\n            e.clientY > rect.bottom)\n        ) {\n          this.drag.to = null;\n        }\n      } catch (err) {\n        _status.error(\"🔥 Couldn't check if mouse left calendar\", err);\n      }\n    },\n    // drag:\n    drop_class() {\n      if (this.drag?.class && this.drag?.to) {\n        // open task add with class and date\n        _status.log(\"📅 Dropped class on calendar day\");\n        this.$router.push({\n          name: \"newtask\",\n          query: {\n            class: this.drag.class.id,\n            date: new Date(this.drag.to.getTime() - this.drag.to.getTimezoneOffset() * 60 * 1000)\n              .toISOString()\n              .split(\"T\")[0],\n            ...this.$route.query,\n          },\n        });\n      }\n      this.drag = {};\n    },\n    drag_over(date) {\n      if (this.drag.to != date) {\n        if (this.drag.class) {\n          this.drag.to = date;\n        } else {\n          this.drag.to = this.drag.to != this.drag.from ? date : null;\n        }\n      }\n    },\n    drag_drop() {\n      if (this.drag.to && this.drag.from && this.drag.to != this.drag.from && this.drag.task) {\n        // move task to new date\n        let to = this.drag.to;\n\n        this.drag.load = true;\n        this.drag.to = null;\n        this.store\n          .update_task(this.drag.task.ref, {\n            ...this.drag.task,\n            date: new Date(to - to.getTimezoneOffset() * 60 * 1000).toISOString().split(\"T\")[0],\n          })\n          .then(() => {\n            new SuccessToast(\n              `Moved ${this.drag.task.type} ${\n                this.drag.task.name ? '\"' + this.drag.task.name + '\" ' : \"\"\n              }to ${to.toLocaleDateString()}`,\n              2000\n            );\n            _status.log(\"📅 Moved task date\");\n            this.drag = {};\n          })\n          .catch((err) => {\n            new ErrorToast(\"Couldn't update task\", err, 2000);\n            _status.error(\"🔥 Couldn't update task\", err);\n            this.drag = {};\n          });\n        // } else if (this.drag.to && this.drag.class) {\n        //   this.drop_class();\n      } else {\n        this.drag = {};\n      }\n    },\n\n    // non-drag:\n    format_date(date) {\n      // format date in yyyy-MM-dd for date input\n      return date.toISOString().split(\"T\")[0] || \"\";\n    },\n\n    day_matches(day1, day2) {\n      return (\n        day1.getDate() === day2.getDate() &&\n        day1.getMonth() === day2.getMonth() &&\n        day1.getFullYear() === day2.getFullYear()\n      );\n    },\n    get_day_tasks(day) {\n      return this.tasks\n        .filter((task) => {\n          const task_date = compatDateObj(task.date);\n          return (\n            this.day_matches(task_date, day) &&\n            (!this.filtered_classes.length || this.filtered_classes.includes(task.class_id))\n          );\n        })\n        .sort((a, b) => {\n          if (a.type == \"note\" && b.type != \"note\") return -1;\n        });\n    },\n    next_month() {\n      this.is_changed = true;\n      this.loaded_month = new Date(this.loaded_month.setMonth(this.loaded_month.getMonth() + 1));\n    },\n    this_month() {\n      let new_date = new Date(new Date().setDate(1));\n      if (this.day_matches(this.loaded_month, new_date)) {\n        this.is_changed = !this.is_changed;\n      }\n      this.loaded_month = new_date;\n    },\n    prev_month() {\n      this.is_changed = true;\n      this.loaded_month = new Date(this.loaded_month.setMonth(this.loaded_month.getMonth() - 1));\n    },\n    run_get_tasks() {\n      this.tasks = this.store.tasks;\n      this.is_ready = true;\n    },\n    get_link(ref) {\n      // replace all slashes with ~, and remove the part after @ in the part before the first slash\n      let [_email, _id, task_id] = ref.split(\"/\");\n      _email = _email.split(\"@\")[0];\n      return [_email, _id, task_id].join(\"~\");\n    },\n  },\n  computed: {\n    fullpage() {\n      return JSON.parse(this.$route.query.calendar || \"false\");\n    },\n    tasks_loaded_month() {\n      return this.tasks.some((task) => {\n        const task_date = compatDateObj(task.date);\n        return (\n          // get tasks from the current month and next month\n          true || task_date\n        );\n      });\n    },\n    store() {\n      return useMainStore();\n    },\n    days() {\n      const days = [];\n      const today = compatDateObj(new Date().toISOString().split(\"T\")[0]);\n      const this_date = this.loaded_month.getTime();\n      function get_this_date() {\n        return new Date(this_date);\n      }\n      const first_day = new Date(get_this_date().setDate(1));\n      const last_day = new Date(get_this_date().setMonth(get_this_date().getMonth() + 1, 0));\n\n      // add the placeholders for the first week\n      for (let i = first_day.getDay(); i > 0; i--) {\n        const preflow_day = new Date(get_this_date().setDate(-i));\n        days.push({\n          date: preflow_day,\n          tasks: this.get_day_tasks(preflow_day),\n          is_placeholder: true,\n          is_past: preflow_day.getTime() < today.getTime(),\n        });\n      }\n      // do normal days\n      for (let i = 1; i <= last_day.getDate(); i++) {\n        const month_day = new Date(get_this_date().setDate(i));\n        days.push({\n          date: month_day,\n          tasks: this.get_day_tasks(month_day),\n          is_today: this.day_matches(month_day, new Date()),\n          is_past: month_day.getTime() < today.getTime(),\n        });\n      }\n\n      // add however many placeholders we need to get to a full 6 * 7 grid\n      for (let i = 1; days.length < 6 * 7; i++) {\n        const overflow_day = new Date(get_this_date().setDate(last_day.getDate() + i));\n        days.push({\n          date: overflow_day,\n          tasks: this.get_day_tasks(overflow_day),\n          is_placeholder: true,\n          is_past: overflow_day.getTime() < today.getTime(),\n        });\n      }\n      return days;\n    },\n  },\n  // watch for store.classes change\n  watch: {\n    dragging_class(a, b) {\n      if (a?.ref != b?.ref) {\n        this.drag = {};\n      }\n      this.drag.class = this.dragging_class;\n    },\n    \"store.classes\": {\n      handler(a, b) {\n        if (a.length != b.length && this.is_ready) {\n          _status.log(\"📦 Classes array length changed, calendar updating tasks\");\n          this.store\n            .fetch_classes()\n            .then(() => {\n              this.run_get_tasks();\n            })\n            .catch((err) => {\n              _status.error(\"🔥 Couldn't fetch classes\", err);\n            });\n        }\n      },\n      deep: true,\n    },\n    \"store.tasks\": {\n      handler() {\n        this.tasks = this.store.tasks;\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n.fullpage_toggle_button {\n  display: none;\n  background: transparent;\n  border: solid var(--color-calendar-header) 2px;\n}\n\nmain.calendar {\n  overscroll-behavior-x: none;\n}\n\n@media (min-width: 630px) {\n  main.calendar.calendar_fullpage {\n    border: none;\n    box-shadow: none;\n    border-radius: 0;\n    top: 0;\n    left: 0;\n    position: fixed;\n    max-width: unset;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    overflow-y: hidden;\n    z-index: 4;\n  }\n  .fullpage_toggle_button {\n    display: flex;\n  }\n\n  main.calendar.calendar_fullpage .calendar_days_container {\n    height: 100%;\n    width: 100%;\n    overflow-y: auto;\n  }\n  main.calendar.calendar_fullpage .calendar_days_container::before {\n    display: none;\n  }\n  main.calendar.calendar_fullpage .calendar_days {\n    position: relative;\n    grid-template-rows: var(--height-calendar-weekday-label) repeat(6, minmax(100px, 1fr));\n  }\n}\n\n/* days list */\n.calendar_days_container {\n  width: 100%;\n  position: relative;\n}\n/* use a ::before or ::after to force it to a 3:2 ratio */\n.calendar_days_container::before {\n  content: \"\";\n  display: block;\n  padding-top: 80%;\n}\n.calendar_days {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  /* layout */\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  grid-template-rows: var(--height-calendar-weekday-label) repeat(6, 1fr);\n  grid-gap: var(--gap-calendar-day);\n  box-sizing: border-box;\n  padding: 0;\n}\n.calendar_days:empty::after {\n  content: \"No tasks scheduled\";\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: var(--color-on-calendar);\n  text-align: center;\n  margin: 1.5rem 0;\n}\n/* days */\n.calendar_day {\n  /* width: 100%; */\n  height: 100%;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n  /* style */\n  background-color: var(--color-calendar-day);\n  border-radius: var(--radius-calendar-day);\n  /* cursor: pointer; */\n  user-select: none;\n  /* overflow */\n  position: relative;\n  overflow: hidden;\n}\n.calendar_day__today {\n  --color-calendar-day: var(--color-calendar-day-today);\n}\n.calendar_day::after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  bottom: -1px;\n  left: 0;\n  width: 100%;\n  height: calc(var(--spacing-calendar-day) + 1px);\n  user-select: none;\n  pointer-events: none;\n  background: linear-gradient(\n    to bottom,\n    rgba(255, 255, 255, 0) 0px,\n    var(--color-calendar-day) var(--spacing-calendar-day)\n  );\n  z-index: 5;\n}\n\n.calendar_day_date {\n  /* layout */\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  font-weight: 700;\n  /* style */\n  backdrop-filter: blur(5px);\n  background-color: var(--color-calendar-date);\n  font-size: 11px;\n  color: var(--color-on-calendar-date);\n  margin: var(--spacing-calendar-day);\n  height: var(--size-calendar-day-date);\n  width: var(--size-calendar-day-date);\n  border-radius: calc(var(--radius-calendar-day) / 1.5);\n  user-select: none;\n  z-index: 2;\n}\n/* day labels */\n.calendar_day__weekday_label {\n  padding: 5px;\n  line-height: calc(var(--height-calendar-weekday-label) - 10px);\n  color: var(--color-calendar-weekday-label);\n  font-weight: 600;\n  font-size: 0.8em;\n}\n.calendar_day__weekday_label span.calendar_day__weekday_label__text {\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.calendar_day::before {\n  /* allow for fade transition */\n  opacity: 0;\n  transition: opacity 0.2s ease-out;\n  content: \"\";\n}\n.calendar_day.calendar_day__drag_to:not(.calendar_day__drag_from)::before {\n  /* center and overlay */\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  /* background */\n  content: \"🠻\";\n  font-size: 30px;\n  font-weight: 700;\n  color: var(--color-dragging);\n\n  /* styles */\n  background-color: var(--color-dragging-alt);\n  backdrop-filter: blur(3px);\n  z-index: 6;\n  opacity: 1;\n}\n\n.calendar_day.calendar_day__drag_class_to:not(.calendar_day__drag_from)::before {\n  content: \"+\";\n}\n\n/* hide paceholder tasks until hover */\n.calendar_day.calendar_day__placeholder > * {\n  opacity: 0.2;\n  transition: opacity 0.2s ease-out;\n}\n.calendar_day.calendar_day__placeholder:hover > *,\n.calendar_day.calendar_day__placeholder.calendar_day__drag_to > * {\n  opacity: 1;\n  transition-duration: 0.5s;\n}\n.calendar_day.calendar_day__placeholder:hover > .calendar_day_tasks,\n.calendar_day.calendar_day__placeholder.calendar_day__drag_to > .calendar_day_tasks {\n  visibility: visible;\n}\n.calendar_day.calendar_day__placeholder {\n  opacity: 0.5;\n  scale: 0.9;\n  transition: opacity 0.2s ease-out, scale 0.2s ease-out;\n}\n.calendar_day.calendar_day__placeholder:hover,\n.calendar_day.calendar_day__placeholder.calendar_day__drag_to {\n  opacity: 0.85;\n  scale: 1;\n}\n\n/* tasks */\n.calendar_day_tasks {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  padding: var(--spacing-calendar-day);\n  padding-top: calc(var(--size-calendar-day-date) + 2 * var(--spacing-calendar-day));\n  overflow-y: auto;\n  z-index: 1;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n/* hide scrollbars on tasks list */\n.calendar_day_tasks::-webkit-scrollbar {\n  display: none;\n}\n.calendar_day_tasks {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n/* task styling */\n.calendar_day_task {\n  white-space: nowrap;\n  flex-shrink: 0;\n  overflow: hidden;\n  text-overflow: clip;\n  position: relative;\n  padding: var(--padding-calendar-task);\n  /* colors */\n  color: var(--color-on-calendar-task);\n  background-color: var(--color-calendar-task);\n  /* styles */\n  font-size: 0.8rem;\n  font-weight: 600;\n  border-radius: 5px;\n  text-align: center;\n  height: var(--height-calendar-task);\n  filter: var(--filter-calendar-task);\n  cursor: pointer;\n  /* center contents */\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.calendar_day_task:first-of-type {\n  margin-top: auto;\n}\n.calendar_day_task:not(:last-of-type) {\n  margin-bottom: var(--spacing-calendar-day);\n}\n.calendar_day_task > span {\n  text-align: center;\n  width: 100%;\n  user-select: none;\n  pointer-events: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n/* for note type */\n.calendar_day_task[is_note=\"true\"] {\n  padding: 0;\n}\n/* contents wrapper */\n.calendar_day_task[is_note=\"true\"] > span {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  background-color: var(--color-calendar-note);\n}\n/* swatch of the note */\n.calendar_day_task[is_note=\"true\"] > span > .calendar_day_task__swatch {\n  display: block;\n  height: calc(var(--height-calendar-task) - 8px);\n  flex: 0 0 calc(var(--height-calendar-task) - 8px);\n  margin: 4px;\n  border-radius: 3px;\n  background-color: var(--color-calendar-task);\n}\n/* text contents of the note*/\n.calendar_day_task[is_note=\"true\"] > span > .calendar_day_task__note {\n  display: block;\n  flex: 1 1;\n  color: var(--color-on-calendar-note);\n  font-size: 0.9em;\n  font-weight: 700;\n  line-height: var(--height-calendar-task);\n  padding: 0 var(--padding-calendar-task);\n}\n.calendar_day_task .calendar_day_task_editable {\n  /* fill task */\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  /* overlay center */\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n\n  /* background and transition */\n  border-radius: 5px;\n  background-color: var(--color-calendar-task);\n  opacity: 0;\n  z-index: 2;\n  transition: opacity 0.2s ease-out;\n}\n.calendar_day_task:hover .calendar_day_task_editable,\n.calendar_day_task:active .calendar_day_task_editable,\n.calendar_day_task.calendar_day_task__dragging .calendar_day_task_editable {\n  opacity: 1;\n}\n.calendar_day_task.calendar_day_task__dragging:not(.calendar_day_task__loading) {\n  opacity: 0.001;\n}\n.task_icon {\n  width: 100%;\n  height: 100%;\n  background-size: 20px;\n}\n.task_icon.loading_bg {\n  background-size: 40px;\n  filter: none;\n}\n.task_edit__icon {\n  filter: var(--filter-swatch-icon);\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(@/assets/img/general/portal/edit.png);\n  background-image: url(@/assets/img/general/portal/edit.svg);\n}\n.calendar_day_task[is_note=\"false\"]:not(.calendar_day__weekday_label)::after {\n  content: \"\";\n  display: block;\n  width: calc(var(--padding-calendar-task) + 2px);\n  height: 100%;\n  right: 0;\n  top: 0;\n  position: absolute;\n  background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, var(--color-calendar-task) 100%);\n  margin-top: 5px;\n  z-index: 1;\n}\n\n/* on small devices, show as a list instead of a calendar */\n@media (max-width: 630px) {\n  .calendar_days_container::before {\n    display: none;\n  }\n  .calendar_days_container {\n    padding: var(--spacing-calendar-day);\n  }\n  .calendar_days {\n    position: unset;\n    top: unset;\n    left: unset;\n    height: unset;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: stretch;\n    align-items: stretch;\n  }\n  .calendar_day.calendar_day__placeholder,\n  .calendar_day:not(.calendar_day__hastask),\n  .calendar_days.calendar_days__current:not(.calendar_days__changed) .calendar_day__past {\n    display: none;\n  }\n  .calendar_day {\n    flex-shrink: 0;\n    margin-bottom: var(--spacing-calendar-day);\n    height: unset;\n    max-height: unset;\n    align-items: flex-start;\n  }\n  .calendar_day_date {\n    width: unset;\n    padding: 0.25rem 0.5rem;\n  }\n  .calendar_day_date__short {\n    display: none;\n  }\n  .calendar_day_date__long,\n  .calendar__no_tasks {\n    display: unset !important;\n  }\n  .calendar_day_date {\n    height: unset;\n  }\n  .calendar__no_tasks {\n    color: var(--color-text-on-calendar);\n    font-weight: 500;\n    text-align: center;\n    margin: 10% 0;\n  }\n  .calendar_day_tasks {\n    position: unset;\n    padding: 0;\n    padding-top: 10px;\n    flex-flow: row wrap;\n    flex-basis: calc(var(--height-calendar-task) + 2 * var(--spacing-calendar-day));\n    box-sizing: content-box;\n    overflow-y: unset;\n  }\n  .calendar_day_tasks::after,\n  .calendar_day::after {\n    display: none;\n  }\n  .calendar_day_task {\n    margin: var(--spacing-calendar-day) !important;\n    flex-grow: 1;\n    white-space: normal;\n    height: unset;\n    min-height: var(--height-calendar-task);\n    flex-basis: 70px;\n  }\n}\n</style>\n<style>\n@media (min-width: 630px) {\n  .portal:has(main.calendar.calendar_fullpage) .portal_sidebar {\n    z-index: 0;\n  }\n}\n</style>\n","import { render } from \"./CalendarBlock.vue?vue&type=template&id=3c264fc7&scoped=true\"\nimport script from \"./CalendarBlock.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarBlock.vue?vue&type=script&lang=js\"\n\nimport \"./CalendarBlock.vue?vue&type=style&index=0&id=3c264fc7&scoped=true&lang=css\"\nimport \"./CalendarBlock.vue?vue&type=style&index=1&id=3c264fc7&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c264fc7\"]])\n\nexport default __exports__","import { render } from \"./Portal.vue?vue&type=template&id=2b8087b8&scoped=true\"\nimport script from \"./Portal.vue?vue&type=script&lang=js\"\nexport * from \"./Portal.vue?vue&type=script&lang=js\"\n\nimport \"./Portal.vue?vue&type=style&index=0&id=2b8087b8&scoped=true&lang=css\"\nimport \"./Portal.vue?vue&type=style&index=1&id=2b8087b8&lang=css\"\n\nimport exportComponent from \"/Users/sander/Documents/GitHub/mvtime.github.io/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b8087b8\"]])\n\nexport default __exports__"],"names":["API_URL","useMagic","defineStore","id","state","last","types","key","name","list_as","shortcuts","getters","actions","type_full","short_type","this","find","t","async","path","rated_api_get","task","endpoint","data","url","URL","Object","keys","forEach","searchParams","append","run_hash","Math","random","toString","substring","_status","log","time","Date","now","hash","response","fetch","href","method","headers","ok","json","err","error","type","prev_time","prev_hash","warn","Promise","resolve","setTimeout","api_get","arguments","_createElementVNode","class","_hoisted_2","_createElementBlock","style","_normalizeStyle","$props","color","title","class_name","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","date","toLocaleDateString","undefined","_hoisted_8","$options","props","required","computed","__exports__","render","page","$data","_createVNode","_component_LeftBar","ref","_normalizeClass","paged","onToggle_filtered_class","toggle_filtered_class","onClear_filters","_cache","$event","filtered_classes","onClose_right_bar","close_right_bar","onDragclass","close_left_bar","drag_class","onDrag","_ctx","$refs","calendar","check_leave","onDragend","drop_class","onMounted","loaded","LeftBar","load","onClick","_hoisted_3","store","is_teacher","recently_joined","non_recent_signin","random_welcome","is_study","_createBlock","_component_StudyBlock","onTaskclick","show_task","study","run_get_tasks","_component_CalendarBlock","dragging_class","_component_RightBar","onClose_left_bar","RightBar","_Fragment","_renderList","tab","active","alt","src","includes","$route","_component_OverlayWrapper","onClose","close_path","$router","push","query","scope","_component_router_view","close","sidebar_open","args","show_if_inactive","_hoisted_1","_component_ActionsPanel","_component_ClassList","_mergeProps","$attrs","$emit","_theme","get_theme","toggle_theme","_component_SidebarToggle","close_sidebar","_hoisted_10","_hoisted_11","filtering","length","classes","class_obj","dragging","clean_ref","draggable","email","user","onDragstart","_done","preventDefault","_email","edit_class","leave_class","stopPropagation","period","_hoisted_9","Array","default","useMainStore","map","split","emits","methods","_id","join","params","_imports_0","selected_types","task_type","disabled","has_classes","s","warn_missing_class","equalDown","plusDown","toastOut","out","magic","toLowerCase","slice","indexOf","doneChange","toastTimeout","mounted","window","addEventListener","keydown","keyup","useShortcuts","register_all","beforeUnmount","removeEventListener","remove_tag","task_types","description","active_doc","e","clearTimeout","event","KeyboardEvent","code","location","ctrlKey","shiftKey","altKey","metaKey","repeat","macroIgnore","dispatchEvent","tasktype","some","WarningToast","components","SidebarToggle","ClassList","ActionsPanel","Boolean","unmounted","placeholderToast","set_class","c","loading","watch","width","height","personal_account","_component_UpcomingTasks","tasks","_component_router_link","to","_TransitionGroup","tag","_component_ExamCard","path_to_ref","target","ExamCard","upcoming_todo","UpcomingTasks","study_fullpage","fullpage","is_ready","_component_LoadingCover","covering","toggle_fullscreen","lengths","days","swap_to_calendar","upcoming","filtered","arranged","list","class_id","finished","is_finished","for","toggle_finished","_hoisted_14","prefixed_name","_hoisted_15","month","day","_renderSlot","$slots","String","LoadingCover","Number","MAX_SAFE_INTEGER","prefixes","note","test","project","quiz","exam","handle_key","JSON","parse","top","item","filtered_tasks","filter","morning","diff","getTime","sort","a","b","a_finished","finished_tasks","b_finished","arranged_array","a_class","b_class","new_fullpage","set_finished","then","catch","handler","fetch_classes","deep","_hoisted_19","_hoisted_20","calendar_fullpage","onMousewheel","page_flip","loaded_month","year","prev_month","this_month","next_month","swap_to_study","drag","day_matches","setDate","is_changed","is_placeholder","simplified","is_today","is_past","from","_date","toISOString","onDragover","drag_over","format_date","_hoisted_13","getDate","is_note","drag_drop","get_link","_hoisted_17","loading_bg","_hoisted_18","_hoisted_21","_hoisted_22","tasks_loaded_month","_hoisted_23","wheel","initial","timeout","button","deltaX","shift","action","i","rect","calendar_days","getBoundingClientRect","clientX","left","right","clientY","bottom","getTimezoneOffset","update_task","SuccessToast","ErrorToast","day1","day2","getMonth","getFullYear","get_day_tasks","task_date","compatDateObj","setMonth","new_date","task_id","today","this_date","get_this_date","first_day","last_day","getDay","preflow_day","month_day","overflow_day","StudyBlock","CalendarBlock","OverlayWrapper","welcomes","innerWidth","redirect","meta","displayName","did_survey","done_daily_survey","floor","do_survey","replace","fullPath","check_and_do_survey","noSurvey","check_and_do_join","done_join_form","before","after","$time"],"sourceRoot":""}