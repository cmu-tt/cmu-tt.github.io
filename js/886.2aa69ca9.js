"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[886],{886:function(e,t,a){a.r(t),a.d(t,{default:function(){return Le}});var s=a(3396),n=a(7139);const o={class:"portal"},i={class:"portal_info"},l={class:"portal_info_title"},r={class:"portal_info_usertype"},c={class:"portal_info_date"},d={class:"portal_info_welcome"};function _(e,t,a,_,h,m){const u=(0,s.up)("LeftBar"),g=(0,s.up)("CalendarBlock"),p=(0,s.up)("RightBar");return(0,s.wg)(),(0,s.iD)("main",o,[(0,s.Wm)(u,{ref:"LeftBar",onClose_right_bar:m.close_right_bar},null,8,["onClose_right_bar"]),(0,s._)("div",{class:"portal_content",onClick:t[0]||(t[0]=e=>{m.close_right_bar(),m.close_left_bar()})},[(0,s._)("header",i,[(0,s._)("div",l,[(0,s._)("span",r,(0,n.zw)(m.store.doc&&m.store.doc.is_teacher?"Teacher":"Student")+" Dashboard",1),(0,s._)("span",c,(0,n.zw)((new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)]),(0,s._)("div",d,"Welcome Back "+(0,n.zw)(m.name),1)]),(0,s.Wm)(g,{onDayclick:m.placeholderToast},null,8,["onDayclick"])]),(0,s.Wm)(p,{ref:"RightBar",onClose_left_bar:m.close_left_bar},null,8,["onClose_left_bar"])])}const h=e=>((0,s.dD)("data-v-337a42eb"),e=e(),(0,s.Cn)(),e),m=h((()=>(0,s._)("div",{class:"branding-title gohome"},"MV Test Tracker",-1))),u=h((()=>(0,s._)("button",{class:"settings_button click-action",title:"Open Settings"},[(0,s._)("div",{class:"settings-icon"}),(0,s._)("div",{class:"toggle_text"},"Settings")],-1)));function g(e,t,a,o,i,l){const r=(0,s.up)("SidebarToggle");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["left-bar portal_sidebar",{active:i.sidebar_open}]),onClick:t[0]||(t[0]=(...e)=>l.show_if_inactive&&l.show_if_inactive(...e))},[m,u,(0,s.Wm)(r,{class:"right",onClick:l.close_sidebar},null,8,["onClick"])],2)}const p=e=>((0,s.dD)("data-v-2e4cb15c"),e=e(),(0,s.Cn)(),e),v={class:"sidebar_toggle click-action",title:"Close Sidebar"},w=p((()=>(0,s._)("div",{class:"arrow-icon"},null,-1))),b=[w];function D(e,t,a,n,o,i){return(0,s.wg)(),(0,s.iD)("button",v,b)}var y={name:"SidebarToggle"},f=a(89);const k=(0,f.Z)(y,[["render",D],["__scopeId","data-v-2e4cb15c"]]);var C=k,T={name:"LeftBar",components:{SidebarToggle:C},emits:["close_right_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_right_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const S=(0,f.Z)(T,[["render",g],["__scopeId","data-v-337a42eb"]]);var B=S;const L=e=>((0,s.dD)("data-v-41801df4"),e=e(),(0,s.Cn)(),e),z=L((()=>(0,s._)("div",{class:"auth-action can-logout doprompt"},"Log Out",-1))),M=L((()=>(0,s._)("div",{class:"flex-spacer"},null,-1)));function x(e,t,a,o,i,l){const r=(0,s.up)("UpcomingTests"),c=(0,s.up)("SidebarToggle");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["right-bar portal_sidebar",{active:i.sidebar_open}]),onClick:t[0]||(t[0]=(...e)=>l.show_if_inactive&&l.show_if_inactive(...e))},[z,(0,s.Wm)(r),M,(0,s.Wm)(c,{onClick:l.close_sidebar},null,8,["onClick"])],2)}const U=e=>((0,s.dD)("data-v-464e8072"),e=e(),(0,s.Cn)(),e),E={class:"upcoming_tests"},W={key:0,class:"upcoming_tests__not_empty"},Y=U((()=>(0,s._)("h5",null,"Upcoming Tests",-1))),Z=U((()=>(0,s._)("hr",{class:"upcoming_tests_hr"},null,-1))),I={class:"tests_container"},R={key:1,class:"upcoming_tests__empty"},N=U((()=>(0,s._)("h5",null,"No Upcoming Tests!",-1))),$=[N];function j(e,t,a,n,o,i){const l=(0,s.up)("ExamCard");return(0,s.wg)(),(0,s.iD)("div",E,[i.tests?((0,s.wg)(),(0,s.iD)("div",W,[Y,Z,(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tests,(e=>((0,s.wg)(),(0,s.j4)(l,{class:"tests_container_test",test:e,key:e.id},null,8,["test"])))),128))])])):((0,s.wg)(),(0,s.iD)("div",R,$))])}const F=(0,s._)("div",{class:"test_card_icon"},[(0,s._)("div",{class:"test_card_icon_container"},[(0,s._)("div",{class:"test_card_icon_container__img"})])],-1),H={class:"test_card_details"},K={class:"test_card_details__title"},O={class:"test_card_details__date"};function q(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",{class:"test_card",style:(0,n.j5)({"--color-calendar-test":a.test.color})},[F,(0,s._)("div",H,[(0,s._)("div",K,(0,n.zw)(a.test.name),1),(0,s._)("div",O,(0,n.zw)(a.test.date.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})),1)])],4)}var P={name:"ExamCard",props:{test:{type:Object,required:!0}}};const A=(0,f.Z)(P,[["render",q]]);var V=A,G=a(8980),J={name:"UpcomingTests",components:{ExamCard:V},computed:{store(){return(0,G.h)()},tests(){return this.store.tests.filter((e=>e.date-Date.now()<2592e6)).sort(((e,t)=>e.date<t.date?-1:e.date>t.date?1:0)).slice(0,4)}}};const Q=(0,f.Z)(J,[["render",j],["__scopeId","data-v-464e8072"]]);var X=Q,ee={name:"RightBar",components:{SidebarToggle:C,UpcomingTests:X},emits:["close_left_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_left_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const te=(0,f.Z)(ee,[["render",x],["__scopeId","data-v-41801df4"]]);var ae=te;const se=e=>((0,s.dD)("data-v-a51a48da"),e=e(),(0,s.Cn)(),e),ne={class:"calendar"},oe={class:"calendar_header"},ie=["title"],le={class:"calendar_actions"},re=se((()=>(0,s._)("div",{class:"action_icon arrow-icon left"},null,-1))),ce=[re],de=se((()=>(0,s._)("div",{class:"action_icon arrow-icon right"},null,-1))),_e=[de],he={class:"calendar_days_container"},me={class:"calendar_days"},ue=["onClick"],ge={class:"calendar_day_date"},pe={class:"calendar_day_date__short"},ve={class:"calendar_day_date__long",style:{display:"none"}},we={class:"calendar_day_tests"},be=["title"],De={key:0,class:"calendar__no_tests",style:{display:"none"}};function ye(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("main",ne,[(0,s._)("div",oe,[(0,s._)("div",{class:"calendar_date",title:i.loaded_month.toDateString()},(0,n.zw)(i.loaded_month.toLocaleDateString("en-US",{month:"long",year:"numeric"})),9,ie),(0,s._)("nav",le,[(0,s._)("button",{class:"calendar_action",onClick:t[0]||(t[0]=(...e)=>l.prev_month&&l.prev_month(...e)),title:"Previous month"},ce),(0,s._)("button",{class:"calendar_action",onClick:t[1]||(t[1]=(...e)=>l.this_month&&l.this_month(...e)),title:"Current month"},[(0,s._)("div",{class:(0,n.C_)(["action_icon cal-icon",{alt:l.tests.length}])},null,2)]),(0,s._)("button",{class:"calendar_action",onClick:t[2]||(t[2]=(...e)=>l.next_month&&l.next_month(...e)),title:"Next month"},_e)])]),(0,s._)("div",he,[(0,s._)("div",me,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.days,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["calendar_day",{calendar_day__placeholder:t.is_placeholder,calendar_day__hastest:!!t.tests&&t.tests.length,calendar_day__today:t.is_today}]),key:t.date,onClick:a=>e.$emit("dayclick",t)},[(0,s._)("div",ge,[(0,s._)("span",pe,(0,n.zw)(new Date(t.date).getDate()),1),(0,s._)("span",ve,(0,n.zw)(new Date(t.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})),1)]),(0,s._)("div",we,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tests,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"calendar_day_test",key:e.name,title:e.classes_class,style:(0,n.j5)({"--color-calendar-test":e.color})},[(0,s._)("span",null,(0,n.zw)(e.name),1)],12,be)))),128))])],10,ue)))),128)),l.tests_loaded_month?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",De," Relax! No Tests. "))])])])}a(7658);var fe={name:"CalendarBlock",data(){return{loaded_month:new Date((new Date).setDate(1))}},methods:{day_matches(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},get_day_tests(e){return this.tests.filter((t=>{const a=new Date(t.date);return this.day_matches(a,e)}))},next_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()+1))},this_month(){this.loaded_month=new Date((new Date).setDate(1))},prev_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()-1))}},computed:{tests_loaded_month(){return this.tests.some((e=>{const t=new Date(e.date);return t.getMonth()===this.loaded_month.getMonth()&&t.getFullYear()===this.loaded_month.getFullYear()}))},tests(){const e=(0,G.h)();return e.tests},days(){const e=[],t=this.loaded_month.getTime();function a(){return new Date(t)}const s=new Date(a().setDate(1)),n=new Date(a().setMonth(a().getMonth()+1,0));for(let o=s.getDay();o>0;o--)e.push({date:new Date(a().setDate(-o)),is_placeholder:!0});for(let o=1;o<=n.getDate();o++){const t=new Date(a().setDate(o));e.push({date:t,tests:this.get_day_tests(t),is_today:this.day_matches(t,new Date)})}for(let o=1;e.length<42;o++)e.push({date:a().setDate(n.getDate()+o),is_placeholder:!0});return e}}};const ke=(0,f.Z)(fe,[["render",ye],["__scopeId","data-v-a51a48da"]]);var Ce=ke,Te=a(1708),Se={name:"AppPortal",components:{LeftBar:B,RightBar:ae,CalendarBlock:Ce},computed:{store(){return(0,G.h)()},name(){let e=this.store;return e.user&&e.user.displayName?e.user.displayName.split(" ")[0]:"User"}},methods:{close_left_bar(){this.$refs.LeftBar.close_sidebar()},close_right_bar(){this.$refs.RightBar.close_sidebar()},placeholderToast:Te.gy}};const Be=(0,f.Z)(Se,[["render",_],["__scopeId","data-v-042c3658"]]);var Le=Be}}]);
//# sourceMappingURL=886.2aa69ca9.js.map