{"version":3,"file":"js/669.9770b906.js","mappings":"yJAOA,MAAMA,EAAa,CAGjB,CAAC,qEAAsE,yBACvE,CACE,+EACA,qBAEF,CAAC,0DAA2D,iBAC5D,CAAC,kDAAmD,eACpD,CAAC,yCAA0C,UAE3C,CAAC,yDAA0D,+BAC3D,CAAC,yDAA0D,yBAC3D,CAAC,kDAAmD,0BACpD,CAAC,oCAAqC,yBACtC,CAAC,4CAA6C,yBAE9C,CAAC,0CAA2C,qBAC5C,CAAC,8CAA+C,kBAChD,CAAC,6CAA8C,oBAC/C,CAAC,iDAAkD,gBAEnD,CAAC,wCAAyC,mBAC1C,CAAC,2BAA4B,mBAC7B,CAAC,uCAAwC,mBACzC,CAAC,0BAA2B,oBAE9B,SAASC,EAAUC,GACjB,GAAKA,EAAL,CACAA,EAAOA,EAAKC,cACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAWK,OAAQD,IACrC,GAAIF,EAAKI,MAAMN,EAAWI,GAAG,IAAK,OAAOJ,EAAWI,GAAG,EAHxC,CAKnB,CAEO,MAAMG,GAAWC,EAAAA,EAAAA,IAAY,CAClCC,GAAI,QACJC,MAAOA,KAAA,CACLC,MAAO,CACLC,KAAM,OACNC,KAAM,aAENC,KAAM,OAGNC,QAAS,UACTC,KAAM,OACNC,KAAM,UAGVC,QAAS,CAAC,EACVC,QAAS,CAOPC,KAAKlB,GACH,OAAOD,EAAUC,IAAS,IAC5B,EAMAmB,KAAKR,GACH,MAAMD,EAAoB,QAAbC,EAAKQ,KACZC,IAASV,EAAOC,EAAKU,YAAcV,EAAKS,OAAS,IAAInB,cAC3D,OACGmB,EAAKE,SAAS,eAAiBF,EAAKE,SAAS,eAC9CF,EAAKE,SAAS,cACbF,EAAKE,SAAS,SAAWF,EAAKE,SAAS,QAEjC,OAELF,EAAKE,SAAS,WAAmB,UACjCF,EAAKE,SAAS,QAAgB,OAC9BF,EAAKE,SAAS,SAAWF,EAAKE,SAAS,YAAcF,EAAKE,SAAS,SAC9D,OACLF,EAAKjB,QAAU,MAASiB,GAAQT,EAAKU,aAAeV,EAAKU,YAAYlB,QAAU,GAC1E,OACJiB,EAAKjB,QAAU,IAAMiB,EAAKjB,OAAS,IAAMO,GAASU,EAAKE,SAAS,cAC5D,YADT,CAEF,I,oGCzFEC,EAAAA,EAAAA,GAEM,OAFDC,MAAM,4BAA0B,EACnCD,EAAAA,EAAAA,GAAiD,OAA5CC,MAAM,oCAA+B,G,GAD5CC,G,GAIGD,MAAM,qB,GACJA,MAAM,4B,GACNA,MAAM,+B,GACHA,MAAM,qC,GAQNA,MAAM,qC,0CAjBlBE,EAAAA,EAAAA,IAoBI,KApBDF,MAAM,YAAaG,OAAKC,EAAAA,EAAAA,IAAA,yBAA6BC,EAAAlB,KAAKmB,S,EAC3DP,EAAAA,EAAAA,GAIM,OAJDC,MAAM,iBAAkBO,MAAOF,EAAAlB,KAAKqB,Y,QAKzCT,EAAAA,EAAAA,GAaM,MAbNU,EAaM,EAZJV,EAAAA,EAAAA,GAA2D,MAA3DW,GAA2DC,EAAAA,EAAAA,IAAlBN,EAAAlB,KAAKS,MAAI,IAClDG,EAAAA,EAAAA,GAUM,MAVNa,EAUM,EATJb,EAAAA,EAAAA,GAMS,OANTc,GAMSF,EAAAA,EAAAA,IALPN,EAAAlB,KAAK2B,KAAKC,wBAAmBC,EAAW,C,yDAKjC,UAETjB,EAAAA,EAAAA,GAAsE,OAAtEkB,GAAsEN,EAAAA,EAAAA,IAAnBO,EAAAC,WAAS,U,eAQpE,GACEvB,KAAM,WACNwB,MAAO,CACLjC,KAAM,CACJQ,KAAM0B,OACNC,UAAU,IAGdC,SAAU,CACRJ,YACE,OAAOtC,EAAAA,EAAAA,KAAWI,MAAMuC,KAAKrC,KAAKQ,KACpC,I,QC9BJ,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,4JCRQ1B,MAAM,a,GACFA,MAAM,eAAe2B,IAAI,S,UAC/B5B,EAAAA,EAAAA,GAAmE,MAA/DC,MAAM,mCAAkC,sBAAkB,K,GAA9D4B,G,GAEGD,IAAI,WAAW3B,MAAM,oB,SACN2B,IAAI,iB,GACf3B,MAAM,mB,GACJA,MAAM,c,UACTD,EAAAA,EAAAA,GAA8C,QAAxCC,MAAM,sBAAqB,UAAM,K,UACvCD,EAAAA,EAAAA,GAA4C,QAAtCC,MAAM,0BAAwB,W,GAC9BA,MAAM,sB,cAaTA,MAAM,c,UACTD,EAAAA,EAAAA,GAA+C,QAAzCC,MAAM,sBAAqB,WAAO,K,UACxCD,EAAAA,EAAAA,GAA4C,QAAtCC,MAAM,0BAAwB,W,GAC9BA,MAAM,sB,GAKTA,MAAM,c,UACTD,EAAAA,EAAAA,GAA6C,QAAvCC,MAAM,sBAAqB,SAAK,K,UACtCD,EAAAA,EAAAA,GAA4C,QAAtCC,MAAM,0BAAwB,W,GAC9BA,MAAM,sB,GAETA,MAAM,c,UACTD,EAAAA,EAAAA,GAAoD,QAA9CC,MAAM,sBAAqB,gBAAY,K,UAC7CD,EAAAA,EAAAA,GAA4C,QAAtCC,MAAM,0BAAwB,W,mBAGjCA,MAAM,8BAA8B2B,IAAI,Y,UAC3C5B,EAAAA,EAAAA,GAAiD,QAA3CC,MAAM,sBAAqB,aAAS,K,UAC1CD,EAAAA,EAAAA,GAA4C,QAAtCC,MAAM,0BAAwB,W,SASUA,MAAM,a,SACfA,MAAM,4B,SACVA,MAAM,0B,UACjCD,EAAAA,EAAAA,GAAyE,OAApE8B,IAAI,eAAe7B,MAAM,eAAe8B,IAAI,uB,cAAjDC,G,SAE2C/B,MAAM,kB,oBAkB3DD,EAAAA,EAAAA,GAEM,OAFDC,MAAM,yBAAwB,+FAEnC,K,SAEG2B,IAAI,mBAAmBE,IAAI,eAAe7B,MAAM,gB,GAElDA,MAAM,kB,UAETD,EAAAA,EAAAA,GAA+B,OAA1BC,MAAM,eAAa,W,oHAnF5BE,EAAAA,EAAAA,IA+GO,OA/GP8B,EA+GO,EA9GLjC,EAAAA,EAAAA,GAES,SAFTE,EAESQ,EAAA,MACTV,EAAAA,EAAAA,GA4EM,MA5ENW,EA4EM,CA3EOuB,EAAAC,QAAK,WAAhBhC,EAAAA,EAAAA,IAyEM,MAzENU,EAyEM,EAxEJb,EAAAA,EAAAA,GAoEM,MApENc,EAoEM,EAnEJd,EAAAA,EAAAA,GAeM,MAfNkB,EAeM,CAdJkB,EACAC,GACArC,EAAAA,EAAAA,GAWO,OAXPsC,EAWO,EAVLtC,EAAAA,EAAAA,GASC,KARCC,MAAM,iCACLsC,KAAI,cAAgBC,OAAOC,OAAOb,MAClCc,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEA,EAAOC,kBACdzC,OAAKC,EAAAA,EAAAA,IAAA,C,gBAAwC6B,EAAAY,UAAUvC,M,oBAA+C2B,EAAAY,UAAUvC,MAAK,QAIrH,KAACK,EAAAA,EAAAA,IAAGsB,EAAAY,UAAUC,QAAS,OAAGnC,EAAAA,EAAAA,IAAGsB,EAAAY,UAAUjD,MAAI,GAAAmD,QAIlDhD,EAAAA,EAAAA,GAOM,MAPNiD,EAOM,CANJC,EACAC,GACAnD,EAAAA,EAAAA,GAGC,OAHDoD,GAGCxC,EAAAA,EAAAA,IAFIsB,EAAAY,UAAUC,QAAS,gBACtBnC,EAAAA,EAAAA,IAAGsB,EAAAmB,UAAUnB,EAAAY,UAAUC,OAAS,GAAGO,KAAK,OAAQ,IAAC,MAGrDtD,EAAAA,EAAAA,GAIM,MAJNuD,EAIM,CAHJC,EACAC,GACAzD,EAAAA,EAAAA,GAA6D,OAA7D0D,GAA6D9C,EAAAA,EAAAA,IAAxBsB,EAAAY,UAAUjD,MAAI,MAErDG,EAAAA,EAAAA,GAIM,MAJN2D,EAIM,CAHJC,EACAC,GACA7D,EAAAA,EAAAA,GAAyE,QAAnEC,MAAM,qBAAqB6D,UAAQ3C,EAAAxB,MAAQ,gB,aAEnDK,EAAAA,EAAAA,GAgCM,MAhCN+D,EAgCM,CA/BJC,EACAC,GACAjE,EAAAA,EAAAA,GA4BO,QA3BJ0C,QAAKC,EAAA,KAAAA,EAAA,OAAAuB,IAAE/C,EAAAgD,cAAAhD,EAAAgD,gBAAAD,IACRjE,OAAKmE,EAAAA,EAAAA,IAAA,CAAC,4BAA2B,C,mBACclC,EAAAmC,WAAanC,EAAAoC,iB,WAA+CpC,EAAAoC,qB,CAK9FpC,EAAAmC,UAAanC,EAAAoC,iBACTpC,EAAAoC,kBAiBe,iBAjBC,WAAjCnE,EAAAA,EAAAA,IAkBM,MAlBNoE,EAkBM,CAjBOrC,EAAAoC,mBAAgB,WAA3BnE,EAAAA,EAAAA,IAEM,MAFNqE,EAEMC,IACUvC,EAAAmC,UAAYnC,EAAAmC,SAASzF,SAAM,WAA3CuB,EAAAA,EAAAA,IAYM,MAZNuE,EAYM,gBAXJvE,EAAAA,EAAAA,IAUYwE,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARK1C,EAAAmC,UAARjF,K,WAFTyF,EAAAA,EAAAA,IAUYC,EAAA,CATV7E,MAAM,uBAELb,KAAMA,EACN2F,IAAK3F,EAAKS,KACV0C,KAAI,SAAWnD,EAAKwC,MACpBc,QAAKE,IAA0BA,EAAOC,iBAAyC1B,EAAA6D,UAAU5F,EAAKwC,IAAG,G,2DAMtGzB,EAAAA,EAAAA,IAAqC,OAAA8E,EAAxB,2BAlB2B,WAA1C9E,EAAAA,EAAAA,IAAkF,OAAlF+E,EAA8D,mBAkB9B,WAKtCC,GAEM,mBAERhF,EAAAA,EAAAA,IAA6E,MAA7EiF,EAA6E,kBAE/EpF,EAAAA,EAAAA,GA6BM,MA7BNqF,EA6BM,EA5BJrF,EAAAA,EAAAA,GAAgF,UAAxEC,MAAM,4BAA6ByC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAE0C,EAAAC,MAAM,WAAU,SAClEC,GACAxF,EAAAA,EAAAA,GAES,UAFDC,MAAM,8BAA+ByC,QAAKC,EAAA,KAAAA,EAAA,OAAAuB,IAAE/C,EAAAsE,aAAAtE,EAAAsE,eAAAvB,IAAcwB,UAAWxD,EAAAC,OAAO,UAEpF,EAAAwD,GAGQxE,EAAAyE,WAAQ,WAFhBzF,EAAAA,EAAAA,IAOS,U,MANPF,MAAM,6BAELyF,UAAWxD,EAAAC,MACXO,QAAKC,EAAA,KAAAA,EAAA,OAAAuB,IAAE/C,EAAA0E,YAAA1E,EAAA0E,cAAA3B,KACT,SAED,EAAA4B,IAGa3E,EAAA4E,MAAMC,MAAQ9D,EAAAY,YAAS,WAFpC3C,EAAAA,EAAAA,IAcS,U,MAbPF,OAAKmE,EAAAA,EAAAA,IAAA,CAAC,mCAAkC,CAAA6B,aAGhB9E,EAAA+E,YADvBR,UAAWxD,EAAAC,MAEXO,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAkBzB,EAAA+E,SAAyB/E,EAAAgF,aAA+ChF,EAAAiF,a,aAQ7FjF,EAAA+E,SAAW,OAAS,SAAZ,GAAAG,KAAA,kB,6FAsBnB,IAAIC,GAAY,IAAIC,KAAAA,WACpB,QACE1G,KAAM,gBACN2G,MAAO,CAAC,SACRC,OAAQ,CAACC,KACTC,WAAY,CAAEC,SAAQA,GAAAA,GACtBC,OACE,MAAO,CACL/D,UAAW,KACXX,OAAO,EACPmC,kBAAkB,EAClBD,SAAU,KACVhB,UAAW,CACT,CAAC,IAAK,IAAK,IAAK,IAAK,SACrB,CAAC,IAAK,IAAK,IAAK,IAAK,UAG3B,EACA7B,SAAU,CACRuE,QACE,OAAOe,EAAAA,EAAAA,IACT,EACAnH,OACE,OAAO8B,KAAKqB,WAAWhD,aAAewG,GAAUS,SAAStF,KAAKqB,WAAWhD,YAC3E,EACAoG,WACE,OACEzE,KAAKsE,MAAMC,MACXvE,KAAKqB,YAEJrB,KAAKsE,OAAOiB,YAAYC,SAASlH,SAAS0B,KAAKsE,MAAMmB,YAAYzF,KAAKe,OAAOC,OAAOb,KAEzF,EACAgE,WACE,OACEnE,KAAKsE,MAAMoB,YACX1F,KAAKsE,MAAMC,MACXvE,KAAKqB,WACLrB,KAAKe,OAAOC,OAAOb,KACnBH,KAAKe,OAAOC,OAAOb,IAAIwF,MAAM,KAAK,IAChC3F,KAAKsE,MAAMiB,WAAWK,MAAMC,QAAQ7F,KAAKsE,MAAMwB,WAAY,GAEjE,GAEFC,UACE/F,KAAKgG,cAAc,CACjBC,GAAIjG,KAAKkG,MAAMC,SACfC,cAAc,EACdC,kBAAkB,IAEpBrG,KAAKgG,cAAc,CACjBC,GAAIjG,KAAKkG,MAAMnH,MACfqH,cAAc,IAEhBpG,KAAKsG,WACP,EACAC,QAAS,CAEPC,oBACE,IAAIC,EAAM,IAAIC,IAAI,yBAA2B1G,KAAKe,OAAOC,OAAOb,KAC5DwG,UAAUC,MACZD,UACGC,MAAM,CACL7H,MAAOiB,KAAKqB,UAAUjD,KACtBF,KAAO,aAAY8B,KAAKqB,UAAUjD,MAAQ,wBAC1CqI,IAAKA,EAAI3F,OAEV+F,MAAK,IAAM,IAAIC,EAAAA,GAAa,sBAAuB,OACnDC,OAAOC,GAAQC,EAAAA,GAAQC,MAAM,mBAAoBF,KAC3CL,UAAUQ,WACnBR,UAAUQ,UAAUC,UAAUX,EAAI3F,MAClC,IAAIuG,EAAAA,GAAa,kDAAmD,MAEpE,IAAIA,EAAAA,GAAa,2CAA4C,IAEjE,EACAjD,aACEpE,KAAKsH,QAAQC,KAAK,CAChBnJ,KAAM,YACN4C,OAAQ,CACNb,IAAKH,KAAKe,QAAQC,QAAQb,KAE5BqH,MAAOxH,KAAKe,OAAOyG,OAEvB,EACA9C,aACE1E,KAAKsH,QAAQC,KAAK,CAChBnJ,KAAM,WACN4C,OAAQ,CACNb,IAAKH,KAAKe,QAAQC,QAAQb,KAE5BqH,MAAOxH,KAAKe,OAAOyG,OAEvB,EACA7C,cACE3E,KAAKsH,QAAQC,KAAK,CAChBnJ,KAAM,QACN4C,OAAQ,CACNb,IAAKH,KAAKe,QAAQC,QAAQb,KAE5BqH,MAAOxH,KAAKe,OAAOyG,OAEvB,EACAhB,qBACuB,MAAjBxG,KAAK4C,WAGT5C,KAAK6C,kBAAmB,EACxB7C,KAAKsE,MACFmD,kBAAkBzH,KAAKe,OAAOC,OAAOb,IAAIwF,MAAM,KAAK9D,KAAK,KAAM7B,KAAKqB,WACpEwF,MAAMjE,IACL5C,KAAK4C,SAAWA,EAChB5C,KAAK6C,kBAAmB,CAAK,IAE9BkE,OAAOC,IACN,IAAIK,EAAAA,GAAa,8BAA+B,KAChDJ,EAAAA,GAAQC,MAAM,gCAAiCF,GAC/ChH,KAAK6C,kBAAmB,CAAK,IAEnC,EACA2D,kBAEE,IAAKxG,KAAKe,OAAOC,OAAOb,IAGtB,OAFA,IAAIkH,EAAAA,GAAa,qBAAsB,WACvCrH,KAAK8D,MAAM,SAGb,MAAM3D,EAAMH,KAAKe,OAAOC,OAAOb,IAAIwF,MAAM,KAAK9D,KAAK,KACnD,OAAK1B,EAI+B,GAAzBA,EAAIwF,MAAM,KAAKxI,QACxB,IAAIkK,EAAAA,GAAa,0BAA2B,WAC5CrH,KAAK8D,MAAM,eAIb9D,KAAKsE,MACFoD,eAAevH,GACf0G,MAAMxF,IACAA,GAIHrB,KAAKqB,UAAYA,EACjBrB,KAAKU,OAAQ,IAJb,IAAI2G,EAAAA,GAAa,2BAA4B,KAC7CrH,KAAK8D,MAAM,SAIb,IAEDiD,OAAOC,IACN,IAAIW,EAAAA,GAAW,sBAAuBX,EAAK,MAC3CC,EAAAA,GAAQC,MAAM,wBAAyBF,GACvChH,KAAK8D,MAAM,QAAQ,KAvBrB,IAAIuD,EAAAA,GAAa,qBAAsB,WACvCrH,KAAK8D,MAAM,SAwBf,EACAP,UAAUpD,GACRH,KAAKsH,QAAQC,KAAK,CAChBnJ,KAAM,WACN4C,OAAQ,CACNb,IAAKA,GAEPqH,MAAOxH,KAAKe,OAAOyG,OAEvB,I,SC/RJ,MAAMvH,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://mvtime/./src/store/magic.js","webpack://mvtime/./src/components/Portal/ExamCard.vue","webpack://mvtime/./src/components/Portal/ExamCard.vue?b3ef","webpack://mvtime/./src/views/Portal/ViewClass.vue","webpack://mvtime/./src/views/Portal/ViewClass.vue?81e5"],"sourcesContent":["// Path: store/magic.js\r\n\r\n// setup Pinia store\r\n// import { _status } from \"@/common\";\r\nimport { defineStore } from \"pinia\";\r\n\r\n// Smart URL\r\nconst smart_maps = [\r\n  // regex pattern, smart text\r\n  // Canvas\r\n  [/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses\\/[0-9]+\\/modules*./, \"Canvas Course Modules\"],\r\n  [\r\n    /https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses\\/[0-9]+\\/assignments\\/[0-9]+/,\r\n    \"Canvas Assignment\",\r\n  ],\r\n  [/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses\\/[0-9]+/, \"Canvas Course\"],\r\n  [/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses/, \"Canvas Home\"],\r\n  [/https:\\/\\/[a-zA-Z0-9]+.instructure.com/, \"Canvas\"],\r\n  // G Classroom\r\n  [/https:\\/\\/classroom.google.com\\/c\\/[a-zA-Z0-9]+\\/a\\/.+/, \"Google Classroom Assignment\"],\r\n  [/https:\\/\\/classroom.google.com\\/c\\/[a-zA-Z0-9]+\\/p\\/.+/, \"Google Classroom Post\"],\r\n  [/https:\\/\\/classroom.google.com\\/c\\/[a-zA-Z0-9]+/, \"Google Classroom Class\"],\r\n  [/https:\\/\\/classroom.google.com\\/h/, \"Google Classroom Home\"],\r\n  [/https:\\/\\/classroom.google.com\\/u\\/[0-9]+/, \"Google Classroom Home\"],\r\n  // G Drive\r\n  [/https:\\/\\/drive.google.com\\/file\\/d\\/.+/, \"Google Drive File\"],\r\n  [/https:\\/\\/drive.google.com\\/drawings\\/d\\/.+/, \"Google Drawing\"],\r\n  [/https:\\/\\/docs.google.com\\/document\\/d\\/.+/, \"Google Docs File\"],\r\n  [/https:\\/\\/docs.google.com\\/spreadsheets\\/d\\/.+/, \"Google Sheet\"],\r\n  // LON-CAPA\r\n  [/https:\\/\\/[a-zA-Z0-9]+.lon-capa.net.*/, \"LON-CAPA Portal\"],\r\n  [/https:\\/\\/lon-capa.net.*/, \"LON-CAPA Portal\"],\r\n  [/https:\\/\\/[a-zA-Z0-9]+.loncapa.net.*/, \"LON-CAPA Portal\"],\r\n  [/https:\\/\\/loncapa.net.*/, \"LON-CAPA Portal\"],\r\n];\r\nfunction smart_url(path) {\r\n  if (!path) return;\r\n  path = path.toLowerCase();\r\n  for (let i = 0; i < smart_maps.length; i++) {\r\n    if (path.match(smart_maps[i][0])) return smart_maps[i][1];\r\n  }\r\n}\r\n\r\nexport const useMagic = defineStore({\r\n  id: \"magic\",\r\n  state: () => ({\r\n    types: {\r\n      note: \"Note\",\r\n      task: \"Assignment\",\r\n      // socratic: \"Socratic Seminar\",\r\n      test: \"Test\",\r\n      // summative: \"Summative Assignment\",\r\n      // midterm: \"Midterm\",\r\n      project: \"Project\",\r\n      quiz: \"Quiz\",\r\n      exam: \"Exam\",\r\n    },\r\n  }),\r\n  getters: {},\r\n  actions: {\r\n    /**\r\n     * @function path\r\n     * @description get the smart text associated with a given url\r\n     * @param {String} path\r\n     * @returns {String} text - the smart text associated with the url\r\n     */\r\n    text(path) {\r\n      return smart_url(path) || null;\r\n    },\r\n    /**\r\n     * @function type\r\n     * @description get the smart type associated with a given description\r\n     * @param {String} text\r\n     */\r\n    type(task) {\r\n      const note = task.type == \"note\";\r\n      const name = ((note ? task.description : task.name) || \"\").toLowerCase();\r\n      if (\r\n        (name.includes(\"summative\") && !name.includes(\"assignment\")) ||\r\n        name.includes(\"formative\") ||\r\n        (name.includes(\"unit\") && name.includes(\"test\"))\r\n      ) {\r\n        return \"test\";\r\n      }\r\n      if (name.includes(\"project\")) return \"project\";\r\n      if (name.includes(\"quiz\")) return \"quiz\";\r\n      if (name.includes(\"exam\") || name.includes(\"midterm\") || name.includes(\"final\"))\r\n        return \"exam\";\r\n      if (name.length >= 100 || (!name && task.description && task.description.length >= 60))\r\n        return \"note\";\r\n      if ((name.length >= 10 && name.length < 50 && note) || name.includes(\"assignment\"))\r\n        return \"task\";\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <a class=\"task_card\" :style=\"{ '--color-calendar-task': task.color }\">\r\n    <div class=\"task_card_icon\" :title=\"task.class_name\">\r\n      <div class=\"task_card_icon_container\">\r\n        <div class=\"task_card_icon_container__img\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"task_card_details\">\r\n      <div class=\"task_card_details__title\">{{ task.name }}</div>\r\n      <div class=\"task_card_details__extended\">\r\n        <span class=\"task_card_details__extended__date\">{{\r\n          task.date.toLocaleDateString(undefined, {\r\n            weekday: \"long\",\r\n            month: \"long\",\r\n            day: \"numeric\",\r\n          })\r\n        }}</span>\r\n        &nbsp;|&nbsp;\r\n        <span class=\"task_card_details__extended__type\">{{ type_full }}</span>\r\n      </div>\r\n    </div>\r\n  </a>\r\n</template>\r\n\r\n<script>\r\nimport { useMagic } from \"@/store/magic\";\r\nexport default {\r\n  name: \"ExamCard\",\r\n  props: {\r\n    task: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    type_full() {\r\n      return useMagic().types[this.task.type];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.task_card {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: stretch;\r\n  align-items: stretch;\r\n  height: var(--height-task-card);\r\n  margin: 10px 0;\r\n  color: inherit !important;\r\n}\r\n.task_card,\r\n.task_card * {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.task_card_icon {\r\n  height: 100%;\r\n  width: var(--height-task-card);\r\n  border-radius: 30%;\r\n  border: solid 2px var(--color-calendar-task);\r\n  box-sizing: border-box;\r\n  filter: var(--filter-calendar-task);\r\n  overflow: hidden;\r\n  flex-shrink: 0;\r\n  /* box-shadow: 0px 4px 4px var(--color-calendar-task); */\r\n  /* box-shadow: 0px 0px 4px var(--color-calendar-task); */\r\n}\r\n.task_card_icon_container {\r\n  height: 100%;\r\n  width: 100%;\r\n  filter: var(--filter-task-card-icon);\r\n  background-color: var(--color-task-card-icon);\r\n}\r\n.task_card_icon_container__img {\r\n  background-image: url(@/assets/img/general/portal/exam/test-icon.png);\r\n  background-image: url(@/assets/img/general/portal/exam/test-icon.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: center center;\r\n  padding: var(--padding-task-card-icon);\r\n  filter: var(--filter-icon);\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.task_card_details {\r\n  padding-left: 20px;\r\n  flex-grow: 1;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  justify-content: space-evenly;\r\n}\r\n/* details */\r\n.task_card_details > * {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: 100%;\r\n  text-overflow: ellipsis;\r\n}\r\n.task_card_details__title {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n.task_card_details__extended {\r\n  opacity: 0.5;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n}\r\n.task_card_details__extended__date {\r\n  flex: auto 0 1;\r\n}\r\n.task_card_details__extended__type {\r\n  flex: 0px 1 1;\r\n}\r\n</style>\r\n","import { render } from \"./ExamCard.vue?vue&type=template&id=4171f24f\"\nimport script from \"./ExamCard.vue?vue&type=script&lang=js\"\nexport * from \"./ExamCard.vue?vue&type=script&lang=js\"\n\nimport \"./ExamCard.vue?vue&type=style&index=0&id=4171f24f&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <main class=\"viewclass\">\r\n    <header class=\"modal_header\" ref=\"title\">\r\n      <h2 class=\"header_style modal_header_title\">View class details</h2>\r\n    </header>\r\n    <div ref=\"contents\" class=\"overlay_contents\">\r\n      <div v-if=\"ready\" ref=\"text_contents\">\r\n        <div class=\"spaced_contents\">\r\n          <div class=\"styled_obj\">\r\n            <span class=\"styled_line__label\">Class:</span>\r\n            <span class=\"styled_line__separator\"></span>\r\n            <span class=\"styled_line__value\">\r\n              <a\r\n                class=\"class_name button_pointer_text\"\r\n                :href=\"`/view/${this.$route.params.ref}`\"\r\n                @click=\"$event.preventDefault()\"\r\n                :style=\"{\r\n                  '--color-class': class_obj.color,\r\n                  '--color-class-alt': class_obj.color + '2d',\r\n                }\"\r\n                >P{{ class_obj.period }} - {{ class_obj.name }}</a\r\n              >\r\n            </span>\r\n          </div>\r\n          <div class=\"styled_obj\">\r\n            <span class=\"styled_line__label\">Period:</span>\r\n            <span class=\"styled_line__separator\"></span>\r\n            <span class=\"styled_line__value\">\r\n              {{ class_obj.period }} (Schedules\r\n              {{ schedules[class_obj.period % 2].join(\", \") }})</span\r\n            >\r\n          </div>\r\n          <div class=\"styled_obj\">\r\n            <span class=\"styled_line__label\">Name:</span>\r\n            <span class=\"styled_line__separator\"></span>\r\n            <span class=\"styled_line__value\"> {{ class_obj.name }}</span>\r\n          </div>\r\n          <div class=\"styled_obj\">\r\n            <span class=\"styled_line__label\">Description:</span>\r\n            <span class=\"styled_line__separator\"></span>\r\n            <span class=\"styled_line__value\" v-html=\"text || 'Not Provided'\"> </span>\r\n          </div>\r\n          <div class=\"styled_obj upcoming_section\" ref=\"upcoming\">\r\n            <span class=\"styled_line__label\">Upcoming:</span>\r\n            <span class=\"styled_line__separator\"></span>\r\n            <span\r\n              @click=\"get_upcoming\"\r\n              class=\"styled_line__value alt_bg\"\r\n              :class=\"{\r\n                loading_clickable: !upcoming && !loading_upcoming,\r\n                loading_bg: loading_upcoming,\r\n              }\"\r\n            >\r\n              <span v-if=\"!upcoming && !loading_upcoming\" class=\"load_text\">Click to Load</span>\r\n              <div v-else-if=\"!loading_upcoming\" class=\"upcoming_tasks_container\">\r\n                <div v-if=\"loading_upcoming\" class=\"upcoming_tasks_loading\">\r\n                  <img alt=\"Loading Icon\" class=\"loading_icon\" src=\"/assets/loading.svg\" />\r\n                </div>\r\n                <div v-else-if=\"upcoming && upcoming.length\" class=\"upcoming_tasks\">\r\n                  <ExamCard\r\n                    class=\"upcoming_tasks__task\"\r\n                    v-for=\"task in upcoming\"\r\n                    :task=\"task\"\r\n                    :key=\"task.name\"\r\n                    :href=\"`/view/${task.ref}`\"\r\n                    @click=\"\r\n                      $event.preventDefault();\r\n                      show_task(task.ref);\r\n                    \"\r\n                  ></ExamCard>\r\n                </div>\r\n                <span v-else>No Upcoming Tasks</span>\r\n              </div>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"overlay_contents_text\">\r\n          Information is provided by teachers and volunteer students, and may not always be correct\r\n        </div>\r\n      </div>\r\n      <img ref=\"loading_contents\" alt=\"Loading Icon\" class=\"loading_icon\" v-else />\r\n    </div>\r\n    <div class=\"bottom_actions\">\r\n      <button class=\"close_action click_escape\" @click=\"$emit('close')\">Close</button>\r\n      <div class=\"flex_spacer\"></div>\r\n      <button class=\"share_action primary_styled\" @click=\"share_class\" :disabled=\"!ready\">\r\n        Share\r\n      </button>\r\n      <button\r\n        class=\"edit_action primary_styled\"\r\n        v-if=\"editable\"\r\n        :disabled=\"!ready\"\r\n        @click=\"edit_class\"\r\n      >\r\n        Edit\r\n      </button>\r\n      <button\r\n        class=\"join_leave_action primary_styled\"\r\n        v-else-if=\"store.user && class_obj\"\r\n        :disabled=\"!ready\"\r\n        :class=\"{ click_escape: joinable }\"\r\n        @click=\"\r\n          if (joinable) {\r\n            join_class();\r\n          } else {\r\n            leave_class();\r\n          }\r\n        \"\r\n      >\r\n        {{ joinable ? \"Join\" : \"Leave\" }}\r\n      </button>\r\n    </div>\r\n  </main>\r\n</template>\r\n<script>\r\n/**\r\n * Displays the details of a class and allows the teacher to edit it, or any user to share it\r\n *\r\n * @module ViewClassView\r\n * @description Modal that displays the details of a class and allows the teacher to edit it.\r\n * @requires module:store/MainStore\r\n * @emits {Function} close - An event emitted when the modal is closed.\r\n */\r\n\r\nimport { WarningToast, ErrorToast, SuccessToast } from \"@svonk/util\";\r\nimport { _status } from \"@/common\";\r\nimport { useMainStore } from \"@/store\";\r\nimport smoothReflow from \"vue-smooth-reflow\";\r\nimport showdown from \"showdown\";\r\nimport \"@/assets/style/markdown.css\";\r\nimport ExamCard from \"@/components/Portal/ExamCard.vue\";\r\nlet converter = new showdown.Converter();\r\nexport default {\r\n  name: \"ViewClassView\",\r\n  emits: [\"close\"],\r\n  mixins: [smoothReflow],\r\n  components: { ExamCard },\r\n  data() {\r\n    return {\r\n      class_obj: null,\r\n      ready: false,\r\n      loading_upcoming: false,\r\n      upcoming: null,\r\n      schedules: [\r\n        [\"A\", \"G\", \"C\", \"D\", \"and H\"],\r\n        [\"A\", \"G\", \"B\", \"E\", \"and I\"],\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    text() {\r\n      return this.class_obj?.description && converter.makeHtml(this.class_obj?.description);\r\n    },\r\n    joinable() {\r\n      return (\r\n        this.store.user &&\r\n        this.class_obj &&\r\n        // and not already joined\r\n        !this.store?.active_doc?.classes?.includes(this.store.ref_to_path(this.$route.params.ref))\r\n      );\r\n    },\r\n    editable() {\r\n      return (\r\n        this.store.is_teacher &&\r\n        this.store.user &&\r\n        this.class_obj &&\r\n        this.$route.params.ref &&\r\n        this.$route.params.ref.split(\"~\")[0] ==\r\n          this.store.active_doc.email.replace(this.store.ORG_DOMAIN, \"\")\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$smoothReflow({\r\n      el: this.$refs.contents,\r\n      hideOverflow: false,\r\n      childTransitions: false,\r\n    });\r\n    this.$smoothReflow({\r\n      el: this.$refs.title,\r\n      hideOverflow: true,\r\n    });\r\n    this.get_class();\r\n  },\r\n  methods: {\r\n    /** Shares the class link with the native share function, or to the clipboard if sharing is not supported */\r\n    async share_class() {\r\n      let url = new URL(\"https://view.mvtt.app/\" + this.$route.params.ref);\r\n      if (navigator.share) {\r\n        navigator\r\n          .share({\r\n            title: this.class_obj.name,\r\n            text: `Check out ${this.class_obj.name || \"this class\"} on MVTT!`,\r\n            url: url.href,\r\n          })\r\n          .then(() => new SuccessToast(\"Opened share dialog\", 1000))\r\n          .catch((err) => _status.error(\"🔥 Error sharing\", err));\r\n      } else if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(url.href);\r\n        new WarningToast(\"Sharing not supported, copied link to clipboard\", 2000);\r\n      } else {\r\n        new WarningToast(\"Sharing and copying not supported, sorry\", 2000);\r\n      }\r\n    },\r\n    edit_class() {\r\n      this.$router.push({\r\n        name: \"editclass\",\r\n        params: {\r\n          ref: this.$route?.params?.ref,\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n    join_class() {\r\n      this.$router.push({\r\n        name: \"refclass\",\r\n        params: {\r\n          ref: this.$route?.params?.ref,\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n    leave_class() {\r\n      this.$router.push({\r\n        name: \"leave\",\r\n        params: {\r\n          ref: this.$route?.params?.ref,\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n    async get_upcoming() {\r\n      if (this.upcoming != null) {\r\n        return;\r\n      }\r\n      this.loading_upcoming = true;\r\n      this.store\r\n        .upcoming_from_ref(this.$route.params.ref.split(\"~\").join(\"/\"), this.class_obj)\r\n        .then((upcoming) => {\r\n          this.upcoming = upcoming;\r\n          this.loading_upcoming = false;\r\n        })\r\n        .catch((err) => {\r\n          new WarningToast(\"Couldn't get upcoming tasks\", 2000);\r\n          _status.error(\"⚠ Couldn't get upcoming tasks\", err);\r\n          this.loading_upcoming = false;\r\n        });\r\n    },\r\n    async get_class() {\r\n      // get class ref from route params\r\n      if (!this.$route.params.ref) {\r\n        new WarningToast(\"No class specified\", 1500);\r\n        this.$emit(\"close\");\r\n        return;\r\n      }\r\n      const ref = this.$route.params.ref.split(\"~\").join(\"/\");\r\n      if (!ref) {\r\n        new WarningToast(\"No class specified\", 1500);\r\n        this.$emit(\"close\");\r\n        return;\r\n      } else if (ref.split(\"/\").length != 2) {\r\n        new WarningToast(\"Invalid class specified\", 1500);\r\n        this.$emit(\"close\");\r\n        return;\r\n      }\r\n      // get class from store\r\n      this.store\r\n        .class_from_ref(ref)\r\n        .then((class_obj) => {\r\n          if (!class_obj) {\r\n            new WarningToast(\"Couldn't find that class\", 2000);\r\n            this.$emit(\"close\");\r\n          } else {\r\n            this.class_obj = class_obj;\r\n            this.ready = true;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          new ErrorToast(\"Error getting class\", err, 1500);\r\n          _status.error(\"⚠ Error getting class\", err);\r\n          this.$emit(\"close\");\r\n        });\r\n    },\r\n    show_task(ref) {\r\n      this.$router.push({\r\n        name: \"viewtask\",\r\n        params: {\r\n          ref: ref,\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.spaced_contents {\r\n  margin-top: 0;\r\n}\r\n.loading_icon {\r\n  max-height: 150px;\r\n  min-width: 100%;\r\n}\r\n.class_name {\r\n  line-height: 1em;\r\n  cursor: default;\r\n}\r\n.upcoming_tasks {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: calc(var(--padding-overlay-input) / 1.5);\r\n}\r\n.upcoming_tasks__task {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  margin: 0;\r\n}\r\n/* style upcoming */\r\n.upcoming_section .loading_clickable {\r\n  cursor: pointer;\r\n  text-align: center;\r\n  user-select: none;\r\n  transition: letter-spacing 0.15s ease-out;\r\n}\r\n.upcoming_section .loading_clickable:hover {\r\n  letter-spacing: 0.04em;\r\n}\r\n.upcoming_section .loading_bg {\r\n  height: calc(50px + 2 * var(--padding-overlay-input));\r\n}\r\n.upcoming_section {\r\n  padding: 0;\r\n}\r\n.upcoming_section > .styled_line__label,\r\n.upcoming_section > .styled_line__value {\r\n  padding: calc((var(--height-overlay-input) - 18px) / 2) var(--padding-overlay-input);\r\n  display: block;\r\n  box-sizing: content-box;\r\n}\r\n.upcoming_section > .styled_line__label {\r\n  padding-right: 0;\r\n}\r\n.upcoming_section > .styled_line__value {\r\n  width: 0;\r\n  flex-grow: 1;\r\n  padding-left: 0;\r\n}\r\n.upcoming_section > .styled_line__separator {\r\n  height: calc(100% - (var(--height-overlay-input) - 18px) + 5px);\r\n}\r\n</style>\r\n","import { render } from \"./ViewClass.vue?vue&type=template&id=35c20131&scoped=true\"\nimport script from \"./ViewClass.vue?vue&type=script&lang=js\"\nexport * from \"./ViewClass.vue?vue&type=script&lang=js\"\n\nimport \"./ViewClass.vue?vue&type=style&index=0&id=35c20131&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35c20131\"]])\n\nexport default __exports__"],"names":["smart_maps","smart_url","path","toLowerCase","i","length","match","useMagic","defineStore","id","state","types","note","task","test","project","quiz","exam","getters","actions","text","type","name","description","includes","_createElementVNode","class","_hoisted_2","_createElementBlock","style","_normalizeStyle","$props","color","title","class_name","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","date","toLocaleDateString","undefined","_hoisted_8","$options","type_full","props","Object","required","computed","this","__exports__","render","ref","_hoisted_3","alt","src","_hoisted_31","_hoisted_1","$data","ready","_hoisted_9","_hoisted_10","_hoisted_11","href","$route","params","onClick","_cache","$event","preventDefault","class_obj","period","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","schedules","join","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","innerHTML","_hoisted_25","_hoisted_26","_hoisted_27","args","get_upcoming","_normalizeClass","upcoming","loading_upcoming","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_33","_Fragment","_renderList","_createBlock","_component_ExamCard","key","show_task","_hoisted_34","_hoisted_28","_hoisted_35","_hoisted_36","_hoisted_37","_ctx","$emit","_hoisted_38","share_class","disabled","_hoisted_39","editable","edit_class","_hoisted_40","store","user","click_escape","joinable","join_class","leave_class","_hoisted_41","converter","showdown","emits","mixins","smoothReflow","components","ExamCard","data","useMainStore","makeHtml","active_doc","classes","ref_to_path","is_teacher","split","email","replace","ORG_DOMAIN","mounted","$smoothReflow","el","$refs","contents","hideOverflow","childTransitions","get_class","methods","async","url","URL","navigator","share","then","SuccessToast","catch","err","_status","error","clipboard","writeText","WarningToast","$router","push","query","upcoming_from_ref","class_from_ref","ErrorToast"],"sourceRoot":""}