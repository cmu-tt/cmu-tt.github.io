"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[402],{7402:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var a=s(3396),l=s(7139),n=s(9242);const i=e=>((0,a.dD)("data-v-02b67b28"),e=e(),(0,a.Cn)(),e),d={class:"create_task"},c={class:"modal_header"},_={class:"header_style modal_header_title"},o={class:"overlay_contents"},k={class:"overlay_contents_text"},r={class:"inputs_row"},p=["placeholder"],u=i((()=>(0,a._)("div",{class:"flex-break"},null,-1))),h=["placeholder"],y=i((()=>(0,a._)("div",{class:"flex-break"},null,-1))),w={class:"styled_input styled_links_box"},m={class:"styled_links_display"},v={key:0,class:"placeholder"},b={key:1,class:"styled_line_links"},x=["href"],f=i((()=>(0,a._)("hr",{class:"styled_links_separator"},null,-1))),g={class:"styled_links_add"},z=["disabled"],C={class:"overlay_contents_text"},D={class:"checkboxes"},U=["id","value"],V=["for"],A=["for"],L={class:"bottom_actions"},$=i((()=>(0,a._)("div",{class:"flex_spacer"},null,-1))),T=["disabled"];function j(e,t,s,i,j,E){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("header",c,[(0,a._)("h2",_,"Add a "+(0,l.zw)(E.type_full),1)]),(0,a._)("div",o,[(0,a._)("div",k," Schedule a new "+(0,l.zw)(j.task.type)+" for your class"+(0,l.zw)(E.classes&&1==E.classes.length?"":"es"),1),(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>j.task.name=e),class:"styled_input",type:"text",placeholder:E.type_full+" Name"},null,8,p),[[n.nr,j.task.name]]),(0,a.wy)((0,a._)("input",{type:"date",class:"styled_input input_task__date","onUpdate:modelValue":t[1]||(t[1]=e=>j.task.date=e)},null,512),[[n.nr,j.task.date]]),u,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>j.task.description=e),class:"styled_input styled_textarea task_description",type:"text",placeholder:E.type_full+" Description (Optional)"},"\r\n        ",8,h),[[n.nr,j.task.description]]),y,(0,a._)("div",w,[(0,a._)("div",m,[j.task.links&&j.task.links.length?((0,a.wg)(),(0,a.iD)("div",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.task.links,(e=>((0,a.wg)(),(0,a.iD)("a",{class:"styled_line_links__link",target:"_blank",href:e.path,key:e.path},(0,l.zw)(e.text),9,x)))),128))])):((0,a.wg)(),(0,a.iD)("span",v,(0,l.zw)(E.type_full)+" Links (Optional)",1))]),f,(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{class:"styled_links_add__path",type:"url","onUpdate:modelValue":t[3]||(t[3]=e=>j.newlink.path=e),placeholder:"Link URL (http://example.com)"},null,512),[[n.nr,j.newlink.path]]),(0,a.wy)((0,a._)("input",{class:"styled_links_add__text",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>j.newlink.text=e),placeholder:"Link Text (what students see)"},null,512),[[n.nr,j.newlink.text]]),(0,a._)("button",{class:"styled_links_add__action",onClick:t[5]||(t[5]=(...e)=>E.add_newlink&&E.add_newlink(...e)),disabled:E.newlink_ready}," Add ",8,z)])])]),(0,a._)("div",C," Choose which classes this "+(0,l.zw)(j.task.type)+" will be added to ",1),(0,a._)("div",D,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.classes,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"checkbox",key:e.id},[(0,a.wy)((0,a._)("input",{type:"checkbox",id:e.id,value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>j.task_classes=e)},null,8,U),[[n.e8,j.task_classes]]),e.period?((0,a.wg)(),(0,a.iD)("label",{key:0,for:e.id}," P"+(0,l.zw)(e.period)+" - "+(0,l.zw)(e.name),9,V)):((0,a.wg)(),(0,a.iD)("label",{key:1,for:e.id},(0,l.zw)(e.name),9,A))])))),128))])]),(0,a._)("div",L,[(0,a._)("button",{class:"close_action",onClick:t[7]||(t[7]=t=>e.$emit("close"))},"Close"),$,(0,a._)("button",{class:(0,l.C_)(["continue_action",{loading_bg:j.loading}]),onClick:t[8]||(t[8]=(...e)=>E.create_task&&E.create_task(...e)),disabled:!j.task.name||!j.task.date||!j.task_classes.length}," Add "+(0,l.zw)(j.task.type),11,T)])])}s(7658);var E=s(8980),H=s(2745),K={name:"CreateTaskView",emits:["close"],data(){return{task:{name:"",date:"",description:"",type:this.$route.params.tasktype?this.$route.params.tasktype:"task"},task_classes:[],newlink:{text:"",path:""},loading:!1}},computed:{type_full(){return{note:"Note",task:"Assignment",test:"Test",project:"Project",quiz:"Quiz",exam:"Exam"}[this.task.type]},newlink_ready(){return!this.newlink.path||!this.newlink.text||!this.newlink.path.startsWith("http")},class_name(){if(!this.classes)return null;let e=this.classes.find((e=>e.id===this.class_id));return e?e.name:null},store(){return(0,E.h)()},classes(){return this.store.classes}},methods:{add_newlink(){this.task.links||(this.task.links=[]),this.task.links.push(this.newlink),this.newlink={text:"",path:""}},create_task(){this.loading=!0,this.store.create_task(this.task,this.task_classes).then((()=>{this.$emit("close")})).catch((e=>{this.loading=!1,(0,H.E)("ðŸ“ƒ Couldn't create task",e)}))}}},N=s(89);const O=(0,N.Z)(K,[["render",j],["__scopeId","data-v-02b67b28"]]);var P=O}}]);
//# sourceMappingURL=402.42cea2cf.js.map