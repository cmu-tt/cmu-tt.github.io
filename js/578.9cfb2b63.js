"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[578],{5578:function(e,a,t){t.r(a),t.d(a,{default:function(){return xa}});t(7658);var s=t(3396),n=t(7139);const i={class:"portal"},l={class:"portal_content__spaced"},c={class:"portal_info"},o={class:"portal_info_title"},r={class:"portal_info_usertype"},d={class:"portal_info_date"},_={class:"portal_info_welcome"},u={key:0,class:"overlay_center_view"},m=["closable"];function h(e,a,t,h,p,v){const k=(0,s.up)("LeftBar"),g=(0,s.up)("CalendarBlock"),y=(0,s.up)("RightBar"),w=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("main",i,[(0,s.Wm)(k,{ref:"LeftBar",onSet_class:v.set_class,onClose_right_bar:v.close_right_bar},null,8,["onSet_class","onClose_right_bar"]),(0,s._)("div",{class:"portal_content",onClick:a[1]||(a[1]=e=>{v.close_right_bar(),v.close_left_bar()})},[(0,s._)("div",l,[(0,s._)("header",c,[(0,s._)("div",o,[(0,s._)("span",r,(0,n.zw)(v.store.is_teacher?"Teacher":"Student")+" Dashboard",1),(0,s._)("span",d,(0,n.zw)((new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)]),(0,s._)("div",_,"Welcome Back "+(0,n.zw)(v.name),1)]),(0,s.Wm)(g,{displayed_class:p.displayed_class,onTaskclick:a[0]||(a[0]=e=>v.show_task(e))},null,8,["displayed_class"])])]),(0,s.Wm)(y,{ref:"RightBar",onClose_left_bar:v.close_left_bar},null,8,["onClose_left_bar"]),"portal"!==e.$route.name?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",{class:"overlay_close",onClick:a[2]||(a[2]=a=>v.can_close?e.$router.push("/portal"):null),closable:v.can_close},null,8,m),(0,s.Wm)(w,{class:"router_center_view"})])):(0,s.kq)("",!0)])}const p=e=>((0,s.dD)("data-v-87374804"),e=e(),(0,s.Cn)(),e),v={class:"sidebar_overflow"},k=p((()=>(0,s._)("div",{class:"branding-title gohome"},"MV Test Tracker",-1))),g=p((()=>(0,s._)("div",{class:"flex_spacer"},null,-1))),y=p((()=>(0,s._)("div",{class:"flex_spacer"},null,-1))),w=["_theme"],b=p((()=>(0,s._)("div",{class:"theme_icon"},null,-1))),f=p((()=>(0,s._)("div",{class:"toggle_text"},"Switch Theme",-1))),D=[b,f];function C(e,a,t,i,l,c){const o=(0,s.up)("ActionsPanel"),r=(0,s.up)("ClassList"),d=(0,s.up)("SidebarToggle");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["left-bar portal_sidebar",{active:l.sidebar_open}]),onClick:a[1]||(a[1]=(...e)=>c.show_if_inactive&&c.show_if_inactive(...e))},[(0,s._)("div",v,[k,g,c.store&&c.store.is_teacher?((0,s.wg)(),(0,s.j4)(o,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(r,{onSet_class:c.set_class},null,8,["onSet_class"]),y]),(0,s._)("button",{_theme:c.store.theme,class:"theme_button click-action",title:"Switch Theme",onClick:a[0]||(a[0]=(...e)=>c.store.toggle_theme&&c.store.toggle_theme(...e))},D,8,w),(0,s.Wm)(d,{class:"right",onClick:c.close_sidebar},null,8,["onClick"])],2)}const S=e=>((0,s.dD)("data-v-2e4cb15c"),e=e(),(0,s.Cn)(),e),T={class:"sidebar_toggle click-action",title:"Close Sidebar"},x=S((()=>(0,s._)("div",{class:"arrow-icon"},null,-1))),L=[x];function $(e,a,t,n,i,l){return(0,s.wg)(),(0,s.iD)("button",T,L)}var M={name:"SidebarToggle"},z=t(89);const B=(0,z.Z)(M,[["render",$],["__scopeId","data-v-2e4cb15c"]]);var N=B;const j=e=>((0,s.dD)("data-v-7406f2fe"),e=e(),(0,s.Cn)(),e),U={class:"class_list"},W={class:"class_list__not_empty"},Z=j((()=>(0,s._)("hr",{class:"class_list_hr"},null,-1))),q={class:"classes_container"},I=["onClick"],P=j((()=>(0,s._)("div",{class:"class_swatch__icon"},null,-1))),E=[P],R=["onClick"],Y={key:1,class:"class_name"},A=j((()=>(0,s._)("div",{class:"class_swatch"},[(0,s._)("div",{class:"class_swatch__add_icon"})],-1))),O=j((()=>(0,s._)("span",{class:"class_name"},"Join a Class",-1))),H=[A,O];function K(e,a,t,i,l,c){return(0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",W,[(0,s._)("h5",{onClick:a[0]||(a[0]=a=>e.$emit("set_class",null))},"Classes"),Z,(0,s._)("div",q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.classes,(a=>((0,s.wg)(),(0,s.iD)("div",{class:"classes_container_class",key:a.name},[(0,s._)("div",{class:"class_swatch",style:(0,n.j5)({"--color-class":a.color}),title:"Remove Class",onClick:e=>c.store.remove_class(a.id)},E,12,I),a.period?((0,s.wg)(),(0,s.iD)("span",{key:0,onClick:t=>e.$emit("set_class",a.id),class:"class_name"},"P"+(0,n.zw)(a.period)+" - "+(0,n.zw)(a.name),9,R)):((0,s.wg)(),(0,s.iD)("span",Y,(0,n.zw)(a.name),1))])))),128)),c.store.is_teacher?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:"classes_container_class classes_container_class__add_class",onClick:a[1]||(a[1]=a=>e.$router.push("/portal/add"))},H))])])])}var J=t(8980),V={name:"ClassList",computed:{store(){return(0,J.h)()},classes(){return this.store.classes}},emits:["set_class"]};const F=(0,z.Z)(V,[["render",K],["__scopeId","data-v-7406f2fe"]]);var G=F;const Q={class:"teacher_actions"},X=["onClick"],ee=(0,s._)("div",{class:"teacher_action__icon icon__add"},null,-1),ae={class:"teacher_action__text"},te=(0,s._)("div",{class:"teacher_action__icon icon__create"},null,-1),se=(0,s._)("div",{class:"teacher_action__text"},"Create a Class",-1),ne=[te,se];function ie(e,a,t,i,l,c){return(0,s.wg)(),(0,s.iD)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.test_types,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a[0],class:"teacher_action",onClick:t=>e.$router.push({name:"newtask",params:{tasktype:a[0]}})},[ee,(0,s._)("div",ae,"Schedule a "+(0,n.zw)(a[1]),1)],8,X)))),128)),(0,s._)("div",{class:"teacher_action",onClick:a[0]||(a[0]=a=>e.$router.push("/portal/create"))},ne)])}var le={data(){return{test_types:[["socratic","Socratic Seminar"],["test","Test"],["summative","Summative Assignment"],["midterm","Midterm"],["project","Project"]]}}};const ce=(0,z.Z)(le,[["render",ie]]);var oe=ce,re=t(1708),de={name:"LeftBar",components:{SidebarToggle:N,ClassList:G,ActionsPanel:oe},emits:["close_right_bar","set_class"],data(){return{sidebar_open:!1}},computed:{store(){return(0,J.h)()}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{placeholderToast:re.gy,show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_right_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)},set_class(e){this.$emit("set_class",e)}}};const _e=(0,z.Z)(de,[["render",C],["__scopeId","data-v-87374804"]]);var ue=_e;const me=e=>((0,s.dD)("data-v-f26e2b42"),e=e(),(0,s.Cn)(),e),he={class:"sidebar_overflow"},pe=me((()=>(0,s._)("div",{class:"auth-action can-logout doprompt"},"Log Out",-1))),ve=me((()=>(0,s._)("div",{class:"flex_spacer"},null,-1))),ke=me((()=>(0,s._)("div",{class:"flex_spacer"},null,-1))),ge=me((()=>(0,s._)("div",{class:"info_icon"},null,-1))),ye=[ge];function we(e,a,t,i,l,c){const o=(0,s.up)("UpcomingTests"),r=(0,s.up)("SidebarToggle");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["right-bar portal_sidebar",{active:l.sidebar_open}]),onClick:a[1]||(a[1]=(...e)=>c.show_if_inactive&&c.show_if_inactive(...e))},[(0,s._)("div",he,[pe,ve,(0,s.Wm)(o),ke]),(0,s._)("button",{class:"info_button click-action",title:"About MV Test Tracker",onClick:a[0]||(a[0]=a=>e.$router.push("/about"))},ye),(0,s.Wm)(r,{onClick:c.close_sidebar},null,8,["onClick"])],2)}const be=e=>((0,s.dD)("data-v-40e18018"),e=e(),(0,s.Cn)(),e),fe={class:"upcoming_tasks"},De={key:0,class:"upcoming_tasks__not_empty"},Ce=be((()=>(0,s._)("h5",null,"Upcoming",-1))),Se=be((()=>(0,s._)("hr",{class:"upcoming_tasks_hr"},null,-1))),Te={class:"tasks_container"},xe={key:1,class:"upcoming_tasks__empty"},Le=be((()=>(0,s._)("h5",null,"No Upcoming Tasks!",-1))),$e=[Le];function Me(e,a,t,n,i,l){const c=(0,s.up)("ExamCard");return(0,s.wg)(),(0,s.iD)("div",fe,[l.tasks&&l.tasks.length?((0,s.wg)(),(0,s.iD)("div",De,[Ce,Se,(0,s._)("div",Te,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tasks,(e=>((0,s.wg)(),(0,s.j4)(c,{class:"tasks_container_task",task:e,key:e.name,onClick:a=>l.show_task(e)},null,8,["task","onClick"])))),128))])])):((0,s.wg)(),(0,s.iD)("div",xe,$e))])}const ze=(0,s._)("div",{class:"task_card_icon"},[(0,s._)("div",{class:"task_card_icon_container"},[(0,s._)("div",{class:"task_card_icon_container__img"})])],-1),Be={class:"task_card_details"},Ne={class:"task_card_details__title"},je={class:"task_card_details__extended"},Ue={class:"task_card_details__extended__date"},We={class:"task_card_details__extended__type"};function Ze(e,a,t,i,l,c){return(0,s.wg)(),(0,s.iD)("div",{class:"task_card",style:(0,n.j5)({"--color-calendar-task":t.task.color})},[ze,(0,s._)("div",Be,[(0,s._)("div",Ne,(0,n.zw)(t.task.name),1),(0,s._)("div",je,[(0,s._)("span",Ue,(0,n.zw)(t.task.date.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})),1),(0,s.Uk)(" Â |Â  "),(0,s._)("span",We,(0,n.zw)(c.type_full),1)])])],4)}var qe={name:"ExamCard",props:{task:{type:Object,required:!0}},computed:{type_full(){return{socratic:"Socratic Seminar",test:"Test",summative:"Summative Assignment",midterm:"Midterm",project:"Project",task:"Task"}[this.task.type]}}};const Ie=(0,z.Z)(qe,[["render",Ze]]);var Pe=Ie,Ee={name:"UpcomingTasks",components:{ExamCard:Pe},computed:{store(){return(0,J.h)()},tasks(){return this.store.get_tasks.filter((e=>e.date?.getTime()>=Date.now()&&!e.is_assignment)).sort(((e,a)=>e.date<a.date?-1:e.date>a.date?1:0)).slice(0,4)}},methods:{show_task(e){let a=JSON.stringify({name:e.name,group:e.class_name,date:e.date.toLocaleDateString("en-US").replace("/","-"),description:e.description,links:e.links,type:e.type});this.$router.push({name:e.is_assignment?"assignment":"task",query:{task:a}})}}};const Re=(0,z.Z)(Ee,[["render",Me],["__scopeId","data-v-40e18018"]]);var Ye=Re,Ae={name:"RightBar",components:{SidebarToggle:N,UpcomingTests:Ye},emits:["close_left_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_left_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const Oe=(0,z.Z)(Ae,[["render",we],["__scopeId","data-v-f26e2b42"]]);var He=Oe;const Ke=e=>((0,s.dD)("data-v-7b8ddb98"),e=e(),(0,s.Cn)(),e),Je={class:"calendar"},Ve={class:"calendar_header"},Fe=["title"],Ge={class:"calendar_actions"},Qe=Ke((()=>(0,s._)("div",{class:"action_icon arrow-icon left"},null,-1))),Xe=[Qe],ea=Ke((()=>(0,s._)("div",{class:"action_icon arrow-icon right"},null,-1))),aa=[ea],ta={class:"calendar_days_container"},sa={class:"calendar_days"},na={class:"calendar_day_date"},ia={class:"calendar_day_date__short"},la={class:"calendar_day_date__long",style:{display:"none"}},ca={class:"calendar_day_tasks"},oa=["title","onClick"],ra={key:0,class:"calendar__no_tasks",style:{display:"none"}};function da(e,a,t,i,l,c){const o=(0,s.up)("LoadingCover");return(0,s.wg)(),(0,s.iD)("main",Je,[l.is_ready?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(o,{key:0,class:"calendar_loading",covering:"Calendar Tasks"})),(0,s._)("div",Ve,[(0,s._)("div",{class:"calendar_date",title:"Currently viewing "+l.loaded_month.toLocaleDateString(void 0,{month:"long",year:"numeric"})},(0,n.zw)(l.loaded_month.toLocaleDateString("en-US",{month:"long",year:"numeric"})),9,Fe),(0,s._)("nav",Ge,[(0,s._)("button",{class:"calendar_action",onClick:a[0]||(a[0]=(...e)=>c.prev_month&&c.prev_month(...e)),title:"Previous month"},Xe),(0,s._)("button",{class:"calendar_action",onClick:a[1]||(a[1]=(...e)=>c.this_month&&c.this_month(...e)),title:"Current month"},[(0,s._)("div",{class:(0,n.C_)(["action_icon cal-icon",{alt:c.tasks.length}])},null,2)]),(0,s._)("button",{class:"calendar_action",onClick:a[2]||(a[2]=(...e)=>c.next_month&&c.next_month(...e)),title:"Next month"},aa)])]),(0,s._)("div",ta,[(0,s._)("div",sa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.days,(a=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["calendar_day",{calendar_day__placeholder:a.is_placeholder,calendar_day__hastask:!!a.tasks&&a.tasks.length,calendar_day__today:a.is_today}]),key:a.date},[(0,s._)("div",na,[(0,s._)("span",ia,(0,n.zw)(new Date(a.date).getDate()),1),(0,s._)("span",la,(0,n.zw)(new Date(a.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})),1)]),(0,s._)("div",ca,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tasks,(a=>((0,s.wg)(),(0,s.iD)("div",{class:"calendar_day_task",key:a.name,title:a.classes_class,style:(0,n.j5)({"--color-calendar-task":a.color}),onClick:t=>e.$emit("taskclick",a)},[(0,s._)("span",null,(0,n.zw)(a.name),1)],12,oa)))),128))])],2)))),128)),c.tasks_loaded_month?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ra," Relax! No Tasks. "))])])])}const _a=e=>((0,s.dD)("data-v-5a6b564c"),e=e(),(0,s.Cn)(),e),ua=["title"],ma=_a((()=>(0,s._)("div",{class:"loading_cover__overlay"},null,-1))),ha={class:"loading_cover__content"},pa={class:"loading_cover__content__icon"},va=(0,s.uE)('<defs data-v-5a6b564c><circle id="dot" r="3" data-v-5a6b564c></circle></defs><g fill="var(--color-loading-dot, #000)" data-v-5a6b564c><circle cx="33%" cy="50%" r="3" data-v-5a6b564c><animate attributeName="r" values="3;7;3" dur="1s" repeatCount="indefinite" calcMode="spline" keyTimes="0;0.5;1" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" data-v-5a6b564c></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" repeatCount="indefinite" calcMode="spline" keyTimes="0;0.5;1" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" data-v-5a6b564c></animate></circle><circle cx="50%" cy="50%" r="3" data-v-5a6b564c><animate attributeName="r" values="3;7;3" dur="1s" repeatCount="indefinite" calcMode="spline" keyTimes="0;0.5;1" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" begin="0.2s" data-v-5a6b564c></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" repeatCount="indefinite" calcMode="spline" keyTimes="0;0.5;1" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" begin="0.2s" data-v-5a6b564c></animate></circle><circle cx="67%" cy="50%" r="3" data-v-5a6b564c><animate attributeName="r" values="3;7;3" dur="1s" repeatCount="indefinite" calcMode="spline" keyTimes="0;0.5;1" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" begin="0.4s" data-v-5a6b564c></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" repeatCount="indefinite" calcMode="spline" keyTimes="0;0.5;1" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" begin="0.4s" data-v-5a6b564c></animate></circle></g>',2),ka=[va];function ga(e,a,t,i,l,c){return(0,s.wg)(),(0,s.iD)("div",{class:"loading_cover",title:"Loading "+t.covering},[ma,(0,s._)("div",ha,[(0,s._)("div",pa,[((0,s.wg)(),(0,s.iD)("svg",{viewBox:"0 0 100 20",style:(0,n.j5)({width:"calc(33% + 100px)",minWidth:"100px",maxWidth:"400px"})},ka,4))]),(0,s.WI)(e.$slots,"default",{},void 0,!0)])],8,ua)}var ya={name:"LoadingCover",props:{covering:{type:String,default:"Content"}}};const wa=(0,z.Z)(ya,[["render",ga],["__scopeId","data-v-5a6b564c"]]);var ba=wa,fa={name:"CalendarBlock",components:{LoadingCover:ba},props:{displayed_class:String},emits:["taskclick"],data(){return{loaded_month:new Date((new Date).setDate(1)),is_ready:!0}},methods:{day_matches(e,a){return e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear()},get_day_tasks(e){return this.tasks.filter((a=>{const t=new Date(a.date);return this.day_matches(t,e)&&(void 0==this.displayed_class||a.class_id==this.displayed_class)}))},next_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()+1))},this_month(){this.loaded_month=new Date((new Date).setDate(1))},prev_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()-1))}},computed:{tasks_loaded_month(){return this.tasks.some((e=>{new Date(e.date);return!0}))},tasks(){return this.store.get_tasks},store(){return(0,J.h)()},days(){const e=[],a=this.loaded_month.getTime();function t(){return new Date(a)}const s=new Date(t().setDate(1)),n=new Date(t().setMonth(t().getMonth()+1,0));for(let i=s.getDay();i>0;i--){const a=new Date(t().setDate(-i));e.push({date:a,tasks:this.get_day_tasks(a),is_placeholder:!0})}for(let i=1;i<=n.getDate();i++){const a=new Date(t().setDate(i));e.push({date:a,tasks:this.get_day_tasks(a),is_today:this.day_matches(a,new Date)})}for(let i=1;e.length<42;i++){const a=new Date(t().setDate(n.getDate()+i));e.push({date:a,tasks:this.get_day_tasks(a),is_placeholder:!0})}return e}},watch:{tasks(){this.is_ready=!0}}};const Da=(0,z.Z)(fa,[["render",da],["__scopeId","data-v-7b8ddb98"]]);var Ca=Da,Sa={name:"AppPortal",components:{LeftBar:ue,RightBar:He,CalendarBlock:Ca},data(){return{displayed_class:null}},computed:{can_close(){return!0!==this.$route?.meta?.block_close},store(){return(0,J.h)()},name(){let e=this.store;return e.user&&e.user.displayName?e.user.displayName.split(" ")[0]:"User"},did_survey(){return this.store.done_daily_survey}},methods:{do_survey(){this.$router.push({name:"daily",query:{redirect:this.$route.fullPath}}),new re.OO("Please complete the daily survey to use MVTT today!",3e3)},close_left_bar(){this.$refs.LeftBar.close_sidebar()},close_right_bar(){this.$refs.RightBar.close_sidebar()},placeholderToast:re.gy,show_task(e){let a=JSON.stringify({name:e.name,group:e.class_name,date:e.date.toLocaleDateString("en-US").replace("/","-"),description:e.description,links:e.links,type:e.type,class_id:e.class_id});this.$router.push({name:"task",query:{task:a}})},set_class(e){this.displayed_class=e}},mounted(){this.did_survey||this.do_survey()},watch:{did_survey(){this.did_survey||this.do_survey()}}};const Ta=(0,z.Z)(Sa,[["render",h],["__scopeId","data-v-3b7b0b18"]]);var xa=Ta}}]);
//# sourceMappingURL=578.9cfb2b63.js.map