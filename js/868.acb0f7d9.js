"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[868],{9868:function(e,i,n){n.r(i),n.d(i,{default:function(){return E}});var s=n(3396),t=n(7139),l=n(9242);const a=e=>((0,s.dD)("data-v-2c50beac"),e=e(),(0,s.Cn)(),e),o={class:"settings"},c=a((()=>(0,s._)("header",{class:"modal_header"},[(0,s._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),_={class:"overlay_contents"},d={key:0},r=a((()=>(0,s._)("div",{class:"overlay_contents_text"}," You can link a personal (non-mvla.net) account to access MVTT when not signed into your school account below! ",-1))),u={class:"inputs_row"},h={class:"styled_input styled_links_box"},k={class:"styled_links_display"},m={key:0,class:"placeholder"},v={key:1,class:"styled_line_links"},g=["onClick"],p=a((()=>(0,s._)("div",{class:"remove_icon"},null,-1))),w=[p],y={class:"styled_line_links__email"},b=a((()=>(0,s._)("hr",{class:"styled_links_separator"},null,-1))),f={class:"styled_links_add"},C=["disabled"],x=["disabled"],D=a((()=>(0,s._)("div",{class:"overlay_contents_text"},[(0,s.Uk)(" To change your theme, use the "),(0,s._)("span",{class:"button_pointer_text button_pointer_icon"},[(0,s._)("div",{class:"theme_icon icon"}),(0,s.Uk)(" Switch Theme ")]),(0,s.Uk)(" button on the left sidebar ")],-1))),A={class:"bottom_actions"},U=a((()=>(0,s._)("div",{class:"flex_spacer"},null,-1))),$=["disabled"];function z(e,i,n,a,p,z){return(0,s.wg)(),(0,s.iD)("div",o,[c,(0,s._)("div",_,[z.store.is_teacher?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",d,[r,(0,s._)("div",u,[(0,s._)("div",h,[(0,s._)("div",k,[z.store.linked_accounts&&z.store.linked_accounts.length?((0,s.wg)(),(0,s.iD)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(z.store.linked_accounts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:(0,t.C_)(["styled_line_links__account",{active:z.store.personal_account&&z.store.user.email==e}]),key:e},[z.store.personal_account?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:"styled_line_links__remove",onClick:i=>z.uninvite_linked(e),title:"Remove Account"},w,8,g)),(0,s._)("div",y,(0,t.zw)(e),1)],2)))),128))])):((0,s.wg)(),(0,s.iD)("span",m,"No linked accounts, add one below"))]),b,(0,s._)("div",f,[(0,s.wy)((0,s._)("input",{class:"styled_links_add__text",type:"email",onInput:i[0]||(i[0]=(...e)=>z.fix_email&&z.fix_email(...e)),onUpdate:i[1]||(i[1]=(...e)=>z.fix_email&&z.fix_email(...e)),"onUpdate:modelValue":i[2]||(i[2]=e=>p.new_email=e),placeholder:"Personal Email",disabled:z.store.personal_account||p.loading},null,40,C),[[l.nr,p.new_email]]),(0,s._)("button",{class:"styled_links_add__action",onClick:i[3]||(i[3]=(...e)=>z.invite_linked&&z.invite_linked(...e)),disabled:!z.ready_to_link},(0,t.zw)(z.store.personal_account?"UNAVALIABLE":"Add"),9,x)])])])])),D]),(0,s._)("div",A,[z.store.personal_account?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"back_action",onClick:i[4]||(i[4]=i=>e.$emit("close"))},(0,t.zw)(p.changed||p.loading?"Cancel":"Close"),1)),U,(0,s._)("button",{class:(0,t.C_)(["continue_action",{loading_bg:p.loading}]),disabled:!z.store.personal_account&&!p.changed,onClick:i[5]||(i[5]=i=>{z.store.personal_account?e.$emit("close"):z.save})},(0,t.zw)(z.store.personal_account?"Close":"Finish"),11,$)])])}var T=n(8980),q={name:"SettingsModal",emits:["close"],data(){return{changed:!1,loading:!1,new_email:""}},computed:{store(){return(0,T.h)()},ready_to_link(){return!this.loading&&this.new_email&&this.new_email.includes("@")&&this.new_email.split("@")[1].includes(".")}},methods:{save(){this.loading||this.$emit("close")},invite_linked(){this.store.personal_account||(this.changed=!0,this.loading=!0,this.store.invite_linked(this.new_email).then((()=>{this.loading=!1,this.new_email=""})).catch((()=>{this.loading=!1,this.changed=!1})))},uninvite_linked(e){this.changed=!0,this.loading=!0,this.store.uninvite_linked(e).then((()=>{this.loading=!1})).catch((()=>{this.loading=!1,this.changed=!1}))},fix_email(){if(this.new_email.includes("@")){let[e,i]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${i}`)}}}},I=n(89);const V=(0,I.Z)(q,[["render",z],["__scopeId","data-v-2c50beac"]]);var E=V}}]);
//# sourceMappingURL=868.acb0f7d9.js.map