{"version":3,"file":"js/854.088776da.js","mappings":"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","sources":["webpack://mvtime/./src/views/Portal/SettingsModal.vue","webpack://mvtime/./src/views/Portal/SettingsModal.vue?2de1"],"sourcesContent":["<template>\r\n  <div class=\"settings\">\r\n    <header class=\"modal_header\">\r\n      <h2 class=\"header_style modal_header_title\">Account Preferences</h2>\r\n    </header>\r\n    <div class=\"overlay_contents\">\r\n      <div class=\"overlay_contents_text\">\r\n        You can link a personal (non-mvla.net) account to access MVTT when not signed into your\r\n        school account below!\r\n      </div>\r\n\r\n      <div class=\"inputs_row\">\r\n        <div class=\"styled_input styled_links_box\">\r\n          <div class=\"styled_links_display\">\r\n            <span v-if=\"!store.linked_accounts || !store.linked_accounts.length\" class=\"placeholder\"\r\n              >No linked accounts, add one below</span\r\n            >\r\n            <div v-else class=\"styled_line_links\">\r\n              <div\r\n                class=\"styled_line_links__account\"\r\n                v-for=\"email in store.linked_accounts\"\r\n                :class=\"{ active: store.personal_account && store.user.email == email }\"\r\n                :key=\"email\"\r\n              >\r\n                <div\r\n                  class=\"styled_line_links__remove\"\r\n                  @click=\"unlink_account(email)\"\r\n                  v-if=\"!store.personal_account\"\r\n                  title=\"Remove Account\"\r\n                >\r\n                  <div class=\"remove_icon\"></div>\r\n                </div>\r\n                <div class=\"styled_line_links__email\">{{ email }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr class=\"styled_links_separator\" />\r\n          <div class=\"styled_links_add\">\r\n            <input\r\n              class=\"styled_links_add__text\"\r\n              type=\"email\"\r\n              @input=\"fix_email\"\r\n              @update=\"fix_email\"\r\n              v-model=\"new_email\"\r\n              placeholder=\"Personal Email\"\r\n              :disabled=\"store.personal_account || loading\"\r\n            />\r\n            <button\r\n              class=\"styled_links_add__action\"\r\n              @click=\"link_account\"\r\n              :disabled=\"!ready_to_link\"\r\n            >\r\n              {{ store.personal_account ? \"UNAVALIABLE\" : \"Add\" }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"overlay_contents_text\">\r\n        To change your theme, use the\r\n        <span class=\"button_pointer_text button_pointer_icon\">\r\n          <div class=\"theme_icon icon\"></div>\r\n          Switch Theme\r\n        </span>\r\n        button on the left sidebar\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom_actions\">\r\n      <button v-if=\"!store.personal_account\" class=\"back_action\" @click=\"$emit('close')\">\r\n        {{ changed || loading ? \"Cancel\" : \"Close\" }}\r\n      </button>\r\n      <div class=\"flex_spacer\"></div>\r\n      <button\r\n        class=\"continue_action\"\r\n        :class=\"{ loading_bg: loading }\"\r\n        :disabled=\"!store.personal_account && !changed\"\r\n        @click=\"\r\n          if (store.personal_account) {\r\n            $emit('close');\r\n          } else {\r\n            save;\r\n          }\r\n        \"\r\n      >\r\n        {{ store.personal_account ? \"Close\" : \"Finish\" }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Settings modal for managing user preferences.\r\n *\r\n * @module SettingsModal\r\n * @description Modal that allows users to manage their settings, which is at this point just linked accounts.\r\n * @requires module:store/MainStore\r\n * @emits {Function} close - An event emitted when the modal is closed.\r\n */\r\n\r\nimport { useMainStore } from \"@/store\";\r\nimport \"@/assets/style/overlay.css\";\r\nexport default {\r\n  name: \"SettingsModal\",\r\n  emits: [\"close\"],\r\n  data() {\r\n    return {\r\n      changed: false,\r\n      loading: false,\r\n      new_email: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    ready_to_link() {\r\n      return (\r\n        !this.loading &&\r\n        this.new_email &&\r\n        this.new_email.includes(\"@\") &&\r\n        this.new_email.split(\"@\")[1].includes(\".\")\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    save() {\r\n      // close the modal if the save was successful\r\n      if (!this.loading) {\r\n        this.$emit(\"close\");\r\n      }\r\n    },\r\n    link_account() {\r\n      if (!this.store.personal_account) {\r\n        this.changed = true;\r\n        this.loading = true;\r\n        this.store\r\n          .link_account(this.new_email)\r\n          .then(() => {\r\n            this.loading = false;\r\n            this.new_email = \"\";\r\n          })\r\n          .catch(() => {\r\n            this.loading = false;\r\n            this.changed = false;\r\n          });\r\n      }\r\n    },\r\n    unlink_account(email) {\r\n      this.changed = true;\r\n      this.loading = true;\r\n      this.store\r\n        .unlink_account(email)\r\n        .then(() => {\r\n          this.loading = false;\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n          this.changed = false;\r\n        });\r\n    },\r\n    fix_email() {\r\n      // fix emails so that they can be signed into with google even if they used the + notation\r\n      if (this.new_email.includes(\"@\")) {\r\n        let [name, domain] = this.new_email.split(\"@\");\r\n        if (name.includes(\"+\")) {\r\n          name = name.split(\"+\")[0];\r\n          this.new_email = `${name}@${domain}`;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.remove_icon {\r\n  filter: var(--filter-icon);\r\n  background-image: url(@/assets/img/general/portal/remove.png);\r\n  background-image: url(@/assets/img/general/portal/remove.svg);\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.add_button {\r\n  max-width: 100px;\r\n}\r\n.add_button[disabled] {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n.styled_line_links {\r\n  gap: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./SettingsModal.vue?vue&type=template&id=de55096e&scoped=true\"\nimport script from \"./SettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./SettingsModal.vue?vue&type=style&index=0&id=de55096e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-de55096e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$options","store","linked_accounts","length","_hoisted_9","_Fragment","_renderList","email","_normalizeClass","active","personal_account","user","key","onClick","$event","unlink_account","title","_hoisted_13","_toDisplayString","_hoisted_8","_hoisted_14","_hoisted_15","type","onInput","_cache","args","fix_email","onUpdate","$data","new_email","placeholder","disabled","loading","link_account","ready_to_link","_hoisted_17","_hoisted_18","_hoisted_19","_ctx","$emit","changed","_hoisted_20","loading_bg","save","_hoisted_21","name","emits","data","computed","useMainStore","this","includes","split","methods","then","catch","domain","__exports__","render"],"sourceRoot":""}