"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[175],{5175:function(e,t,s){s.r(t),s.d(t,{default:function(){return Y}});var a=s(3396),l=s(7139),n=s(9242);const i=e=>((0,a.dD)("data-v-dc838328"),e=e(),(0,a.Cn)(),e),d={class:"create_task"},o={class:"modal_header"},_={class:"header_style modal_header_title"},c={class:"overlay_contents"},k={class:"overlay_contents_text"},r={key:0},p={key:1},u={class:"inputs_row"},h=["placeholder","disabled"],y=i((()=>(0,a._)("div",{class:"flex-break"},null,-1))),w=["placeholder"],m=i((()=>(0,a._)("div",{class:"flex-break"},null,-1))),v={class:"styled_input styled_links_box"},x={class:"styled_links_display"},b={key:0,class:"placeholder"},f={key:1,class:"styled_line_links"},g=["href"],D=i((()=>(0,a._)("hr",{class:"styled_links_separator"},null,-1))),z={class:"styled_links_add"},C=["disabled"],U={class:"overlay_contents_text"},V={class:"checkboxes"},A=["id","value"],$=["for"],L=["for"],j={class:"bottom_actions"},K=i((()=>(0,a._)("div",{class:"flex_spacer"},null,-1))),P=["disabled"];function T(e,t,s,i,T,q){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("header",o,[(0,a._)("h2",_,"Add a "+(0,l.zw)(q.type_full),1)]),(0,a._)("div",c,[(0,a._)("div",k,[q.is_note?((0,a.wg)(),(0,a.iD)("span",r,"Add a new "+(0,l.zw)(T.task.type)+" to",1)):((0,a.wg)(),(0,a.iD)("span",p,"Schedule a new "+(0,l.zw)(T.task.type)+" for",1)),(0,a.Uk)(" your class"+(0,l.zw)(q.classes&&1==q.classes.length?"":"es"),1)]),(0,a._)("div",u,[q.is_note?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>T.task.name=e),class:"styled_input",type:"text",placeholder:q.type_full+" Name",disabled:q.is_note},null,8,h)),[[n.nr,T.task.name]]),(0,a.wy)((0,a._)("input",{type:"date",class:"styled_input input_task__date","onUpdate:modelValue":t[1]||(t[1]=e=>T.task.date=e),style:(0,l.j5)({maxWidth:q.is_note?"100%":null})},null,4),[[n.nr,T.task.date]]),y,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>T.task.description=e),class:"styled_input styled_textarea task_description",type:"text",placeholder:q.type_full+(q.is_note?" Contents":" Description (Optional)")},"\r\n        ",8,w),[[n.nr,T.task.description]]),m,(0,a._)("div",v,[(0,a._)("div",x,[T.task.links&&T.task.links.length?((0,a.wg)(),(0,a.iD)("div",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.task.links,(e=>((0,a.wg)(),(0,a.iD)("a",{class:"styled_line_links__link",target:"_blank",href:e.path,key:e.path},(0,l.zw)(e.text),9,g)))),128))])):((0,a.wg)(),(0,a.iD)("span",b,(0,l.zw)(q.type_full)+" Links (Optional)",1))]),D,(0,a._)("div",z,[(0,a.wy)((0,a._)("input",{class:"styled_links_add__path",type:"url","onUpdate:modelValue":t[3]||(t[3]=e=>T.newlink.path=e),placeholder:"Link URL (http://example.com)"},null,512),[[n.nr,T.newlink.path]]),(0,a.wy)((0,a._)("input",{class:"styled_links_add__text",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>T.newlink.text=e),placeholder:"Link Text (what students see)"},null,512),[[n.nr,T.newlink.text]]),(0,a._)("button",{class:"styled_links_add__action",onClick:t[5]||(t[5]=(...e)=>q.add_newlink&&q.add_newlink(...e)),disabled:q.newlink_ready}," Add ",8,C)])])]),(0,a._)("div",U," Choose which classes this "+(0,l.zw)(T.task.type)+" will be added to ",1),(0,a._)("div",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.classes,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"checkbox",key:e.id},[(0,a.wy)((0,a._)("input",{type:"checkbox",id:e.id,value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>T.task_classes=e)},null,8,A),[[n.e8,T.task_classes]]),e.period?((0,a.wg)(),(0,a.iD)("label",{key:0,for:e.id}," P"+(0,l.zw)(e.period)+" - "+(0,l.zw)(e.name),9,$)):((0,a.wg)(),(0,a.iD)("label",{key:1,for:e.id},(0,l.zw)(e.name),9,L))])))),128))])]),(0,a._)("div",j,[(0,a._)("button",{class:"close_action",onClick:t[7]||(t[7]=t=>e.$emit("close"))},"Close"),K,(0,a._)("button",{class:(0,l.C_)(["continue_action",{loading_bg:T.loading}]),onClick:t[8]||(t[8]=(...e)=>q.create_task&&q.create_task(...e)),disabled:!T.task.name&&!q.is_note||!T.task.date||!T.task_classes.length||q.is_note&&!T.task.description}," Add "+(0,l.zw)(T.task.type),11,P)])])}s(7658);var q=s(8980),E=s(2745),H=s(1708),N={name:"CreateTaskView",emits:["close"],data(){return{task:{name:"",date:"",description:"",type:this.$route.params.tasktype?this.$route.params.tasktype:"task"},task_classes:[],newlink:{text:"",path:""},loading:!1}},computed:{type_full(){return{note:"Note",task:"Assignment",test:"Test",project:"Project",quiz:"Quiz",exam:"Exam"}[this.task.type]},newlink_ready(){return!this.newlink.path||!this.newlink.text||!this.newlink.path.startsWith("http")},class_name(){if(!this.classes)return null;let e=this.classes.find((e=>e.id===this.class_id));return e?e.name:null},store(){return(0,q.h)()},classes(){return this.store.classes},is_note(){return"note"===this.task.type}},methods:{add_newlink(){this.task.links||(this.task.links=[]),this.task.links.push(this.newlink),this.newlink={text:"",path:""}},create_task(){this.loading=!0,this.store.create_task(this.task,this.task_classes).then((()=>{this.$emit("close")})).catch((e=>{this.loading=!1,(0,E.E)(`ðŸ“ƒ Couldn't create ${this.task.type||"task"}:`,e),new H.PK("Couldn't create task",e,2e3)}))}}},O=s(89);const W=(0,O.Z)(N,[["render",T],["__scopeId","data-v-dc838328"]]);var Y=W}}]);
//# sourceMappingURL=175.11455866.js.map