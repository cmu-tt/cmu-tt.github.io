"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[775],{6775:function(e,t,s){s.r(t),s.d(t,{default:function(){return te}});s(7658);var n=s(3396),o=s(7139),i=s(9242);const a=e=>((0,n.dD)("data-v-527ada8b"),e=e(),(0,n.Cn)(),e),l={class:"settings"},c=a((()=>(0,n._)("header",{class:"modal_header"},[(0,n._)("h2",{class:"header_style modal_header_title"},"Account Preferences")],-1))),_={class:"overlay_contents"},d={key:0,class:"overlay_contents_section"},r={class:"overlay_contents_text"},u={key:0,class:"overlay_contents_text"},h=a((()=>(0,n._)("br",null,null,-1))),p={class:"inputs_row linked_accounts_row"},g={class:"styled_input styled_links_box"},k={class:"styled_links_display"},v={key:0,class:"placeholder"},m={key:1,class:"styled_line_links"},w=["onClick"],y=a((()=>(0,n._)("div",{class:"remove_icon"},null,-1))),b=[y],f={class:"styled_line_links__email"},C=a((()=>(0,n._)("hr",{class:"styled_links_separator"},null,-1))),x=["disabled"],D=["disabled"],U={key:1,class:"overlay_contents_text overlay_contents_section"},T={key:0},$={key:1},q={class:"overlay_contents_text overlay_contents_section"},z={class:"pause_popup_section"},A=a((()=>(0,n._)("div",{class:"pause_popup_section__details"}," The popup helps conserve local and network resources. To have MVTT open on the side without it getting in the way, you can toggle it above, though you may then have to reload to get the newest data ",-1))),B={class:"overlay_contents_text overlay_contents_section"},I=a((()=>(0,n._)("div",{class:"theme_icon icon"},null,-1))),V={class:"overlay_contents_text overlay_contents_section"},Y=a((()=>(0,n._)("div",{class:"stats_icon themed_icon icon"},null,-1))),F={class:"overlay_contents_text overlay_contents_section"},M={class:"bottom_actions"},S=a((()=>(0,n._)("div",{class:"flex_spacer"},null,-1))),N=["disabled"];function W(e,t,s,a,y,W){const E=(0,n.up)("ToggleBar");return(0,n.wg)(),(0,n.iD)("div",l,[c,(0,n._)("div",_,[W.store.is_teacher?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",r," You can link a personal (non-"+(0,o.zw)(this.store.ORG_DOMAIN.substring(1))+") account to access MVTT when not signed into your school account below! ",1),W.store.personal_account?((0,n.wg)(),(0,n.iD)("div",u,[h,(0,n.Uk)(" You're currently signed in using a personal account. You can unlink it, or link more emails, through your main account. ")])):(0,n.kq)("",!0),(0,n._)("div",p,[(0,n._)("div",g,[(0,n._)("div",k,[W.store.linked_accounts&&W.store.linked_accounts.length?((0,n.wg)(),(0,n.iD)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(W.store.linked_accounts,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["styled_line_links__account",{active:W.store.personal_account&&W.store.user.email==e}]),key:e},[W.store.personal_account?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",{key:0,class:"styled_line_links__remove",onClick:t=>W.uninvite_linked(e),title:"Remove Account"},b,8,w)),(0,n._)("div",f,(0,o.zw)(e),1)],2)))),128))])):((0,n.wg)(),(0,n.iD)("span",v,"No linked accounts, add one below"))]),C,(0,n._)("div",{class:(0,o.C_)(["styled_links_add",{links_personal:W.store.personal_account}])},[(0,n.wy)((0,n._)("input",{class:"styled_links_add__text",type:"email",onInput:t[0]||(t[0]=(...e)=>W.fix_email&&W.fix_email(...e)),onUpdate:t[1]||(t[1]=(...e)=>W.fix_email&&W.fix_email(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>y.new_email=e),placeholder:"Personal Email",disabled:W.store.personal_account||y.loading},null,40,x),[[i.nr,y.new_email]]),(0,n._)("button",{class:"styled_links_add__action",onClick:t[3]||(t[3]=(...e)=>W.invite_linked&&W.invite_linked(...e)),disabled:!W.ready_to_link},(0,o.zw)(W.store.personal_account?"UNAVALIABLE":"Add"),9,D)],2)])])])),W.store.personal_account?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",U,[(0,n.Uk)(" Click "),(0,n._)("span",{class:"button_pointer_text click-action",onClick:t[4]||(t[4]=e=>{W.store.toggle_teacher(),y.changed=!0})}," here "),(0,n.Uk)("  to "+(0,o.zw)(W.store.is_teacher?"disable":"enable")+" teacher mode ",1),W.store.is_teacher?((0,n.wg)(),(0,n.iD)("span",T,"and return to the student view.")):((0,n.wg)(),(0,n.iD)("span",$,"to create, and manage your own classes and tasks. This may require setup by an admin if you do not have a teacher email."))])),(0,n._)("div",q,[(0,n._)("div",z,[(0,n.Wm)(E,{class:"click-action",value:W.show_timeout,onUpdate:W.update_timeout_option,loads:!0},null,8,["value","onUpdate"]),(0,n.Uk)("   "),(0,n._)("span",null,"Session timeout popup "+(0,o.zw)(W.show_timeout?"enabled":"disabled"),1)]),A]),(0,n._)("div",B,[(0,n.Uk)(" To change your theme, use the "),(0,n._)("span",{id:"theme_pointer_button",class:"button_pointer_text button_pointer_icon click-action",onClick:t[5]||(t[5]=e=>W.store.toggle_theme())},[I,(0,n.Uk)(" Switch Theme ")]),(0,n.Uk)(" button on the left sidebar or homepage ")]),(0,n._)("div",V,[(0,n.Uk)(" To see how you've been feeling, "),(0,n._)("span",{id:"stats_pointer_button",class:"button_pointer_text button_pointer_icon click-action",onClick:t[6]||(t[6]=t=>e.$router.push({name:"stats"}))},[Y,(0,n.Uk)(" View your stats ")]),(0,n.Uk)(" and get an insight into your mental health and productivity ")]),(0,n._)("div",F,[(0,n.Uk)(" Feeling lost? Try "),(0,n._)("span",{class:"button_pointer_text click-action",onClick:t[7]||(t[7]=t=>{y.changed=!0,W.store.finish_tutorial(!1).then((()=>{e.$emit("close")}))})}," redoing the tutorial "),(0,n.Uk)(". We'll keep this updated as we add new features! ")])]),(0,n._)("div",M,[W.store.personal_account?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"back_action click_escape",onClick:t[8]||(t[8]=t=>e.$emit("close"))},(0,o.zw)(y.changed||y.loading?"Cancel":"Close"),1)),S,(0,n._)("button",{class:(0,o.C_)(["continue_action click_ctrlenter",{loading_bg:y.loading}]),disabled:!W.store.personal_account&&!y.changed&&!W.store.is_teacher,onClick:t[9]||(t[9]=t=>{W.store.personal_account||W.store.is_teacher?e.$emit("close"):W.save()})},(0,o.zw)(y.changed?"Finish":W.store.personal_account?"Close":W.store.is_teacher?"Done":"Finish"),11,N)])])}var E=s(8980);const L=e=>((0,n.dD)("data-v-6313031a"),e=e(),(0,n.Cn)(),e),O=["disabled"],P=L((()=>(0,n._)("span",{class:"loading_bg"},null,-1))),R=[P],Z=L((()=>(0,n._)("div",{class:"toggle_switch_knob"},null,-1)));function G(e,t,s,i,a,l){return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["toggle_switch",{toggle_switch__on:a.is_on,transition:!s.loads}]),disabled:s.disabled,onClick:t[0]||(t[0]=(...e)=>l.toggle&&l.toggle(...e))},[s.loads?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,o.C_)(["toggle_switch__loading",{is_loading:a.loading}])},R,2)):(0,n.kq)("",!0),Z],10,O)}var H={name:"ToggleSwitch",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loads:{type:Boolean,default:!1}},emits:["update"],data(){return{is_on:this.value,loading:!1}},watch:{value(){this.is_on=this.value,this.loading=!1}},methods:{toggle(){this.disabled||(this.loads?this.loading=!0:this.is_on=!this.is_on,this.$emit("update",!this.is_on))}}},K=s(89);const j=(0,K.Z)(H,[["render",G],["__scopeId","data-v-6313031a"]]);var J=j,Q=s(1708),X={name:"SettingsModal",emits:["close"],components:{ToggleBar:J},data(){return{changed:!1,loading:!1,new_email:""}},computed:{store(){return(0,E.h)()},show_timeout(){return!this.store?.account_doc?.prefs?.hide_timeout},ready_to_link(){return!this.loading&&this.new_email&&this.new_email.includes("@")&&this.new_email.split("@")[1].includes(".")}},methods:{update_timeout_option(e){if(this.store.account_doc){let t=!this.store.account_doc?.prefs?.hide_timeout;t!=e&&this.store.update_wrapper_with_merge({prefs:{...this.store.account_doc.prefs,hide_timeout:!e}}).then((()=>{this.changed=!0,new Q.bF(e?"We'll show the popup when your session times out":"You won't see the timeout popup anymore",2e3)}))}},save(){this.loading||this.$emit("close")},invite_linked(){this.store.personal_account||(this.changed=!0,this.loading=!0,this.store.invite_linked(this.new_email).then((()=>{this.loading=!1,this.new_email=""})).catch((()=>{this.loading=!1,this.changed=!1})))},uninvite_linked(e){this.changed=!0,this.loading=!0,this.store.uninvite_linked(e).then((()=>{this.loading=!1})).catch((()=>{this.loading=!1,this.changed=!1}))},fix_email(){if(this.new_email.includes("@")){let[e,t]=this.new_email.split("@");e.includes("+")&&(e=e.split("+")[0],this.new_email=`${e}@${t}`)}}}};const ee=(0,K.Z)(X,[["render",W],["__scopeId","data-v-527ada8b"]]);var te=ee}}]);
//# sourceMappingURL=775.13f77604.js.map