"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[730],{6730:function(e,s,t){t.r(s),t.d(s,{default:function(){return y}});var l=t(3396),a=t(7139);const o=e=>((0,l.dD)("data-v-158a76ae"),e=e(),(0,l.Cn)(),e),i={class:"leave_class"},n=o((()=>(0,l._)("header",{class:"modal_header"},[(0,l._)("h2",{class:"header_style modal_header_title"},"Confirm class leave")],-1))),c={class:"overlay_contents overlay_contents_text",ref:"contents"},r=o((()=>(0,l._)("br",null,null,-1))),d=o((()=>(0,l._)("br",null,null,-1))),_=o((()=>(0,l._)("span",{class:"button_pointer_text"},"Join Class",-1))),h={class:"bottom_actions"},u=o((()=>(0,l._)("div",{class:"flex_spacer"},null,-1))),f=["disabled"];function v(e,s,t,o,v,m){return(0,l.wg)(),(0,l.iD)("div",i,[n,(0,l._)("div",c,[(0,l.Uk)(" Are you sure you want to leave "),(0,l._)("span",{class:"class_name button_pointer_text",style:(0,a.j5)({"--color-class":v.class_obj.color,"--color-class-alt":v.class_obj.color+"2d"})},(0,a.zw)(`P${v.class_obj.period} - ${v.class_obj.name}`),5),(0,l.Uk)("? "),r,d,(0,l.Uk)(" You'll need to use the "),_,(0,l.Uk)(" button in the left sidebar to join it again. ")],512),(0,l._)("div",h,[(0,l._)("button",{class:"close_action",onClick:s[0]||(s[0]=s=>e.$emit("close"))},(0,a.zw)(v.ready?"Cancel":"Close"),1),u,(0,l._)("button",{class:(0,a.C_)(["leave_class",{loading_bg:v.loading}]),onClick:s[1]||(s[1]=(...e)=>m.leave_class&&m.leave_class(...e)),disabled:!v.ready}," Leave ",10,f)])])}var m=t(9529),b=t.n(m),p=t(8980),C=t(1708),j={name:"LeaveClass",emits:["close","clear_filters"],mixins:[b()],data(){return{ready:!1,loading:!1,ref:this.$route?.params?.ref,class_obj:{}}},computed:{store(){return(0,p.h)()}},mounted(){if(this.$smoothReflow({el:this.$refs.contents,hideOverflow:!0,childTransitions:!0}),this.ref){let[e,s]=this.ref.split("~");if(e+="@mvla.net",this.ref=[e,s].join("/"),2!==this.ref.split("/").length)new C.OO("Couldn't find that class",2e3),this.$emit("close");else{let e=this.store?.classes;e&&this.ref||(this.class_obj={}),this.class_obj=e.find((e=>e.id===this.ref))||{},this.ready=!0}}else new C.OO("There was no class provided",2e3),this.$emit("close")},methods:{leave_class(){this.loading=!0,this.store.remove_class(this.class_obj.id).then((()=>{this.$emit("clear_filters"),this.$emit("close")})).catch((()=>{this.loading=!1}))}}},w=t(89);const k=(0,w.Z)(j,[["render",v],["__scopeId","data-v-158a76ae"]]);var y=k}}]);
//# sourceMappingURL=730.33208f07.js.map