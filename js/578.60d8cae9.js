"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[578],{8578:function(e,t,s){s.r(t),s.d(t,{default:function(){return ft}});s(7658);var a=s(3396),n=s(7139);const o={class:"portal"},i={class:"portal_info"},l={class:"portal_info_title"},c={class:"portal_info_usertype"},r={class:"portal_info_date"},_={class:"portal_info_welcome"},d={key:0,class:"overlay_center_view"};function h(e,t,s,h,u,m){const g=(0,a.up)("LeftBar"),p=(0,a.up)("CalendarBlock"),v=(0,a.up)("RightBar"),w=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("main",o,[(0,a.Wm)(g,{ref:"LeftBar",onClose_right_bar:m.close_right_bar},null,8,["onClose_right_bar"]),(0,a._)("div",{class:"portal_content",onClick:t[1]||(t[1]=e=>{m.close_right_bar(),m.close_left_bar()})},[(0,a._)("header",i,[(0,a._)("div",l,[(0,a._)("span",c,(0,n.zw)(m.store.is_teacher?"Teacher":"Student")+" Dashboard",1),(0,a._)("span",r,(0,n.zw)((new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)]),(0,a._)("div",_,"Welcome Back "+(0,n.zw)(m.name),1)]),(0,a.Wm)(p,{onTestclick:t[0]||(t[0]=e=>m.show_test(e))})]),(0,a.Wm)(v,{ref:"RightBar",onClose_left_bar:m.close_left_bar},null,8,["onClose_left_bar"]),"portal"!==e.$route.name?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",{class:"overlay_close",onClick:t[2]||(t[2]=t=>e.$router.push("/portal"))}),(0,a.Wm)(w,{class:"router_center_view"})])):(0,a.kq)("",!0)])}const u=e=>((0,a.dD)("data-v-075463ee"),e=e(),(0,a.Cn)(),e),m=u((()=>(0,a._)("div",{class:"branding-title gohome"},"MV Test Tracker",-1))),g=u((()=>(0,a._)("div",{class:"flex-spacer"},null,-1))),p=u((()=>(0,a._)("div",{class:"flex-spacer"},null,-1))),v=u((()=>(0,a._)("div",{class:"settings_icon"},null,-1))),w=u((()=>(0,a._)("div",{class:"toggle_text"},"Settings",-1))),f=[v,w];function y(e,t,s,o,i,l){const c=(0,a.up)("ActionsPanel"),r=(0,a.up)("ClassList"),_=(0,a.up)("SidebarToggle");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["left-bar portal_sidebar",{active:i.sidebar_open}]),onClick:t[1]||(t[1]=(...e)=>l.show_if_inactive&&l.show_if_inactive(...e))},[m,g,l.store&&l.store.is_teacher?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(r),p,(0,a._)("button",{class:"settings_button click-action",title:"Open Settings",onClick:t[0]||(t[0]=(...e)=>l.placeholderToast&&l.placeholderToast(...e))},f),(0,a.Wm)(_,{class:"right",onClick:l.close_sidebar},null,8,["onClick"])],2)}const D=e=>((0,a.dD)("data-v-2e4cb15c"),e=e(),(0,a.Cn)(),e),b={class:"sidebar_toggle click-action",title:"Close Sidebar"},k=D((()=>(0,a._)("div",{class:"arrow-icon"},null,-1))),C=[k];function T(e,t,s,n,o,i){return(0,a.wg)(),(0,a.iD)("button",b,C)}var S={name:"SidebarToggle"},L=s(89);const x=(0,L.Z)(S,[["render",T],["__scopeId","data-v-2e4cb15c"]]);var z=x;const B=e=>((0,a.dD)("data-v-094455aa"),e=e(),(0,a.Cn)(),e),$={class:"class_list"},M={class:"class_list__not_empty"},U=B((()=>(0,a._)("h5",null,"Classes",-1))),A=B((()=>(0,a._)("hr",{class:"class_list_hr"},null,-1))),W={class:"classes_container"},Y=["onClick"],Z=B((()=>(0,a._)("div",{class:"class_swatch__icon"},null,-1))),j=[Z],N={class:"class_name"},E=B((()=>(0,a._)("div",{class:"class_swatch"},[(0,a._)("div",{class:"class_swatch__add_icon"})],-1))),I={class:"class_name"};function R(e,t,s,o,i,l){return(0,a.wg)(),(0,a.iD)("div",$,[(0,a._)("div",M,[U,A,(0,a._)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.classes,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"classes_container_class",key:e.name},[(0,a._)("div",{class:"class_swatch",style:(0,n.j5)({"--color-class":e.color}),title:"Remove Class",onClick:t=>l.store.remove_class(e.id)},j,12,Y),(0,a._)("span",N,(0,n.zw)(e.name),1)])))),128)),(0,a._)("div",{class:"classes_container_class classes_container_class__add_class",onClick:t[0]||(t[0]=t=>e.$router.push("/portal/add"))},[E,(0,a._)("span",I,(0,n.zw)(l.store.is_teacher?"Join":"Add")+" a Class",1)])])])])}var q=s(8980),H={name:"ClassList",computed:{store(){return(0,q.h)()},classes(){return this.store.classes}}};const K=(0,L.Z)(H,[["render",R],["__scopeId","data-v-094455aa"]]);var O=K;const F={class:"teacher_actions"},P=(0,a._)("div",{class:"teacher_action__icon icon__add"},null,-1),J=(0,a._)("div",{class:"teacher_action__text"},"Schedule a Test",-1),V=[P,J],G=(0,a._)("div",{class:"teacher_action__icon icon__add"},null,-1),Q=(0,a._)("div",{class:"teacher_action__text"},"Add a Major Assignment",-1),X=[G,Q],ee=(0,a._)("div",{class:"teacher_action__icon icon__create"},null,-1),te=(0,a._)("div",{class:"teacher_action__text"},"Create a Class",-1),se=[ee,te];function ae(e,t,s,n,o,i){return(0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("div",{class:"teacher_action",onClick:t[0]||(t[0]=t=>e.$router.push("/portal/newtest"))},V),(0,a._)("div",{class:"teacher_action",onClick:t[1]||(t[1]=t=>e.$router.push("/portal/newassignment"))},X),(0,a._)("div",{class:"teacher_action",onClick:t[2]||(t[2]=t=>e.$router.push("/portal/create"))},se)])}var ne={};const oe=(0,L.Z)(ne,[["render",ae]]);var ie=oe,le=s(1708),ce={name:"LeftBar",components:{SidebarToggle:z,ClassList:O,ActionsPanel:ie},emits:["close_right_bar"],data(){return{sidebar_open:!1}},computed:{store(){return(0,q.h)()}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{placeholderToast:le.gy,show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_right_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const re=(0,L.Z)(ce,[["render",y],["__scopeId","data-v-075463ee"]]);var _e=re;const de=e=>((0,a.dD)("data-v-4e77fff8"),e=e(),(0,a.Cn)(),e),he=de((()=>(0,a._)("div",{class:"auth-action can-logout doprompt"},"Log Out",-1))),ue=de((()=>(0,a._)("div",{class:"flex-spacer"},null,-1))),me=de((()=>(0,a._)("div",{class:"flex-spacer"},null,-1))),ge=de((()=>(0,a._)("div",{class:"info_icon"},null,-1))),pe=[ge];function ve(e,t,s,o,i,l){const c=(0,a.up)("UpcomingTests"),r=(0,a.up)("SidebarToggle");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["right-bar portal_sidebar",{active:i.sidebar_open}]),onClick:t[1]||(t[1]=(...e)=>l.show_if_inactive&&l.show_if_inactive(...e))},[he,ue,(0,a.Wm)(c),me,(0,a._)("button",{class:"info_button click-action",title:"About MV Test Tracker",onClick:t[0]||(t[0]=t=>e.$router.push("/about"))},pe),(0,a.Wm)(r,{onClick:l.close_sidebar},null,8,["onClick"])],2)}const we=e=>((0,a.dD)("data-v-04f12ed1"),e=e(),(0,a.Cn)(),e),fe={class:"upcoming_tests"},ye={key:0,class:"upcoming_tests__not_empty"},De=we((()=>(0,a._)("h5",null,"Upcoming Tests",-1))),be=we((()=>(0,a._)("hr",{class:"upcoming_tests_hr"},null,-1))),ke={class:"tests_container"},Ce={key:1,class:"upcoming_tests__empty"},Te=we((()=>(0,a._)("h5",null,"No Upcoming Tests!",-1))),Se=[Te],Le=we((()=>(0,a._)("br",null,null,-1))),xe={key:2,class:"upcoming_tests__not_empty"},ze=we((()=>(0,a._)("h5",null,"Upcoming Assignments",-1))),Be=we((()=>(0,a._)("hr",{class:"upcoming_tests_hr"},null,-1))),$e={class:"tests_container"},Me={key:3,class:"upcoming_tests__empty"},Ue=we((()=>(0,a._)("h5",null,"No Upcoming Assignments!",-1))),Ae=[Ue];function We(e,t,s,n,o,i){const l=(0,a.up)("ExamCard");return(0,a.wg)(),(0,a.iD)("div",fe,[i.tests&&i.tests.length?((0,a.wg)(),(0,a.iD)("div",ye,[De,be,(0,a._)("div",ke,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tests,(e=>((0,a.wg)(),(0,a.j4)(l,{class:"tests_container_test",test:e,key:e.name,onClick:t=>i.show_test(e)},null,8,["test","onClick"])))),128))])])):((0,a.wg)(),(0,a.iD)("div",Ce,Se)),Le,i.assignments&&i.assignments.length?((0,a.wg)(),(0,a.iD)("div",xe,[ze,Be,(0,a._)("div",$e,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.assignments,(e=>((0,a.wg)(),(0,a.j4)(l,{class:"tests_container_test",test:e,key:e.name,onClick:t=>i.show_test(e)},null,8,["test","onClick"])))),128))])])):((0,a.wg)(),(0,a.iD)("div",Me,Ae))])}const Ye=(0,a._)("div",{class:"test_card_icon"},[(0,a._)("div",{class:"test_card_icon_container"},[(0,a._)("div",{class:"test_card_icon_container__img"})])],-1),Ze={class:"test_card_details"},je={class:"test_card_details__title"},Ne={class:"test_card_details__date"};function Ee(e,t,s,o,i,l){return(0,a.wg)(),(0,a.iD)("div",{class:"test_card",style:(0,n.j5)({"--color-calendar-test":s.test.color})},[Ye,(0,a._)("div",Ze,[(0,a._)("div",je,(0,n.zw)(s.test.name),1),(0,a._)("div",Ne,(0,n.zw)(s.test.date.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})),1)])],4)}var Ie={name:"ExamCard",props:{test:{type:Object,required:!0}}};const Re=(0,L.Z)(Ie,[["render",Ee]]);var qe=Re,He={name:"UpcomingTests",components:{ExamCard:qe},computed:{store(){return(0,q.h)()},tests(){return this.store.get_tests.filter((e=>e.date?.getTime()-Date.now()>864e5&&!e.is_assignment)).sort(((e,t)=>e.date<t.date?-1:e.date>t.date?1:0)).slice(0,4)},assignments(){return this.store.get_tests.filter((e=>e.date?.getTime()-Date.now()>864e5&&e.is_assignment)).sort(((e,t)=>e.date<t.date?-1:e.date>t.date?1:0)).slice(0,4)}},methods:{show_test(e){let t=JSON.stringify({name:e.name,group:e.class_name,date:e.date.toLocaleDateString("en-US").replace("/","-"),description:e.description,links:e.links});this.$router.push({name:e.is_assignment?"assignment":"test",query:{test:t}})}}};const Ke=(0,L.Z)(He,[["render",We],["__scopeId","data-v-04f12ed1"]]);var Oe=Ke,Fe={name:"RightBar",components:{SidebarToggle:z,UpcomingTests:Oe},emits:["close_left_bar"],data(){return{sidebar_open:!1}},mounted(){window.addEventListener("resize",this.close_sidebar)},unmounted(){window.removeEventListener("resize",this.close_sidebar)},methods:{show_if_inactive(){this.sidebar_open||(this.sidebar_open=!0),this.$emit("close_left_bar")},close_sidebar(){this.sidebar_open&&setTimeout((()=>this.sidebar_open=!1),10)}}};const Pe=(0,L.Z)(Fe,[["render",ve],["__scopeId","data-v-4e77fff8"]]);var Je=Pe;const Ve=e=>((0,a.dD)("data-v-851f54d0"),e=e(),(0,a.Cn)(),e),Ge={class:"calendar"},Qe={class:"calendar_header"},Xe=["title"],et={class:"calendar_actions"},tt=Ve((()=>(0,a._)("div",{class:"action_icon arrow-icon left"},null,-1))),st=[tt],at=Ve((()=>(0,a._)("div",{class:"action_icon arrow-icon right"},null,-1))),nt=[at],ot={class:"calendar_days_container"},it={class:"calendar_days"},lt={class:"calendar_day_date"},ct={class:"calendar_day_date__short"},rt={class:"calendar_day_date__long",style:{display:"none"}},_t={class:"calendar_day_tests"},dt=["title","onClick"],ht={key:0,class:"calendar__no_tests",style:{display:"none"}};function ut(e,t,s,o,i,l){return(0,a.wg)(),(0,a.iD)("main",Ge,[(0,a._)("div",Qe,[(0,a._)("div",{class:"calendar_date",title:"Currently viewing "+i.loaded_month.toLocaleDateString(void 0,{month:"long",year:"numeric"})},(0,n.zw)(i.loaded_month.toLocaleDateString("en-US",{month:"long",year:"numeric"})),9,Xe),(0,a._)("nav",et,[(0,a._)("button",{class:"calendar_action",onClick:t[0]||(t[0]=(...e)=>l.prev_month&&l.prev_month(...e)),title:"Previous month"},st),(0,a._)("button",{class:"calendar_action",onClick:t[1]||(t[1]=(...e)=>l.this_month&&l.this_month(...e)),title:"Current month"},[(0,a._)("div",{class:(0,n.C_)(["action_icon cal-icon",{alt:l.tests.length}])},null,2)]),(0,a._)("button",{class:"calendar_action",onClick:t[2]||(t[2]=(...e)=>l.next_month&&l.next_month(...e)),title:"Next month"},nt)])]),(0,a._)("div",ot,[(0,a._)("div",it,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.days,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["calendar_day",{calendar_day__placeholder:t.is_placeholder,calendar_day__hastest:!!t.tests&&t.tests.length,calendar_day__today:t.is_today}]),key:t.date},[(0,a._)("div",lt,[(0,a._)("span",ct,(0,n.zw)(new Date(t.date).getDate()),1),(0,a._)("span",rt,(0,n.zw)(new Date(t.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})),1)]),(0,a._)("div",_t,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tests,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"calendar_day_test",key:t.name,title:t.classes_class,style:(0,n.j5)({"--color-calendar-test":t.color}),onClick:s=>e.$emit("testclick",t)},[(0,a._)("span",null,(0,n.zw)(t.name),1)],12,dt)))),128))])],2)))),128)),l.tests_loaded_month?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ht," Relax! No Tests. "))])])])}var mt={name:"CalendarBlock",emits:["testclick"],data(){return{loaded_month:new Date((new Date).setDate(1))}},methods:{day_matches(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},get_day_tests(e){return this.tests.filter((t=>{const s=new Date(t.date);return this.day_matches(s,e)}))},next_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()+1))},this_month(){this.loaded_month=new Date((new Date).setDate(1))},prev_month(){this.loaded_month=new Date(this.loaded_month.setMonth(this.loaded_month.getMonth()-1))}},computed:{tests_loaded_month(){return this.tests.some((e=>{const t=new Date(e.date);return t.getMonth()===this.loaded_month.getMonth()&&t.getFullYear()===this.loaded_month.getFullYear()}))},tests(){const e=(0,q.h)();return e.get_tests},days(){const e=[],t=this.loaded_month.getTime();function s(){return new Date(t)}const a=new Date(s().setDate(1)),n=new Date(s().setMonth(s().getMonth()+1,0));for(let o=a.getDay();o>0;o--)e.push({date:new Date(s().setDate(-o)),is_placeholder:!0});for(let o=1;o<=n.getDate();o++){const t=new Date(s().setDate(o));e.push({date:t,tests:this.get_day_tests(t),is_today:this.day_matches(t,new Date)})}for(let o=1;e.length<42;o++)e.push({date:s().setDate(n.getDate()+o),is_placeholder:!0});return e}}};const gt=(0,L.Z)(mt,[["render",ut],["__scopeId","data-v-851f54d0"]]);var pt=gt,vt={name:"AppPortal",components:{LeftBar:_e,RightBar:Je,CalendarBlock:pt},computed:{store(){return(0,q.h)()},name(){let e=this.store;return e.user&&e.user.displayName?e.user.displayName.split(" ")[0]:"User"}},methods:{close_left_bar(){this.$refs.LeftBar.close_sidebar()},close_right_bar(){this.$refs.RightBar.close_sidebar()},placeholderToast:le.gy,show_test(e){let t=JSON.stringify({name:e.name,group:e.class_name,date:e.date.toLocaleDateString("en-US").replace("/","-"),description:e.description,links:e.links});this.$router.push({name:e.is_assignment?"assignment":"test",query:{test:t}})}}};const wt=(0,L.Z)(vt,[["render",h],["__scopeId","data-v-19ad507c"]]);var ft=wt}}]);
//# sourceMappingURL=578.60d8cae9.js.map